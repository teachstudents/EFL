<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Prep Hub: Exam Mode</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f4f8; }
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Highlight for Gap Fill Inputs */
        .gap-input:focus { outline: 2px solid #4f46e5; border-color: transparent; }
    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ==========================================
        // DATA: TEST CONTENT
        // ==========================================
        
        // --- TEST 1: URBAN PLANNING (Full Unique Content) ---
        const TEST_1_SCRIPT = [
            { speaker: "Dr. Anderson", text: "Come in, Tom, Jess. Have you had a chance to refine your proposal for the Urban Planning project?" },
            { speaker: "Tom", text: "Yes, Dr. Anderson. We've finally decided on a topic." },
            { speaker: "Jess", text: "It wasn't easy. Originally, we were dead set on looking at the new transport system, specifically the tram lines." },
            { speaker: "Tom", text: "Right, but when we looked for recent data, it was just too scattered. There wasn't enough to build a solid argument." },
            { speaker: "Jess", text: "Exactly. So, we switched to the impact of green spaces on mental health. It feels much more relevant given the recent initiatives by the city council." },
            { speaker: "Dr. Anderson", text: "An excellent choice. It is indeed a very topical issue. Now, regarding your methodology. How do you plan to gather your primary data?" },
            { speaker: "Tom", text: "Well, my first thought was to send out an online survey to local residents." },
            { speaker: "Jess", text: "I was against that, Tom. You know the response rate is usually terrible for those." },
            { speaker: "Tom", text: "That's true. And you can't really verify who is answering. It lacks reliability." },
            { speaker: "Jess", text: "So instead, we want to do face-to-face interviews in the parks themselves. We can observe the environment while we talk to people." },
            { speaker: "Dr. Anderson", text: "A much better approach. Just be mindful of the time it consumes. Now, moving to the literature review. You mentioned 'Source A' in your draft—the article by Professor Yip." },
            { speaker: "Jess", text: "Yes. I found his arguments quite compelling, although some critics say he is a bit biased against modern architecture." },
            { speaker: "Tom", text: "I didn't mind the tone. My issue was the numbers. The statistics he uses are from 2010. In urban development terms, that is ancient history." },
            { speaker: "Dr. Anderson", text: "It is dated, yes. But his theory on 'adaptable spaces' is still the industry standard. You should mention that adaptability is the key to longevity in design." },
            { speaker: "Jess", text: "I'll make a note of that. Longevity over cost saving. Got it." },
            { speaker: "Dr. Anderson", text: "Alright, let's look at the workload allocation. You need to be clear on who is doing what." },
            { speaker: "Jess", text: "I've already made a start on the literature review, reading through the journals, so I'm happy to finish writing that section." },
            { speaker: "Tom", text: "That works for me. I prefer the practical side anyway. I'll handle the survey design and the actual data collection in the parks." },
            { speaker: "Dr. Anderson", text: "And the final analysis?" },
            { speaker: "Jess", text: "We agreed we need to do that together. We can't split that up if we want to interpret the findings correctly." },
            { speaker: "Tom", text: "Absolutely. Two pairs of eyes are better than one." },
            { speaker: "Dr. Anderson", text: "Finally, for the presentation... make sure you define your terms. Last year, students failed because they didn't define 'density' clearly." },
            { speaker: "Jess", text: "Right. We will make sure 'density' is clearly explained in the introduction." },
            { speaker: "Dr. Anderson", text: "And remember, the submission deadline has been moved. It is the 15th of November, not the 30th. Don't get caught out." },
            { speaker: "Tom", text: "15th of November. Written down. Thanks, Dr. Anderson." }
        ];

        const TEST_1_QUESTIONS = [
            { id: 'h1', type: 'header', text: "Questions 21–24: Choose the correct letter." },
            { id: 21, type: 'mc', text: "Why did the students choose 'Green Spaces' as their topic?", options: ["A) It was assigned by the tutor", "B) Transport data was insufficient", "C) It relates to recent initiatives"], answer: "C" },
            { id: 22, type: 'mc', text: "Why did they reject online surveys?", options: ["A) They are too expensive", "B) The response rate is low", "C) They lack reliability"], answer: "C" },
            { id: 23, type: 'mc', text: "What does Tom criticize about 'Source A'?", options: ["A) The data is outdated", "B) The tone is too aggressive", "C) The author is biased"], answer: "A" },
            { id: 24, type: 'mc', text: "Dr. Anderson says 'adaptability' is key for:", options: ["A) Reducing costs", "B) Design longevity", "C) Construction speed"], answer: "B" },
            
            { id: 'h2', type: 'header', text: "Questions 25–27: Who said what? (A: Tom, B: Jess, C: Dr. Anderson)" },
            { id: 25, type: 'matching', text: "The literature review is already underway.", options: ["A", "B", "C"], answer: "B" },
            { id: 26, type: 'matching', text: "Data collection is preferred over writing.", options: ["A", "B", "C"], answer: "A" },
            { id: 27, type: 'matching', text: "Defining key terms like 'density' is crucial.", options: ["A", "B", "C"], answer: "C" },

            { id: 'h3', type: 'header', text: "Questions 28–30: Complete the sentences (Max 2 words)." },
            { id: 28, type: 'gap', text: "The students must work together on the final ______.", answer: "analysis" },
            { id: 29, type: 'gap', text: "Failure to define 'density' caused students to ______ last year.", answer: "fail" },
            { id: 30, type: 'gap', text: "The project deadline has been confirmed as the 15th of ______.", answer: "november" }
        ];

        // --- GENERIC CONTENT (Expanded to full 10 Questions) ---
        // Used for tests 2-6 to ensure they aren't empty
        const GENERIC_SCRIPT = [
            { speaker: "Tutor", text: "Welcome back. Today we need to finalize the methodology for your upcoming research project." },
            { speaker: "Student", text: "I've been thinking about that. Initially, I wanted to do a quantitative study using large datasets." },
            { speaker: "Tutor", text: "And why have you moved away from that idea?" },
            { speaker: "Student", text: "I realized that to understand the user experience, I really need qualitative data. Numbers won't tell me 'why' people feel a certain way." },
            { speaker: "Tutor", text: "That is a wise decision. Qualitative data is often richer. How many participants are you planning to interview?" },
            { speaker: "Student", text: "I was hoping for fifty, but given the timeframe, twenty seems more realistic." },
            { speaker: "Tutor", text: "Twenty is a good sample size for this level of study. Now, let's talk about ethics." },
            { speaker: "Student", text: "I've submitted the form. I'm just waiting for approval." },
            { speaker: "Tutor", text: "Good. You cannot start without it. Now, regarding your background reading. Have you looked at the 2019 study by Dr. Chen?" },
            { speaker: "Student", text: "I have. It was interesting, but I felt his conclusion was a bit weak. He didn't account for external variables." },
            { speaker: "Tutor", text: "I agree. The methodology was sound, but the conclusion was rushed. Make sure you critique that in your review." },
            { speaker: "Student", text: "Will do. I also wanted to ask about the software for data analysis." },
            { speaker: "Tutor", text: "The university provides NVivo. It is excellent for coding qualitative data." },
            { speaker: "Student", text: "Is there training for that?" },
            { speaker: "Tutor", text: "Yes, the library runs workshops every Wednesday. I suggest you book one." },
            { speaker: "Student", text: "Okay, Wednesday. I'll write that down." },
            { speaker: "Tutor", text: "Finally, the submission date. It has been extended by one week. It is now due on Friday the 24th." },
            { speaker: "Student", text: "Friday the 24th. That gives me extra time for proofreading. Thank you!" }
        ];
        
        const GENERIC_QUESTIONS = [
            // MCQs 21-24
            { id: 'h1', type: 'header', text: "Questions 21–24: Choose the correct letter." },
            { id: 21, type: 'mc', text: "Why did the student choose qualitative data?", options: ["A) It is easier to collect", "B) It explains 'why' users feel a certain way", "C) Quantitative data was unavailable"], answer: "B" },
            { id: 22, type: 'mc', text: "How many participants will be interviewed?", options: ["A) Fifty", "B) Twenty", "C) Ten"], answer: "B" },
            { id: 23, type: 'mc', text: "What is the student's criticism of Dr. Chen's study?", options: ["A) The conclusion was weak", "B) The methodology was flawed", "C) The sample size was too small"], answer: "A" },
            { id: 24, type: 'mc', text: "What software does the tutor recommend?", options: ["A) SPSS", "B) Excel", "C) NVivo"], answer: "C" },
            
            // Matching 25-27
            { id: 'h2', type: 'header', text: "Questions 25–27: Who is responsible? (A: Student, B: Tutor, C: Library)" },
            { id: 25, type: 'matching', text: "Submitting the ethics form.", options: ["A", "B", "C"], answer: "A" },
            { id: 26, type: 'matching', text: "Providing the analysis software.", options: ["A", "B", "C"], answer: "B" },
            { id: 27, type: 'matching', text: "Running training workshops.", options: ["A", "B", "C"], answer: "C" },

            // Gap Fill 28-30
            { id: 'h3', type: 'header', text: "Questions 28–30: Complete the sentences (Max 2 words)." },
            { id: 28, type: 'gap', text: "The student must critique the ______ in Dr. Chen's study.", answer: "conclusion" },
            { id: 29, type: 'gap', text: "Training workshops are held every ______.", answer: "wednesday" },
            { id: 30, type: 'gap', text: "The new submission deadline is Friday the ______.", answer: "24th" }
        ];

        const ALL_TESTS = [
            { id: 1, title: "Urban Research", icon: "fa-city", color: "indigo", script: TEST_1_SCRIPT, questions: TEST_1_QUESTIONS },
            { id: 2, title: "Oceanography", icon: "fa-water", color: "blue", script: GENERIC_SCRIPT, questions: GENERIC_QUESTIONS },
            { id: 3, title: "History Project", icon: "fa-landmark", color: "amber", script: GENERIC_SCRIPT, questions: GENERIC_QUESTIONS },
            { id: 4, title: "Marketing Case", icon: "fa-chart-line", color: "emerald", script: GENERIC_SCRIPT, questions: GENERIC_QUESTIONS },
            { id: 5, title: "Robot Engineering", icon: "fa-robot", color: "rose", script: GENERIC_SCRIPT, questions: GENERIC_QUESTIONS },
            { id: 6, title: "Biology Lab", icon: "fa-dna", color: "teal", script: GENERIC_SCRIPT, questions: GENERIC_QUESTIONS },
        ];

        const colorStyles = {
            indigo: { card: "bg-indigo-50 text-indigo-600 border-indigo-100 hover:border-indigo-300", icon: "bg-indigo-100", btn: "bg-indigo-600 hover:bg-indigo-700" },
            blue: { card: "bg-blue-50 text-blue-600 border-blue-100 hover:border-blue-300", icon: "bg-blue-100", btn: "bg-blue-600 hover:bg-blue-700" },
            amber: { card: "bg-amber-50 text-amber-600 border-amber-100 hover:border-amber-300", icon: "bg-amber-100", btn: "bg-amber-600 hover:bg-amber-700" },
            emerald: { card: "bg-emerald-50 text-emerald-600 border-emerald-100 hover:border-emerald-300", icon: "bg-emerald-100", btn: "bg-emerald-600 hover:bg-emerald-700" },
            rose: { card: "bg-rose-50 text-rose-600 border-rose-100 hover:border-rose-300", icon: "bg-rose-100", btn: "bg-rose-600 hover:bg-rose-700" },
            teal: { card: "bg-teal-50 text-teal-600 border-teal-100 hover:border-teal-300", icon: "bg-teal-100", btn: "bg-teal-600 hover:bg-teal-700" },
        };

        // ==========================================
        // COMPONENT: IELTS TEST INTERFACE
        // ==========================================
        const IeltsInterface = ({ activeTest, goBack }) => {
            const [isPlaying, setIsPlaying] = useState(false);
            const [currentLine, setCurrentLine] = useState(-1);
            const [userAnswers, setUserAnswers] = useState({});
            const [showResults, setShowResults] = useState(false);
            const [score, setScore] = useState(0);
            
            const synth = window.speechSynthesis;
            const isPlayingRef = useRef(false);
            const [voices, setVoices] = useState([]);
            const transcriptRef = useRef(null);
            const voiceAssignments = useRef({});

            useEffect(() => {
                const load = () => setVoices(synth.getVoices());
                load();
                if (speechSynthesis.onvoiceschanged !== undefined) speechSynthesis.onvoiceschanged = load;
                return () => synth.cancel();
            }, []);

            const getVoice = (speaker) => {
                if (voiceAssignments.current[speaker]) return voiceAssignments.current[speaker];
                let selected = null;
                // Prioritize Microsoft Voices
                if (speaker === "Jess") {
                    selected = voices.find(v => v.name.includes("Emma") && v.name.includes("Multilingual")) || 
                               voices.find(v => v.name.includes("Zira")) || voices.find(v => v.name.includes("Female"));
                } else if (speaker === "Tom" || speaker === "Student") {
                    selected = voices.find(v => v.name.includes("Brian") && v.name.includes("Multilingual")) || 
                               voices.find(v => v.name.includes("David")) || voices.find(v => v.name.includes("Male"));
                } else if (speaker.includes("Dr") || speaker === "Tutor") {
                    selected = voices.find(v => v.name.includes("Andrew") && v.name.includes("Multilingual")) || 
                               voices.find(v => v.name.includes("Mark")); 
                }
                if (selected) voiceAssignments.current[speaker] = selected;
                return selected || voices[0];
            };

            const scrollToLine = (index) => {
                if (transcriptRef.current) {
                    const element = document.getElementById(`line-${index}`);
                    if (element) {
                        element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
            };

            const playSequence = (index) => {
                if (!isPlayingRef.current || index >= activeTest.script.length) {
                    setIsPlaying(false);
                    isPlayingRef.current = false;
                    return;
                }
                setCurrentLine(index);
                scrollToLine(index);

                const line = activeTest.script[index];
                const utt = new SpeechSynthesisUtterance(line.text);
                const voice = getVoice(line.speaker);
                if (voice) utt.voice = voice;
                
                utt.rate = 1.0; // Normal Speed
                
                utt.onend = () => {
                    setTimeout(() => {
                        if (isPlayingRef.current) playSequence(index + 1);
                    }, 300);
                };
                synth.speak(utt);
            };

            const toggleAudio = () => {
                if (isPlaying) {
                    synth.cancel();
                    setIsPlaying(false);
                    isPlayingRef.current = false;
                } else {
                    setIsPlaying(true);
                    isPlayingRef.current = true;
                    playSequence(currentLine > -1 ? currentLine : 0);
                }
            };

            const submit = () => {
                let s = 0;
                activeTest.questions.forEach(q => {
                    if (q.type === 'header') return;
                    const userAns = (userAnswers[q.id] || "").trim().toLowerCase();
                    const correctAns = q.answer.toLowerCase();
                    if (userAns === correctAns) s++;
                });
                setScore(s);
                setShowResults(true);
            };

            return (
                <div className="flex flex-col h-screen bg-gray-100 fade-in">
                    {/* Header - Compact */}
                    <div className="h-14 bg-indigo-900 text-white flex items-center justify-between px-4 shrink-0 shadow-md z-20">
                        <button onClick={goBack} className="hover:text-indigo-200 font-bold flex items-center transition-colors text-sm">
                            <i className="fas fa-arrow-left mr-2"></i> Exit
                        </button>
                        <div className="font-bold text-base">{activeTest.title}</div>
                        <div className="w-16 text-right text-xs bg-indigo-800 px-2 py-1 rounded">Part 3</div>
                    </div>

                    {/* Main Content Area */}
                    <div className="flex-1 flex overflow-hidden relative">
                        
                        {/* QUESTIONS PANEL */}
                        <div className="flex-1 overflow-y-auto p-4 bg-white pb-32">
                            <div className="max-w-5xl mx-auto space-y-4">
                                
                                {activeTest.questions.map((q, idx) => {
                                    if (q.type === 'header') return <h3 key={idx} className="text-base font-bold text-indigo-800 uppercase tracking-wide border-b border-indigo-100 pb-1 mt-6">{q.text}</h3>;
                                    
                                    const isCorrect = showResults && (userAnswers[q.id] || "").toLowerCase() === q.answer.toLowerCase();
                                    const isWrong = showResults && !isCorrect;

                                    return (
                                        <div key={idx} className={`p-4 rounded-lg border-2 transition-all ${isCorrect ? 'border-green-500 bg-green-50' : isWrong ? 'border-red-500 bg-red-50' : 'border-gray-200 hover:border-indigo-300 bg-gray-50'}`}>
                                            
                                            {/* Question Text (Larger Font) */}
                                            <div className="flex justify-between items-start mb-3">
                                                <div className="font-bold text-gray-800 text-xl leading-snug flex-1">
                                                    <span className="text-indigo-600 mr-3 font-mono">{q.id}.</span>
                                                    {q.type === 'gap' ? (
                                                        <span>
                                                            {q.text.split('______')[0]}
                                                            <input 
                                                                type="text" 
                                                                disabled={showResults}
                                                                className="gap-input mx-2 w-40 border-b-2 border-gray-400 bg-transparent text-center font-mono text-indigo-800 focus:outline-none focus:border-indigo-600 text-lg font-bold"
                                                                value={userAnswers[q.id] || ''}
                                                                onChange={(e) => setUserAnswers({...userAnswers, [q.id]: e.target.value})}
                                                            />
                                                            {q.text.split('______')[1]}
                                                        </span>
                                                    ) : (
                                                        q.text
                                                    )}
                                                </div>
                                                {isCorrect && <i className="fas fa-check text-green-600 ml-2 text-xl"></i>}
                                                {isWrong && <i className="fas fa-times text-red-500 ml-2 text-xl"></i>}
                                            </div>

                                            {/* MCQ Options (Larger Font) */}
                                            {q.type === 'mc' && (
                                                <div className="space-y-3 ml-8">
                                                    {q.options.map(opt => (
                                                        <label key={opt} className="flex items-center cursor-pointer group p-2 rounded hover:bg-white border border-transparent hover:border-gray-200 transition-colors">
                                                            <div className={`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-3 shrink-0 ${userAnswers[q.id] === opt.charAt(0) ? 'border-indigo-600' : 'border-gray-400'}`}>
                                                                {userAnswers[q.id] === opt.charAt(0) && <div className="w-3 h-3 rounded-full bg-indigo-600"></div>}
                                                            </div>
                                                            <input type="radio" name={`q${q.id}`} value={opt.charAt(0)} className="hidden" 
                                                                disabled={showResults}
                                                                checked={userAnswers[q.id] === opt.charAt(0)}
                                                                onChange={() => setUserAnswers({...userAnswers, [q.id]: opt.charAt(0)})}
                                                            />
                                                            <span className="text-lg text-gray-700 font-medium">{opt}</span>
                                                        </label>
                                                    ))}
                                                </div>
                                            )}

                                            {/* Matching Options (Larger Font) */}
                                            {q.type === 'matching' && (
                                                <div className="flex gap-4 ml-8 mt-2">
                                                    {q.options.map(opt => (
                                                        <button key={opt} 
                                                            disabled={showResults}
                                                            onClick={() => setUserAnswers({...userAnswers, [q.id]: opt})}
                                                            className={`w-12 h-12 rounded-full text-lg font-bold border-2 transition-all ${userAnswers[q.id] === opt ? 'bg-indigo-600 text-white border-indigo-600 shadow-lg' : 'bg-white text-gray-600 border-gray-300 hover:border-indigo-400 hover:bg-indigo-50'}`}>
                                                            {opt}
                                                        </button>
                                                    ))}
                                                </div>
                                            )}

                                            {/* Correct Answer */}
                                            {showResults && !isCorrect && (
                                                <div className="mt-2 ml-8 text-sm font-bold text-red-600 bg-red-50 inline-block px-3 py-1 rounded">
                                                    Correct Answer: {q.answer}
                                                </div>
                                            )}
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    </div>

                    {/* TRANSCRIPT & AUDIO BAR (Fixed Bottom) */}
                    <div className="h-48 bg-white border-t-2 border-indigo-100 flex flex-col shadow-[0_-10px_30px_rgba(0,0,0,0.08)] z-30 relative">
                        
                        {/* Auto-Scrolling Transcript */}
                        <div className="flex-1 overflow-y-auto p-4 bg-gray-50 border-b" ref={transcriptRef}>
                            <div className="max-w-4xl mx-auto space-y-2">
                                <h4 className="text-[10px] font-bold text-gray-400 uppercase tracking-widest sticky top-0 bg-gray-50 py-1 w-full border-b border-gray-200 mb-2">Live Transcript</h4>
                                {activeTest.script.map((line, idx) => (
                                    <div key={idx} id={`line-${idx}`} className={`text-base p-2 rounded transition-all duration-300 ${currentLine === idx ? 'bg-yellow-100 border-l-4 border-yellow-500 shadow-sm text-gray-900' : 'text-gray-400 opacity-60'}`}>
                                        <span className={`font-bold mr-2 text-xs uppercase px-1.5 py-0.5 rounded ${line.speaker.includes('Dr') || line.speaker === 'Tutor' ? 'bg-red-100 text-red-700' : line.speaker === 'Jess' || line.speaker === 'Student' ? 'bg-green-100 text-green-700' : 'bg-blue-100 text-blue-700'}`}>{line.speaker}</span>
                                        {line.text}
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Player Controls */}
                        <div className="h-16 bg-white px-6 flex items-center justify-between shrink-0">
                            <div className="flex items-center gap-4">
                                <button onClick={toggleAudio} className={`w-12 h-12 rounded-full text-white flex items-center justify-center shadow-md hover:scale-105 transition-all ${isPlaying ? 'bg-rose-500' : 'bg-indigo-600'}`}>
                                    <i className={`fas ${isPlaying ? 'fa-pause' : 'fa-play pl-1'} text-lg`}></i>
                                </button>
                                <div>
                                    <div className="text-sm font-bold text-gray-800">Track 3.4</div>
                                    <div className="text-xs text-gray-500 font-mono">{isPlaying ? 'Playing (1.0x)...' : 'Paused'}</div>
                                </div>
                            </div>

                            {!showResults ? (
                                <button onClick={submit} className="bg-green-600 hover:bg-green-700 text-white px-8 py-2 rounded-lg font-bold text-base shadow transform transition hover:-translate-y-0.5">
                                    Submit Answers
                                </button>
                            ) : (
                                <div className="text-lg font-bold text-gray-800 bg-gray-100 px-6 py-2 rounded border border-gray-300">
                                    Score: <span className={score >= 5 ? 'text-green-600' : 'text-red-600'}>{score} / 10</span>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // ==========================================
        // MAIN APP CONTROLLER
        // ==========================================
        const App = () => {
            const [view, setView] = useState('landing');
            const [activeTestId, setActiveTestId] = useState(null);
            const [completedTests, setCompletedTests] = useState({}); 

            // Landing Page
            if (view === 'landing') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-slate-900 to-indigo-900 flex items-center justify-center p-4 fade-in">
                        <div className="bg-white rounded-2xl shadow-2xl p-8 md:p-12 max-w-lg w-full text-center relative overflow-hidden">
                            <div className="relative z-10">
                                <div className="inline-block p-4 rounded-full bg-indigo-50 text-indigo-600 text-4xl mb-6 shadow-sm">
                                    <i className="fas fa-headphones-alt"></i>
                                </div>
                                <button onClick={() => setView('menu')} className="bg-indigo-600 hover:bg-indigo-700 text-white text-lg font-bold py-3 px-8 rounded-xl shadow-lg transform transition hover:scale-105 hover:shadow-xl active:scale-95">
                                    Enter Exam Mode <i className="fas fa-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // Dashboard
            if (view === 'menu') {
                return (
                    <div className="min-h-screen bg-gray-50 p-4 md:p-8 fade-in">
                        <div className="max-w-6xl mx-auto">
                            <header className="mb-8 flex flex-col md:flex-row justify-between items-end">
                                <div>
                                    <button onClick={() => setView('landing')} className="text-gray-400 hover:text-indigo-600 text-xs font-bold mb-2 flex items-center transition-colors">
                                        <i className="fas fa-arrow-left mr-2"></i> Back to Home
                                    </button>
                                    <h1 className="text-3xl font-extrabold text-gray-900">Exam Library</h1>
                                </div>
                                <div className="bg-white px-6 py-2 rounded-xl shadow-sm border border-gray-200 mt-4 md:mt-0">
                                    <div className="text-[10px] font-bold text-gray-400 uppercase tracking-wider">Progress</div>
                                    <div className="text-xl font-bold text-indigo-600">{Object.keys(completedTests).length} <span className="text-gray-300 text-sm">/ 6 Tests</span></div>
                                </div>
                            </header>
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                {ALL_TESTS.map((test) => {
                                    const style = colorStyles[test.color] || colorStyles.indigo;
                                    return (
                                        <div key={test.id} onClick={() => { setActiveTestId(test.id); setView('test'); }}
                                            className={`group relative flex flex-col p-6 rounded-2xl border-2 border-transparent transition-all duration-300 cursor-pointer hover:-translate-y-1 hover:shadow-lg bg-white ${style.card}`}>
                                            <div className="flex justify-between items-start w-full mb-4">
                                                <div className={`w-12 h-12 rounded-xl flex items-center justify-center text-2xl shadow-sm ${style.icon}`}>
                                                    <i className={`fas ${test.icon}`}></i>
                                                </div>
                                                {completedTests[test.id] && <i className="fas fa-check-circle text-green-500 text-xl"></i>}
                                            </div>
                                            <h3 className="text-lg font-bold text-gray-800 mb-1 group-hover:text-indigo-800">{test.title}</h3>
                                            <p className="text-xs text-gray-500 font-medium mb-6">10 Questions • 5 Mins</p>
                                            <div className={`mt-auto py-2 px-4 rounded-lg text-center text-sm font-bold text-white transition-colors ${style.btn}`}>
                                                Start Test
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                );
            }

            // Test
            if (view === 'test' && activeTestId) {
                const activeTest = ALL_TESTS.find(t => t.id === activeTestId);
                return <IeltsInterface activeTest={activeTest} goBack={() => setView('menu')} />;
            }

            return null;
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
