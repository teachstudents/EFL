<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Audio Quizzes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .speaking {
            background-color: #dbeafe; /* A light blue highlight */
            border-radius: 3px;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div id="start-page" class="max-w-4xl mx-auto p-4 sm:p-6 md:p-8">
        <div class="bg-white rounded-xl shadow-lg p-8 text-center">
            <h1 class="text-3xl font-bold text-gray-900 mb-6">Audio Quizzes (61-90)</h1>
            <p class="text-gray-600 mb-8">Please select a quiz to begin.</p>
            <div id="quiz-menu" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Quiz buttons will be dynamically inserted here by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Quiz Template (used by JS to generate quiz pages) -->
    <div id="quiz-template" class="hidden">
        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
             <div class="p-6 border-b border-gray-200">
                <button class="back-btn font-semibold flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
                    </svg>
                    Back to Quizzes
                </button>
            </div>
            <!-- Audio Player Section -->
            <div class="p-6 border-b border-gray-200 bg-gray-50">
                <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
                    <div class="flex items-center gap-4">
                        <button class="playPauseBtn w-12 h-12 flex items-center justify-center rounded-full text-white transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 flex-shrink-0">
                            <svg class="playIcon w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.972l-11.54 6.347a1.125 1.125 0 01-1.667-.986V5.653z" /></svg>
                            <svg class="pauseIcon w-6 h-6 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25v13.5m-6-13.5v13.5" /></svg>
                        </button>
                        <div class="timer text-lg font-mono text-gray-700">00:00</div>
                    </div>
                </div>
            </div>
            <!-- Quiz Content -->
            <div class="p-6">
                <p class="quiz-instruction text-gray-600 mb-6"></p>
                <h2 class="quiz-title text-xl font-bold text-gray-900 mb-4"></h2>
                <div class="quiz-questions space-y-4 text-lg"></div>
            </div>
            <!-- Answer & Audioscript Section -->
            <div class="px-6 pb-6">
                <button class="toggleAnswerBtn w-full text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg focus:outline-none focus:ring-2 transition-colors">
                    <div class="flex justify-between items-center"><span class="font-semibold text-lg text-gray-800">Answer & Audioscript</span><svg class="chevronIcon w-6 h-6 transform transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg></div>
                </button>
                <div class="answerContent accordion-content mt-4">
                    <div class="answer-key p-6 rounded-lg border">
                        <h3 class="text-lg font-bold mb-4">Answers</h3>
                        <div class="answer-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-2"></div>
                    </div>
                    <div class="mt-6">
                        <h3 class="text-lg font-bold text-gray-900 mb-4">Audioscript</h3>
                        <div class="audioscriptText prose max-w-none text-gray-700 leading-relaxed"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const quizData = [
            // Quiz 61
            {
                instruction: "You will hear a travel agent talking about a holiday destination.",
                title: "Holiday in Greece",
                questions: `<p>The holiday is on the Greek island of (14) ……………….</p><p>The price includes flights and (15) ……………….</p><p>The hotel has a private (16) ……………….</p><p>You can try water sports like windsurfing and (17) ……………….</p><p>A trip to the ancient (18) ……………… is recommended.</p><p>The holiday is perfect for families and (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> Crete</p><p><span class="font-semibold">15</span> accommodation</p><p><span class="font-semibold">16</span> beach</p><p><span class="font-semibold">17</span> sailing</p><p><span class="font-semibold">18</span> ruins</p><p><span class="font-semibold">19</span> couples</p>`,
                audioscript: `<p>Are you dreaming of a sunny getaway? Let me tell you about our fantastic offer for a holiday on the beautiful Greek island of Crete. This amazing package includes return flights from London and seven nights' accommodation in a four-star hotel. The hotel is located right on the coast and has its own private beach, perfect for relaxing in the sun. For the more adventurous, you can try a range of water sports, including windsurfing and sailing. We also highly recommend taking a day trip to explore the island’s famous ancient ruins. This holiday is ideal for both families looking for fun and couples seeking a romantic escape. Book today!</p>`,
                theme: 'blue'
            },
            // Quiz 62
            {
                instruction: "You will hear a student talking about their favourite subject.",
                title: "Favourite Subject: Art",
                questions: `<p>The student’s favourite subject is (14) ……………….</p><p>She enjoys drawing and (15) ……………….</p><p>She likes using bright colours in her (16) ……………….</p><p>Her art teacher is very (17) ……………… and helpful.</p><p>The school is having an art (18) ……………… next month.</p><p>The student wants to be a (19) ……………… designer in the future.</p>`,
                answers: `<p><span class="font-semibold">14</span> art</p><p><span class="font-semibold">15</span> painting</p><p><span class="font-semibold">16</span> pictures</p><p><span class="font-semibold">17</span> encouraging</p><p><span class="font-semibold">18</span> exhibition</p><p><span class="font-semibold">19</span> fashion</p>`,
                audioscript: `<p>My favourite subject at school is definitely art. I just love being creative. I enjoy all kinds of art, but especially drawing and painting. I love experimenting with different materials and techniques. I particularly like using bright colours to create vibrant and cheerful pictures. Our art teacher, Miss Evans, is fantastic. She is always very encouraging and gives us great advice on how to improve our work. Next month, the school is holding an art exhibition to showcase some of the students’ best work. I’m hoping one of my paintings will be chosen. In the future, I’d love to have a creative career. My dream is to become a fashion designer.</p>`,
                theme: 'green'
            },
            // Quiz 63
            {
                instruction: "You will hear a radio announcement about a traffic problem.",
                title: "Traffic Announcement",
                questions: `<p>There is a traffic jam on the (14) ……………… motorway.</p><p>The problem is due to an (15) ……………… earlier this morning.</p><p>Drivers are facing long (16) ……………….</p><p>Police are advising people to find an alternative (17) ……………….</p><p>The road is expected to be closed for another two (18) ……………….</p><p>The weather is also poor, with heavy (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> M25</p><p><span class="font-semibold">15</span> accident</p><p><span class="font-semibold">16</span> delays</p><p><span class="font-semibold">17</span> route</p><p><span class="font-semibold">18</span> hours</p><p><span class="font-semibold">19</span> rain</p>`,
                audioscript: `<p>And now for a traffic update. Drivers should be aware of a major traffic jam on the M25 motorway this morning. The congestion is due to an accident that occurred earlier, involving two cars and a lorry. There are currently long delays of up to an hour. The police are at the scene and are advising all drivers to avoid the area if possible and find an alternative route. The road is likely to remain closed for at least another two hours while the vehicles are recovered. To make matters worse, the weather conditions are not good, with heavy rain making driving difficult. Please drive carefully.</p>`,
                theme: 'purple'
            },
            // Quiz 64
            {
                instruction: "You will hear a chef talking about making a perfect pizza.",
                title: "Perfect Pizza",
                questions: `<p>The most important part of a pizza is the (14) ……………….</p><p>The dough needs to be left to (15) ……………… for an hour.</p><p>For the topping, you should use fresh (16) ……………….</p><p>The chef’s favourite topping is pepperoni and (17) ……………….</p><p>The pizza should be cooked in a very hot (18) ……………….</p><p>It only takes about ten (19) ……………… to cook.</p>`,
                answers: `<p><span class="font-semibold">14</span> base</p><p><span class="font-semibold">15</span> rise</p><p><span class="font-semibold">16</span> tomatoes</p><p><span class="font-semibold">17</span> mushrooms</p><p><span class="font-semibold">18</span> oven</p><p><span class="font-semibold">19</span> minutes</p>`,
                audioscript: `<p>Hello, and welcome to my kitchen. Today, I’m going to share my secret for making the perfect pizza. For me, the most important part is the base. You need to make your own dough with good quality flour, water, yeast, and a little salt. Once you’ve mixed the dough, you must leave it in a warm place to rise for at least an hour. For the topping, a simple tomato sauce made with fresh, ripe tomatoes is the best. Then, you can add your favourite ingredients. My personal favourite is a classic combination of pepperoni and mushrooms. The final secret is to cook your pizza in a very hot oven. This makes the base lovely and crispy. It should only take about ten minutes to cook to perfection. Enjoy!</p>`,
                theme: 'yellow'
            },
            // Quiz 65
            {
                instruction: "You will hear a zookeeper talking about pandas.",
                title: "All About Pandas",
                questions: `<p>Pandas are a type of (14) ……………….</p><p>They come from the mountains of central (15) ……………….</p><p>Their diet mainly consists of (16) ……………….</p><p>They have to eat a lot because it is not very (17) ……………….</p><p>Pandas are an (18) ……………… species.</p><p>Zoos are helping to increase the panda (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> bear</p><p><span class="font-semibold">15</span> China</p><p><span class="font-semibold">16</span> bamboo</p><p><span class="font-semibold">17</span> nutritious</p><p><span class="font-semibold">18</span> endangered</p><p><span class="font-semibold">19</span> population</p>`,
                audioscript: `<p>Good morning everyone and welcome to the panda enclosure. Pandas are a type of bear, famous for their black and white coats. They are native to the mountain ranges of central China. As you can see, our pandas are enjoying their breakfast. Their diet almost entirely consists of a plant called bamboo. They have to eat a huge amount of it every day – up to 12 kilograms – because bamboo is not very nutritious, meaning it doesn’t give them much energy. Sadly, in the wild, pandas are an endangered species, which means there are not very many of them left. Here at the zoo, we are part of a special breeding programme which is helping to increase the world’s panda population.</p>`,
                theme: 'red'
            },
            // Quiz 66
            {
                instruction: "You will hear a student talking about moving to a new house.",
                title: "Moving House",
                questions: `<p>The family moved to a new house in a different (14) ……………….</p><p>The new house has a bigger (15) ……………… than the old one.</p><p>The student’s new bedroom has a great view of the (16) ……………….</p><p>The student was worried about changing (17) ……………….</p><p>She has already made some new (18) ……………….</p><p>On the weekend, they are going to explore the local (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> city</p><p><span class="font-semibold">15</span> garden</p><p><span class="font-semibold">16</span> park</p><p><span class="font-semibold">17</span> schools</p><p><span class="font-semibold">18</span> friends</p><p><span class="font-semibold">19</span> shops</p>`,
                audioscript: `<p>Last month, my family and I moved to a new house. It was a big change because we moved to a completely different city for my dad’s job. Our new house is lovely. It’s much more modern than our old one, and it has a bigger garden, which is great because I love being outdoors. My new bedroom is my favourite room. It’s painted blue and it has a great view of the park across the street. The hardest part about moving was changing schools. I was very nervous that I wouldn’t know anyone. But everyone has been really friendly, and I’ve already made some new friends. This weekend, my mum said we can go and explore the local shops in the town centre, which I’m really looking forward to.</p>`,
                theme: 'indigo'
            },
            // Quiz 67
            {
                instruction: "You will hear a radio announcement about a new museum.",
                title: "New Museum Opening",
                questions: `<p>The new museum is dedicated to the history of (14) ……………….</p><p>It is located in the old town (15) ……………….</p><p>The opening day is this (16) ……………….</p><p>There is a special exhibition about the first (17) ……………….</p><p>The museum has a café and a (18) ……………….</p><p>Admission is free for (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> transport</p><p><span class="font-semibold">15</span> hall</p><p><span class="font-semibold">16</span> Saturday</p><p><span class="font-semibold">17</span> cars</p><p><span class="font-semibold">18</span> gift shop</p><p><span class="font-semibold">19</span> children</p>`,
                audioscript: `<p>We have some exciting news for all history lovers. A brand new museum is opening in the city. The museum is dedicated to the history of transport. It is housed in the beautiful old town hall building, which has been empty for many years. The grand opening is this Saturday, and everyone is invited. As well as the permanent displays, there is a special temporary exhibition all about the very first cars. It’s fascinating to see how much they’ve changed. The museum also has a lovely café for refreshments and a gift shop selling books and souvenirs. The best news is that admission is completely free for all children under 16. Don’t miss it!</p>`,
                theme: 'pink'
            },
            // Quiz 68
            {
                instruction: "You will hear a fitness instructor talking about the benefits of exercise.",
                title: "Benefits of Exercise",
                questions: `<p>Regular exercise is good for your body and your (14) ……………….</p><p>It can help you to feel happier and less (15) ……………….</p><p>You should aim for 30 minutes of exercise, five (16) ……………… a week.</p><p>Walking, cycling, and (17) ……………… are all good forms of exercise.</p><p>It is important to find an activity that you (18) ……………….</p><p>You should always warm up before you start and cool down (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> mind</p><p><span class="font-semibold">15</span> stressed</p><p><span class="font-semibold">16</span> times</p><p><span class="font-semibold">17</span> swimming</p><p><span class="font-semibold">18</span> enjoy</p><p><span class="font-semibold">19</span> afterwards</p>`,
                audioscript: `<p>Hello, everyone. As a fitness instructor, I want to talk to you today about the amazing benefits of regular exercise. It’s not just good for your body, it’s also fantastic for your mind. It can improve your mood, making you feel happier and less stressed. The official recommendation is to aim for at least 30 minutes of moderate exercise, five times a week. This could be anything that gets your heart rate up. Brisk walking, cycling, and swimming are all excellent choices. The most important thing is to find an activity that you genuinely enjoy, as you’ll be much more likely to stick with it. And remember, it’s always important to warm up your muscles before you start and do some gentle stretches afterwards to cool down.</p>`,
                theme: 'gray'
            },
            // Quiz 69
            {
                instruction: "You will hear a boy leaving a message for his friend.",
                title: "Cinema Trip",
                questions: `<p>The boy wants to go to the (14) ……………… on Saturday.</p><p>He wants to see the new (15) ……………… film.</p><p>The film starts at (16) ……………… p.m.</p><p>He suggests meeting outside the cinema at (17) ……………… p.m.</p><p>After the film, they could get a (18) ……………….</p><p>The boy asks his friend to (19) ……………… him back.</p>`,
                answers: `<p><span class="font-semibold">14</span> cinema</p><p><span class="font-semibold">15</span> superhero</p><p><span class="font-semibold">16</span> 2:30</p><p><span class="font-semibold">17</span> 2:15</p><p><span class="font-semibold">18</span> burger</p><p><span class="font-semibold">19</span> call / phone</p>`,
                audioscript: `<p>Hi Ben, it’s Sam. I was just wondering if you wanted to go to the cinema this Saturday. There’s a new superhero film on that looks really good. I’ve checked the times online, and there’s a showing that starts at 2:30 p.m. We could meet outside the cinema at about 2:15 p.m. so we have time to get tickets and snacks. Maybe after the film we could go and get a burger or something. Let me know what you think. It would be great to see you. Give me a call back when you get this message. Bye!</p>`,
                theme: 'orange'
            },
            // Quiz 70
            {
                instruction: "You will hear a teacher talking about a school trip to a theatre.",
                title: "Theatre Trip",
                questions: `<p>The trip is to see a play called ‘The (14) ………………’.</p><p>The play is a (15) ……………….</p><p>The trip is on Wednesday, 22nd of (16) ……………….</p><p>The coach will leave from the school (17) ……………… at 6 p.m.</p><p>Students should wear their school (18) ……………….</p><p>The cost of the trip is £15, which includes an (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> Mousetrap</p><p><span class="font-semibold">15</span> mystery</p><p><span class="font-semibold">16</span> November</p><p><span class="font-semibold">17</span> car park</p><p><span class="font-semibold">18</span> uniform</p><p><span class="font-semibold">19</span> ice cream</p>`,
                audioscript: `<p>Okay, Year 10, listen carefully. I have some details about our upcoming school trip to the theatre. We are going to see the famous play, ‘The Mousetrap’. For those of you who don’t know, it’s a classic murder mystery, and it’s been running in London for years. The trip will be on the evening of Wednesday, the 22nd of November. A coach will be leaving from the school car park at 6 p.m. sharp, so please don’t be late. As this is a school trip, you will all need to wear your full school uniform. The total cost for the trip is fifteen pounds. This includes your theatre ticket and also an ice cream during the interval. Please bring your money to me by the end of this week.</p>`,
                theme: 'teal'
            },
            // Quiz 71
            {
                instruction: "You will hear a girl talking about her favourite season.",
                title: "My Favourite Season",
                questions: `<p>The girl’s favourite season is (14) ……………….</p><p>She loves it when the (15) ……………… start to change colour.</p><p>She enjoys walking in the (16) ……………….</p><p>She likes the feeling of the crisp, cool (17) ……………….</p><p>Her favourite autumn celebration is (18) ……………….</p><p>She enjoys drinking hot (19) ……………… to keep warm.</p>`,
                answers: `<p><span class="font-semibold">14</span> autumn</p><p><span class="font-semibold">15</span> leaves</p><p><span class="font-semibold">16</span> park</p><p><span class="font-semibold">17</span> air</p><p><span class="font-semibold">18</span> Halloween</p><p><span class="font-semibold">19</span> chocolate</p>`,
                audioscript: `<p>People often ask me what my favourite season is. For me, it’s definitely autumn. I just love it when the weather starts to get a bit cooler after the summer. The best part is when the leaves on the trees start to change colour, from green to beautiful shades of red, orange, and yellow. I love going for long walks in the park and hearing the leaves crunch under my feet. I also like the feeling of the crisp, cool air on my face. Of course, another great thing about autumn is Halloween. I love dressing up in a spooky costume and carving pumpkins. And when it gets a bit chilly in the evenings, there’s nothing better than curling up on the sofa with a warm mug of hot chocolate.</p>`,
                theme: 'cyan'
            },
            // Quiz 72
            {
                instruction: "You will hear a radio advertisement for a new smartphone.",
                title: "New Smartphone",
                questions: `<p>The new smartphone is called the ‘Galaxy (14) ………………’.</p><p>It has a large, high-resolution (15) ……………….</p><p>The camera has an amazing (16) ……………… megapixel sensor.</p><p>The battery can last for two (17) ……………… on a single charge.</p><p>It is available in three colours: black, white, and (18) ……………….</p><p>It is available from all good (19) ……………… stores.</p>`,
                answers: `<p><span class="font-semibold">14</span> X1</p><p><span class="font-semibold">15</span> screen</p><p><span class="font-semibold">16</span> 108</p><p><span class="font-semibold">17</span> days</p><p><span class="font-semibold">18</span> blue</p><p><span class="font-semibold">19</span> phone</p>`,
                audioscript: `<p>Are you ready for the next generation of mobile technology? Introducing the incredible new Galaxy X1 smartphone. It’s the phone you’ve been dreaming of. It features a stunning 6.7-inch, high-resolution screen, which is perfect for watching videos and playing games. Capture every moment in breathtaking detail with the amazing 108-megapixel main camera. And you’ll never have to worry about running out of power, thanks to the long-lasting battery that can go for up to two days on a single charge. The stylish new Galaxy X1 is available in three beautiful colours: classic black, brilliant white, and a stunning new ocean blue. Get yours today from all good phone stores.</p>`,
                theme: 'lime'
            },
            // Quiz 73
            {
                instruction: "You will hear a history teacher talking about the Romans.",
                title: "The Romans",
                questions: `<p>The Roman Empire existed over (14) ……………… years ago.</p><p>They were famous for their well-trained (15) ……………….</p><p>They built long, straight (16) ……………… to connect their empire.</p><p>They also built aqueducts to carry (17) ……………… to their cities.</p><p>The Romans spoke (18) ……………….</p><p>Many English words come from this (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> 2000 / two thousand</p><p><span class="font-semibold">15</span> army</p><p><span class="font-semibold">16</span> roads</p><p><span class="font-semibold">17</span> water</p><p><span class="font-semibold">18</span> Latin</p><p><span class="font-semibold">19</span> language</p>`,
                audioscript: `<p>Today, we’re going to learn about the Romans. The Roman Empire was one of the most powerful empires in history, which existed over 2000 years ago. The Romans were known for their powerful and well-trained army, which conquered many lands. They were also incredible engineers. They built a huge network of long, straight roads to connect all the different parts of their empire. Some of these roads still exist today. They also built clever structures called aqueducts to carry fresh water to their towns and cities. The language spoken by the Romans was called Latin. It’s a very important language, as many modern English words originally come from this ancient language.</p>`,
                theme: 'rose'
            },
            // Quiz 74
            {
                instruction: "You will hear a boy talking about his hobby, playing chess.",
                title: "Playing Chess",
                questions: `<p>The boy’s hobby is playing (14) ……………….</p><p>He was taught how to play by his (15) ……………….</p><p>He says it is a game of (16) ……………….</p><p>He is a member of the school chess (17) ……………….</p><p>The club meets every (18) ……………… lunchtime.</p><p>Last year, he won a (19) ……………… in a competition.</p>`,
                answers: `<p><span class="font-semibold">14</span> chess</p><p><span class="font-semibold">15</span> grandfather</p><p><span class="font-semibold">16</span> strategy</p><p><span class="font-semibold">17</span> club</p><p><span class="font-semibold">18</span> Wednesday</p><p><span class="font-semibold">19</span> trophy</p>`,
                audioscript: `<p>My favourite hobby is playing chess. It’s a brilliant game. I learned how to play a few years ago. My grandfather taught me. He’s a very good player. Chess isn’t a game of luck; it’s a game of strategy. You have to think very carefully about all your moves and plan ahead. I’m a member of the chess club at my school. We meet every Wednesday lunchtime in the library to play games against each other. It’s great fun. I’ve improved a lot since I joined. Last year, I even took part in a national chess competition for schools. I didn’t win the whole competition, but I did win a small trophy for being the best player in my age group.</p>`,
                theme: 'fuchsia'
            },
            // Quiz 75
            {
                instruction: "You will hear a radio announcement about a local food festival.",
                title: "Food Festival",
                questions: `<p>The food festival is taking place this (14) ……………….</p><p>It is being held in the gardens of the old (15) ……………….</p><p>There will be food from many different (16) ……………….</p><p>There will be cooking (17) ……………… from local chefs.</p><p>For children, there is a special (18) ……………… competition.</p><p>The event is raising money for a local (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> weekend</p><p><span class="font-semibold">15</span> castle</p><p><span class="font-semibold">16</span> countries</p><p><span class="font-semibold">17</span> demonstrations</p><p><span class="font-semibold">18</span> baking</p><p><span class="font-semibold">19</span> charity</p>`,
                audioscript: `<p>Food lovers, don’t miss the annual town food festival, taking place this weekend. This year, the festival is being held in the beautiful gardens of the old castle. It’s the perfect setting to enjoy some delicious food. There will be stalls offering tasty dishes from many different countries, so you can take a trip around the world with your taste buds. There will also be cooking demonstrations from some of our best local chefs, who will be sharing their tips and secrets. For our younger visitors, there’s a special children’s baking competition. The whole event is organised to raise money for a local food bank charity. Come along and support a great cause.</p>`,
                theme: 'violet'
            },
            // Quiz 76
            {
                instruction: "You will hear a student giving a presentation about recycling.",
                title: "Recycling Presentation",
                questions: `<p>Recycling helps to protect the (14) ……………….</p><p>It saves energy and natural (15) ……………….</p><p>Paper, glass, and (16) ……………… can all be recycled.</p><p>Food waste can be turned into (17) ……………… for the garden.</p><p>It is important to (18) ……………… your recycling before putting it in the bin.</p><p>The student suggests buying products made from (19) ……………… materials.</p>`,
                answers: `<p><span class="font-semibold">14</span> environment</p><p><span class="font-semibold">15</span> resources</p><p><span class="font-semibold">16</span> plastic</p><p><span class="font-semibold">17</span> compost</p><p><span class="font-semibold">18</span> wash</p><p><span class="font-semibold">19</span> recycled</p>`,
                audioscript: `<p>Good morning. My presentation today is about the importance of recycling. Recycling is one of the easiest ways we can help to protect the environment. When we recycle, we save energy and conserve our precious natural resources like trees and oil. Many everyday items can be recycled, including paper, cardboard, glass bottles and jars, and most types of plastic. Even your food waste can be recycled. You can put it in a special bin to be turned into compost, which is great for feeding the plants in your garden. It’s really important to remember to wash your recycling before you put it in the bin to remove any food. Another great way to help is to buy products that are made from recycled materials.</p>`,
                theme: 'amber'
            },
            // Quiz 77
            {
                instruction: "You will hear a message on a telephone answering machine.",
                title: "Dentist Appointment",
                questions: `<p>The message is from the City (14) ……………… Practice.</p><p>It is a reminder about an appointment for (15) ……………….</p><p>The appointment is on Friday at (16) ……………… a.m.</p><p>If the person cannot attend, they should (17) ……………… the practice.</p><p>They must give at least 24 (18) ……………… notice.</p><p>The practice is located next to the (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> Dental</p><p><span class="font-semibold">15</span> John Smith</p><p><span class="font-semibold">16</span> 11:30</p><p><span class="font-semibold">17</span> call / phone</p><p><span class="font-semibold">18</span> hours</p><p><span class="font-semibold">19</span> library</p>`,
                audioscript: `<p>Hello, this is a message from the City Dental Practice. This is a courtesy reminder of an appointment for John Smith for a check-up. The appointment is scheduled for this Friday, the 24th of March, at 11:30 a.m. If you are unable to attend this appointment for any reason, please call the practice as soon as possible to let us know. We do require at least 24 hours’ notice for any cancellations, otherwise a fee may be charged. Our practice is located on the High Street, right next to the main library. We look forward to seeing you then. Thank you.</p>`,
                theme: 'emerald'
            },
            // Quiz 78
            {
                instruction: "You will hear a tour guide on a bus tour of a city.",
                title: "City Bus Tour",
                questions: `<p>On the left, you can see the famous (14) ……………….</p><p>It was built over 500 (15) ……………… ago.</p><p>The bus will cross the (16) ……………… next.</p><p>From the bridge, there is a great view of the new (17) ……………….</p><p>The next stop is the National (18) ……………….</p><p>The bus tour will finish at the (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> cathedral</p><p><span class="font-semibold">15</span> years</p><p><span class="font-semibold">16</span> river</p><p><span class="font-semibold">17</span> stadium</p><p><span class="font-semibold">18</span> Museum</p><p><span class="font-semibold">19</span> castle</p>`,
                audioscript: `<p>Welcome aboard our city bus tour. If you look to your left, you will see the famous city cathedral. It’s a magnificent building that was built over 500 years ago. In a few moments, we will be crossing the river. From the bridge, you’ll get a great view of the new football stadium on your right. Our next stop will be the National Museum, which is home to many wonderful treasures. We will be stopping there for twenty minutes, so you can get off and take some photos if you wish. After the museum, we will continue our tour, finishing at the historic city castle. I hope you all enjoy the tour.</p>`,
                theme: 'sky'
            },
            // Quiz 79
            {
                instruction: "You will hear a woman talking about her favourite film.",
                title: "Favourite Film",
                questions: `<p>The woman’s favourite film is called ‘The (14) ………………’.</p><p>It is a (15) ……………… comedy.</p><p>The story is about two (16) ……………… who go on an adventure.</p><p>The film is very funny and also very (17) ……………….</p><p>The woman has seen the film at least (18) ……………… times.</p><p>She loves the (19) ……………… at the end of the film.</p>`,
                answers: `<p><span class="font-semibold">14</span> Holiday</p><p><span class="font-semibold">15</span> romantic</p><p><span class="font-semibold">16</span> women</p><p><span class="font-semibold">17</span> emotional</p><p><span class="font-semibold">18</span> ten</p><p><span class="font-semibold">19</span> music</p>`,
                audioscript: `<p>I’ve been asked to talk about my favourite film. It was a difficult choice, but I think I have to choose a film called ‘The Holiday’. It’s a romantic comedy, and it always makes me feel happy. The story is about two women, one from England and one from America, who are fed up with their lives and decide to swap houses for Christmas. It’s a very funny film, with lots of great jokes, but it’s also very emotional and heartwarming. I’ve probably seen it at least ten times, but I never get tired of it. I especially love the music at the end of the film; it’s so beautiful and uplifting. If you haven’t seen it, I really recommend it.</p>`,
                theme: 'red'
            },
            // Quiz 80
            {
                instruction: "You will hear a man giving directions to his house.",
                title: "Directions",
                questions: `<p>From the station, go straight on until you reach the (14) ……………….</p><p>At the traffic lights, turn (15) ……………….</p><p>Go past the (16) ……………… on your left.</p><p>Take the second turning on the (17) ……………….</p><p>His house is number (18) ……………….</p><p>It is opposite a big (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> traffic lights</p><p><span class="font-semibold">15</span> right</p><p><span class="font-semibold">16</span> supermarket</p><p><span class="font-semibold">17</span> right</p><p><span class="font-semibold">18</span> 23</p><p><span class="font-semibold">19</span> park</p>`,
                audioscript: `<p>Hi, it’s me. Just giving you directions to my new house. It’s really easy to find. When you come out of the train station, just go straight on down the main road until you get to the traffic lights. You need to turn right there. Keep going along that road for a little way. You’ll go past a big supermarket on your left. After that, you need to take the second turning on your right. That’s my street. My house is number 23. You can’t miss it; it’s the one with the blue door, and it’s right opposite a big park. See you soon!</p>`,
                theme: 'blue'
            },
            // Quiz 81
            {
                instruction: "You will hear a student talking about a recent holiday.",
                title: "Holiday in Italy",
                questions: `<p>The student went to (14) ……………… for her holiday.</p><p>She went with her (15) ……………….</p><p>They stayed in a small hotel near the (16) ……………….</p><p>The weather was (17) ……………… and sunny every day.</p><p>She particularly enjoyed the Italian (18) ……………….</p><p>She bought a lot of (19) ……………… to bring home.</p>`,
                answers: `<p><span class="font-semibold">14</span> Italy</p><p><span class="font-semibold">15</span> family</p><p><span class="font-semibold">16</span> sea</p><p><span class="font-semibold">17</span> hot</p><p><span class="font-semibold">18</span> food</p><p><span class="font-semibold">19</span> souvenirs</p>`,
                audioscript: `<p>Last summer, I went on holiday to Italy with my family. It was an amazing trip. We stayed for two weeks in a lovely little hotel right near the sea. The weather was perfect – hot and sunny every single day. We spent a lot of time relaxing on the beach and swimming in the clear blue water. One of the best things about the holiday was the Italian food. It was absolutely delicious! I think I ate pizza and pasta every day. I also loved the ice cream. Before we came home, I went shopping and bought a lot of souvenirs for my friends, including some beautiful glass jewellery.</p>`,
                theme: 'green'
            },
            // Quiz 82
            {
                instruction: "You will hear a teacher giving instructions for a science experiment.",
                title: "Science Experiment",
                questions: `<p>The experiment is to make a simple (14) ……………….</p><p>First, you need to fill a glass with (15) ……………….</p><p>Next, you add two drops of food (16) ……………….</p><p>Then, you need to (17) ……………… the mixture carefully.</p><p>You should see the colours start to (18) ……………….</p><p>The teacher reminds students to wear their safety (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> volcano</p><p><span class="font-semibold">15</span> vinegar</p><p><span class="font-semibold">16</span> colouring</p><p><span class="font-semibold">17</span> stir</p><p><span class="font-semibold">18</span> bubble</p><p><span class="font-semibold">19</span> goggles</p>`,
                audioscript: `<p>Okay class, today we’re going to do a fun science experiment. We’re going to make a simple volcano. First, you need to take your glass beaker and carefully fill it about halfway with vinegar. Next, add two drops of red food colouring to the vinegar. Then, you need to stir the mixture very carefully with the glass rod. Now for the exciting part. Add a teaspoon of baking soda. You should see the mixture start to bubble and fizz, just like a real volcano erupting! And please remember, safety first. You must all be wearing your safety goggles throughout the experiment.</p>`,
                theme: 'purple'
            },
            // Quiz 83
            {
                instruction: "You will hear a radio advertisement for a new car.",
                title: "New Car Advert",
                questions: `<p>The car is called the ‘Eco-(14) ………………’.</p><p>It is an (15) ……………… car.</p><p>It is very quiet and good for the (16) ……………….</p><p>It can travel 300 miles on a single (17) ……………….</p><p>It has a large touchscreen (18) ……………… on the dashboard.</p><p>You can book a (19) ……………… on the company’s website.</p>`,
                answers: `<p><span class="font-semibold">14</span> 5</p><p><span class="font-semibold">15</span> electric</p><p><span class="font-semibold">16</span> environment</p><p><span class="font-semibold">17</span> charge</p><p><span class="font-semibold">18</span> display</p><p><span class="font-semibold">19</span> test drive</p>`,
                audioscript: `<p>Are you looking for a car that’s stylish, modern, and kind to the planet? Then look no further than the new Eco-5. This is not just any car; it’s a fully electric car, which means it produces zero emissions. It’s incredibly quiet to drive and much better for the environment than a traditional petrol car. The Eco-5 has an impressive range, and can travel up to 300 miles on a single charge. Inside, it’s packed with the latest technology, including a large touchscreen display on the dashboard for navigation and entertainment. Experience the future of driving. Visit our website today to book your test drive.</p>`,
                theme: 'yellow'
            },
            // Quiz 84
            {
                instruction: "You will hear a student talking about their weekend.",
                title: "My Weekend",
                questions: `<p>On Saturday morning, the student went (14) ……………… with her mum.</p><p>In the afternoon, she did her (15) ……………….</p><p>In the evening, she watched a (16) ……………… with her family.</p><p>On Sunday, she went to the (17) ……………… with her friend.</p><p>They went for a walk and had an (18) ……………….</p><p>She thinks weekends are too (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> shopping</p><p><span class="font-semibold">15</span> homework</p><p><span class="font-semibold">16</span> film / movie</p><p><span class="font-semibold">17</span> park</p><p><span class="font-semibold">18</span> ice cream</p><p><span class="font-semibold">19</span> short</p>`,
                audioscript: `<p>I had a really nice weekend. On Saturday morning, I went shopping with my mum in the town centre. I bought a new top. In the afternoon, I had to do my homework, which wasn’t so much fun, but I managed to get it all finished. In the evening, my family and I all watched a film together. It was a comedy and it was very funny. On Sunday, the weather was lovely, so I went to the park with my best friend, Chloe. We went for a long walk and then we got an ice cream. It was a really relaxing day. I always feel like weekends are too short. I wish they were longer!</p>`,
                theme: 'red'
            },
            // Quiz 85
            {
                instruction: "You will hear a music teacher talking about different types of instruments.",
                title: "Musical Instruments",
                questions: `<p>The piano and guitar are (14) ……………… instruments.</p><p>The violin and cello are part of the (15) ……………… family.</p><p>The flute and clarinet are known as (16) ……………… instruments.</p><p>The trumpet and trombone are made of (17) ……………….</p><p>Drums and cymbals are types of (18) ……………… instrument.</p><p>The teacher encourages students to join the school (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> string</p><p><span class="font-semibold">15</span> string</p><p><span class="font-semibold">16</span> woodwind</p><p><span class="font-semibold">17</span> brass</p><p><span class="font-semibold">18</span> percussion</p><p><span class="font-semibold">19</span> orchestra</p>`,
                audioscript: `<p>Hello, musicians. In today’s lesson, we’re going to talk about the different families of musical instruments. First, we have the string instruments, which make a sound when you pluck or bow their strings. Examples include the piano and the guitar. The violin and cello are also part of the string family. Next, we have the woodwind family, like the flute and the clarinet. These instruments are played by blowing air across a reed or a hole. The brass family includes instruments like the trumpet and trombone, which are made of metal. Finally, we have the percussion instruments, which you hit to make a sound, like drums and cymbals. I encourage all of you to think about which instrument you’d like to play and join our school orchestra!</p>`,
                theme: 'indigo'
            },
            // Quiz 86
            {
                instruction: "You will hear a boy talking about his pet dog.",
                title: "My Pet Dog",
                questions: `<p>The dog’s name is (14) ……………….</p><p>He is a golden (15) ……………….</p><p>His favourite toy is a red (16) ……………….</p><p>They go for a long walk in the (17) ……………… every day.</p><p>The dog is very friendly and loves meeting other (18) ……………….</p><p>At night, he sleeps in his bed in the (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> Buddy</p><p><span class="font-semibold">15</span> retriever</p><p><span class="font-semibold">16</span> ball</p><p><span class="font-semibold">17</span> park</p><p><span class="font-semibold">18</span> dogs</p><p><span class="font-semibold">19</span> kitchen</p>`,
                audioscript: `<p>I want to tell you about my pet dog. His name is Buddy, and he’s a golden retriever. He’s two years old and he’s the best dog in the world. He’s very playful and has lots of energy. His favourite toy is a squeaky red ball, which he loves to chase. We go for a long walk in the park every day, whatever the weather. He loves running around and sniffing everything. Buddy is very friendly and gets very excited when he sees other dogs. He always wants to play with them. In the evenings, he gets very sleepy. He has a comfy bed in the kitchen where he sleeps at night. I love having a dog.</p>`,
                theme: 'pink'
            },
            // Quiz 87
            {
                instruction: "You will hear a radio announcement about a photography competition.",
                title: "Photography Competition",
                questions: `<p>The theme of the competition is ‘Our (14) ………………’.</p><p>The competition is open to anyone under the age of (15) ……………….</p><p>The top prize is a new (16) ……………….</p><p>The winning photos will be displayed in the town (17) ……………….</p><p>The closing date for entries is the 31st of (18) ……………….</p><p>You can find more information on the council’s (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> Town</p><p><span class="font-semibold">15</span> 18 / eighteen</p><p><span class="font-semibold">16</span> camera</p><p><span class="font-semibold">17</span> gallery</p><p><span class="font-semibold">18</span> August</p><p><span class="font-semibold">19</span> website</p>`,
                audioscript: `<p>Calling all young photographers! The annual town photography competition is now open for entries. The theme for this year’s competition is ‘Our Town’. We want you to capture the people, places, and spirit of our wonderful community. The competition is open to all young people under the age of 18. There are some fantastic prizes to be won. The top prize is a brand new digital camera. A selection of the best photographs will also be displayed in a special exhibition at the town art gallery. The closing date for all entries is the 31st of August. For full details on how to enter, please visit the town council’s website. Good luck!</p>`,
                theme: 'gray'
            },
            // Quiz 88
            {
                instruction: "You will hear a woman giving a review of a restaurant.",
                title: "Restaurant Review",
                questions: `<p>The restaurant is called ‘The (14) ………………’.</p><p>It serves modern (15) ……………… food.</p><p>The reviewer visited with her (16) ……………….</p><p>She thought the food was delicious and beautifully (17) ……………….</p><p>The staff were very friendly and (18) ……………….</p><p>She says the restaurant is expensive but worth it for a special (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> Olive Tree</p><p><span class="font-semibold">15</span> European</p><p><span class="font-semibold">16</span> husband</p><p><span class="font-semibold">17</span> presented</p><p><span class="font-semibold">18</span> attentive</p><p><span class="font-semibold">19</span> occasion</p>`,
                audioscript: `<p>Last night, I visited a new restaurant called ‘The Olive Tree’. It’s just opened in the city centre and serves modern European food. I went with my husband for our anniversary. The restaurant itself is beautifully decorated, with a very elegant atmosphere. The food was absolutely delicious. I had the fish, which was cooked perfectly, and my husband had the steak. Everything was so fresh and beautifully presented. The service was excellent too. The staff were very friendly and attentive without being intrusive. It is quite an expensive restaurant, so it’s not for every day, but I would highly recommend it for a special occasion. We will definitely be going back.</p>`,
                theme: 'orange'
            },
            // Quiz 89
            {
                instruction: "You will hear a boy talking about his plans for the future.",
                title: "Future Plans",
                questions: `<p>The boy is currently studying for his (14) ……………….</p><p>After he finishes school, he wants to go to (15) ……………….</p><p>He wants to study (16) ……………….</p><p>He is interested in designing computer (17) ……………….</p><p>He thinks it would be a very (18) ……………… job.</p><p>His dream is to work for a big (19) ……………… company.</p>`,
                answers: `<p><span class="font-semibold">14</span> exams</p><p><span class="font-semibold">15</span> university</p><p><span class="font-semibold">16</span> computer science</p><p><span class="font-semibold">17</span> games</p><p><span class="font-semibold">18</span> creative</p><p><span class="font-semibold">19</span> technology</p>`,
                audioscript: `<p>At the moment, I’m very busy studying for my school exams. They are very important for my future. After I finish school, my plan is to go to university. I’ve always been fascinated by computers, so I want to study computer science. I think it’s a really interesting subject with lots of different career opportunities. I’m particularly interested in designing computer games. I play a lot of games myself, and I think it would be a very creative and rewarding job to be involved in making them. My ultimate dream would be to get a job working for one of the big technology companies, maybe in America or Japan. It would be an amazing experience.</p>`,
                theme: 'teal'
            },
            // Quiz 90
            {
                instruction: "You will hear a station announcement about a platform alteration.",
                title: "Platform Alteration",
                questions: `<p>The announcement is for passengers travelling to (14) ……………….</p><p>The train was due to depart from platform (15) ……………….</p><p>It will now depart from platform (16) ……………….</p><p>This is due to a late-running (17) ……………… service.</p><p>Passengers should cross the footbridge to the other (18) ……………….</p><p>The train is expected to depart on (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> Manchester</p><p><span class="font-semibold">15</span> 3 / three</p><p><span class="font-semibold">16</span> 7 / seven</p><p><span class="font-semibold">17</span> freight</p><p><span class="font-semibold">18</span> platform</p><p><span class="font-semibold">19</span> time</p>`,
                audioscript: `<p>May I have your attention please on platform 3. This is a platform alteration. The 14:05 service to Manchester Piccadilly, which was due to depart from platform 3, will now depart from platform 7. I repeat, the 14:05 to Manchester will now leave from platform 7. This is due to a late-running freight service which is currently occupying platform 3. Passengers for Manchester should please cross the footbridge to the other platform. The train is waiting at platform 7 and is expected to depart on time. We apologize for the change and for any inconvenience caused.</p>`,
                theme: 'cyan'
            }
        ];

        const startPage = document.getElementById('start-page');
        const quizMenu = document.getElementById('quiz-menu');
        const quizTemplate = document.getElementById('quiz-template');

        // --- Generate Menu and Quiz Containers ---
        quizData.forEach((data, index) => {
            const quizId = index + 1; // Internal ID for elements (1-30)
            const quizDisplayNum = index + 61; // Number to show the user (61-90)
            const theme = data.theme;

            // Create Menu Button
            const button = document.createElement('button');
            button.dataset.quiz = quizId;
            button.className = `quiz-select-btn text-left p-6 bg-${theme}-50 hover:bg-${theme}-100 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-${theme}-500`;
            button.innerHTML = `<h2 class="text-xl font-bold text-${theme}-800 mb-2">Quiz ${quizDisplayNum}: ${data.title}</h2><p class="text-${theme}-700">${data.instruction.substring(0,60)}...</p>`;
            quizMenu.appendChild(button);

            // Create Quiz Page from Template
            const newQuiz = quizTemplate.cloneNode(true);
            newQuiz.id = `quiz-container-${quizId}`;
            newQuiz.classList.remove('hidden'); // Make the cloned quiz visible within its wrapper
            
            const container = document.createElement('div');
            container.id = `quiz-wrapper-${quizId}`;
            container.className = 'hidden max-w-4xl mx-auto p-4 sm:p-6 md:p-8';
            container.appendChild(newQuiz);
            document.body.appendChild(container);

            // Populate content
            newQuiz.querySelector('.quiz-instruction').textContent = data.instruction;
            newQuiz.querySelector('.quiz-title').textContent = `Quiz ${quizDisplayNum}: ${data.title}`;
            newQuiz.querySelector('.quiz-questions').innerHTML = data.questions;
            newQuiz.querySelector('.answer-grid').innerHTML = data.answers;
            newQuiz.querySelector('.audioscriptText').innerHTML = data.audioscript;

            // Apply theme colors
            newQuiz.querySelector('.back-btn').classList.add(`text-${theme}-600`, `hover:text-${theme}-800`);
            const playBtn = newQuiz.querySelector('.playPauseBtn');
            playBtn.classList.add(`bg-${theme}-500`, `hover:bg-${theme}-600`, `focus:ring-${theme}-500`);
            const answerKey = newQuiz.querySelector('.answer-key');
            answerKey.classList.add(`bg-${theme}-50`, `border-${theme}-200`);
            answerKey.querySelector('h3').classList.add(`text-${theme}-800`);
            answerKey.querySelector('.answer-grid').classList.add(`text-${theme}-700`);
            newQuiz.querySelector('.toggleAnswerBtn').classList.add(`focus:ring-${theme}-500`);
        });
        quizTemplate.remove();


        const quizContainers = document.querySelectorAll('[id^="quiz-wrapper-"]');
        const quizSelectBtns = document.querySelectorAll('.quiz-select-btn');
        
        // --- Navigation ---
        quizSelectBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const quizId = btn.getAttribute('data-quiz');
                startPage.classList.add('hidden');
                document.getElementById(`quiz-wrapper-${quizId}`).classList.remove('hidden');
            });
        });

        document.querySelectorAll('.back-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                speechSynthesis.cancel();
                btn.closest('[id^="quiz-wrapper-"]').classList.add('hidden');
                startPage.classList.remove('hidden');
            });
        });

        // --- TTS Setup ---
        if (!('speechSynthesis' in window)) {
            const modal = document.createElement('div');
            modal.innerHTML = `<div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 1000;"><div style="background: white; padding: 2rem; border-radius: 0.5rem; text-align: center;"><p>Sorry, your browser doesn't support text-to-speech.</p><button onclick="this.parentElement.parentElement.remove()" style="margin-top: 1rem; padding: 0.5rem 1rem; border-radius: 0.25rem; background: #333; color: white;">Close</button></div></div>`;
            document.body.appendChild(modal);
            return;
        }

        const initQuiz = (quizId, quizDisplayNum) => {
            const container = document.getElementById(`quiz-wrapper-${quizId}`);
            if (!container) return;

            const playPauseBtn = container.querySelector('.playPauseBtn');
            const playIcon = container.querySelector('.playIcon');
            const pauseIcon = container.querySelector('.pauseIcon');
            const timerEl = container.querySelector('.timer');
            const toggleAnswerBtn = container.querySelector('.toggleAnswerBtn');
            const answerContent = container.querySelector('.answerContent');
            const chevronIcon = container.querySelector('.chevronIcon');
            const audioscriptTextEl = container.querySelector('.audioscriptText');

            let utterance = new SpeechSynthesisUtterance();
            let timerInterval;
            let seconds = 0;
            let words = [];
            let charIndexToWordMap = {};

            function prepareAudioscript() {
                const originalText = audioscriptTextEl.innerText;
                utterance.text = originalText;
                let charCount = 0;
                audioscriptTextEl.querySelectorAll('p').forEach(p => {
                    let pText = p.innerText;
                    let pWords = pText.split(/\s+/);
                    let phtml = '';
                    pWords.forEach(word => {
                        if (word.trim() === '') return;
                        const wordId = `word-${quizId}-${words.length}`;
                        words.push({ id: wordId, text: word });
                        charIndexToWordMap[charCount] = words.length - 1;
                        phtml += `<span id="${wordId}">${word}</span> `;
                        charCount += word.length + 1;
                    });
                    p.innerHTML = phtml.trim();
                });
            }

            function loadVoices() {
                let allVoices = speechSynthesis.getVoices();
                if (allVoices.length === 0) {
                    return;
                }

                // Pre-filter for US and UK English voices first.
                let usUkVoices = allVoices.filter(v => v.lang.startsWith('en-US') || v.lang.startsWith('en-GB'));

                // 1. Primary Target: Microsoft Natural voices from the US/UK list
                let msNaturalVoices = usUkVoices.filter(v => 
                    v.name.includes('Microsoft') && 
                    v.name.includes('Natural')
                );

                // 2. Secondary Target: Apple Premium/Enhanced voices from the US/UK list
                const isApple = /Mac|iPod|iPhone|iPad/.test(navigator.platform);
                let applePremiumVoices = [];
                if (isApple) {
                    applePremiumVoices = usUkVoices.filter(v => 
                        (v.name.includes('(Enhanced)') || v.name.includes('Premium'))
                    );
                }

                let chosenVoiceList = [];

                if (msNaturalVoices.length > 0) {
                    const andrewIndex = msNaturalVoices.findIndex(v => v.name.includes('Andrew'));
                    if (andrewIndex > 0) {
                        const andrewVoice = msNaturalVoices.splice(andrewIndex, 1)[0];
                        msNaturalVoices.unshift(andrewVoice);
                    }
                    chosenVoiceList = msNaturalVoices;
                } else if (applePremiumVoices.length > 0) {
                    chosenVoiceList = applePremiumVoices;
                }

                if (chosenVoiceList.length > 0) {
                    // Rotate through the chosen list
                    utterance.voice = chosenVoiceList[(quizId - 1) % chosenVoiceList.length];
                } else {
                    // 3. Fallback to general high-quality voices from the US/UK list
                    utterance.voice = usUkVoices.find(v => v.name.includes('Neural')) ||
                                    usUkVoices.find(v => v.name.includes('Google')) ||
                                    usUkVoices.find(v => v.lang.startsWith('en-GB')) ||
                                    usUkVoices[0]; // Fallback to the first available US/UK voice
                }
            }

            function formatTime(sec) {
                const minutes = Math.floor(sec / 60).toString().padStart(2, '0');
                const seconds = (sec % 60).toString().padStart(2, '0');
                return `${minutes}:${seconds}`;
            }

            function resetPlayerUI() {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
                clearInterval(timerInterval);
                seconds = 0;
                timerEl.textContent = formatTime(seconds);
                const highlighted = audioscriptTextEl.querySelector('.speaking');
                if (highlighted) highlighted.classList.remove('speaking');
            }

            playPauseBtn.addEventListener('click', () => {
                loadVoices();

                if (speechSynthesis.speaking && utterance.text === audioscriptTextEl.innerText) {
                     if (speechSynthesis.paused) {
                        speechSynthesis.resume();
                     } else {
                        speechSynthesis.pause();
                     }
                } else {
                    speechSynthesis.cancel();
                    setTimeout(() => {
                        utterance.text = audioscriptTextEl.innerText;
                        speechSynthesis.speak(utterance);
                    }, 100);
                }
            });

            utterance.onstart = () => {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
                clearInterval(timerInterval);
                timerInterval = setInterval(() => { seconds++; timerEl.textContent = formatTime(seconds); }, 1000);
            };
            utterance.onpause = () => {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
                clearInterval(timerInterval);
            };
            utterance.onresume = () => {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
                 clearInterval(timerInterval);
                 timerInterval = setInterval(() => { seconds++; timerEl.textContent = formatTime(seconds); }, 1000);
            };
            utterance.onboundary = (event) => {
                if (event.name === 'word') {
                    const highlighted = audioscriptTextEl.querySelector('.speaking');
                    if (highlighted) highlighted.classList.remove('speaking');
                    
                    let wordIdx = -1;
                    let closestCharIndex = Object.keys(charIndexToWordMap).reduce((prev, curr) => (Math.abs(curr - event.charIndex) < Math.abs(prev - event.charIndex) ? curr : prev), 0);
                    wordIdx = charIndexToWordMap[closestCharIndex];
                    if (wordIdx >= 0 && wordIdx < words.length) {
                        const wordEl = document.getElementById(words[wordIdx].id);
                        if(wordEl) wordEl.classList.add('speaking');
                    }
                }
            };
            utterance.onend = () => { resetPlayerUI(); };
            toggleAnswerBtn.addEventListener('click', () => {
                if (answerContent.style.maxHeight && answerContent.style.maxHeight !== '0px') {
                    answerContent.style.maxHeight = '0px';
                    chevronIcon.classList.remove('rotate-180');
                } else {
                    answerContent.style.maxHeight = answerContent.scrollHeight + 'px';
                    chevronIcon.classList.add('rotate-180');
                }
            });
            
            prepareAudioscript();
            loadVoices();
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = loadVoices;
            }
            utterance.rate = 0.9;
        };

        quizData.forEach((data, index) => {
            const quizId = index + 1;
            const quizDisplayNum = index + 61;
            initQuiz(quizId, quizDisplayNum);
        });

        window.addEventListener('resize', () => {
            document.querySelectorAll('.accordion-content').forEach(content => {
                if (content.style.maxHeight && content.style.maxHeight !== '0px') {
                    content.style.maxHeight = content.scrollHeight + 'px';
                }
            });
        });
    });
    </script>

</body>
</html>
