<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœï¸ Writing Tutor Pro - Master 6 Strategies</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap');
        
        body {
            font-family: 'Fredoka', cursive;
            font-weight: 500;
        }
        
        .instruction-text {
            font-weight: 700;
            line-height: 1.6;
        }
        
        .tts-button {
            background: linear-gradient(135deg, #10b981, #059669);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .tts-button:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }
        
        .content-container {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
        }
        
        .strategy-card {
            transition: all 0.3s ease;
        }
        
        .strategy-card:hover {
            transform: translateY(-8px) scale(1.02);
        }
        
        .completed {
            background: linear-gradient(135deg, #10b981, #059669) !important;
        }
        
        .bounce {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .progress-bar {
            transition: width 0.5s ease;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-600 via-blue-600 to-teal-500 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-6xl font-bold text-white mb-4 bounce instruction-text">âœï¸ Writing Tutor Pro ğŸ“š</h1>
            <p class="text-2xl text-white/95 instruction-text">Master each writing strategy from start to finish!</p>
        </div>

        <!-- Student Info -->
        <div class="content-container rounded-3xl p-8 mb-8 shadow-2xl">
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-xl font-bold text-gray-800 mb-3">âœï¸ Your Name:</label>
                    <input type="text" id="studentName" class="w-full p-4 text-xl border-4 border-teal-400 rounded-2xl focus:border-yellow-400 focus:outline-none" placeholder="Enter your name..." onchange="updateStudentInfo()">
                </div>
                <div>
                    <label class="block text-xl font-bold text-gray-800 mb-3">ğŸ“š Writing Focus:</label>
                    <select id="writingFocus" class="w-full p-4 text-xl border-4 border-teal-400 rounded-2xl focus:border-yellow-400 focus:outline-none" onchange="updateStudentInfo()">
                        <option value="">Choose your focus...</option>
                        <option value="persuasive">ğŸ—£ï¸ Persuasive Writing</option>
                        <option value="narrative">ğŸ“– Narrative Writing</option>
                        <option value="informational">ğŸ“Š Informational Writing</option>
                    </select>
                </div>
            </div>
            
            <!-- Overall Progress -->
            <div class="mt-6">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-xl font-bold text-gray-800">ğŸ¯ <span id="studentDisplay">Your</span> Overall Progress</span>
                    <span class="text-lg font-bold text-teal-600" id="overallPercent">0%</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-6">
                    <div class="progress-bar bg-gradient-to-r from-green-400 to-blue-500 h-6 rounded-full" id="overallProgress" style="width: 0%"></div>
                </div>
                <p class="text-center mt-2 text-gray-600" id="progressMessage">Ready to start your writing journey!</p>
            </div>
        </div>

        <!-- Strategy Cards Grid -->
        <div class="grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-8 mb-8">
            <!-- STOP Strategy -->
            <div class="strategy-card bg-gradient-to-br from-red-500 to-pink-600 rounded-3xl p-8 text-white shadow-2xl cursor-pointer" onclick="openStrategy('stop')">
                <div class="text-center">
                    <div class="text-6xl mb-4 bounce">ğŸ›‘</div>
                    <h3 class="text-2xl font-bold mb-3">STOP Strategy</h3>
                    <p class="text-lg mb-4 opacity-90">Complete Persuasive Writing Process</p>
                    
                    <div class="space-y-2 mb-6">
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ“ Suspend judgment</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ¯ Take a side</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">â­ Organize ideas</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ“ˆ Plan more</div>
                    </div>
                    
                    <div class="bg-white/30 rounded-2xl p-3">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-bold">Progress</span>
                            <span id="stopPercent">0%</span>
                        </div>
                        <div class="w-full bg-white/30 rounded-full h-3">
                            <div class="progress-bar bg-yellow-400 h-3 rounded-full" id="stopProgress" style="width: 0%"></div>
                        </div>
                        <div class="mt-2 font-bold" id="stopStatus">Ready to start!</div>
                    </div>
                </div>
            </div>

            <!-- AIM Strategy -->
            <div class="strategy-card bg-gradient-to-br from-blue-500 to-indigo-600 rounded-3xl p-8 text-white shadow-2xl cursor-pointer" onclick="openStrategy('aim')">
                <div class="text-center">
                    <div class="text-6xl mb-4 bounce">ğŸ¯</div>
                    <h3 class="text-2xl font-bold mb-3">AIM Strategy</h3>
                    <p class="text-lg mb-4 opacity-90">Complete Introduction Writing Process</p>
                    
                    <div class="space-y-2 mb-6">
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸª Attract attention</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ” Identify main idea</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ—ºï¸ Map background</div>
                    </div>
                    
                    <div class="bg-white/30 rounded-2xl p-3">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-bold">Progress</span>
                            <span id="aimPercent">0%</span>
                        </div>
                        <div class="w-full bg-white/30 rounded-full h-3">
                            <div class="progress-bar bg-yellow-400 h-3 rounded-full" id="aimProgress" style="width: 0%"></div>
                        </div>
                        <div class="mt-2 font-bold" id="aimStatus">Ready to start!</div>
                    </div>
                </div>
            </div>

            <!-- PLAN Strategy -->
            <div class="strategy-card bg-gradient-to-br from-green-500 to-emerald-600 rounded-3xl p-8 text-white shadow-2xl cursor-pointer" onclick="openStrategy('plan')">
                <div class="text-center">
                    <div class="text-6xl mb-4 bounce">ğŸ“‹</div>
                    <h3 class="text-2xl font-bold mb-3">PLAN Strategy</h3>
                    <p class="text-lg mb-4 opacity-90">Complete Organization Process</p>
                    
                    <div class="space-y-2 mb-6">
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ“– Pay attention</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ“ List ideas</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">â• Add details</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ”¢ Number order</div>
                    </div>
                    
                    <div class="bg-white/30 rounded-2xl p-3">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-bold">Progress</span>
                            <span id="planPercent">0%</span>
                        </div>
                        <div class="w-full bg-white/30 rounded-full h-3">
                            <div class="progress-bar bg-yellow-400 h-3 rounded-full" id="planProgress" style="width: 0%"></div>
                        </div>
                        <div class="mt-2 font-bold" id="planStatus">Ready to start!</div>
                    </div>
                </div>
            </div>

            <!-- DARE Strategy -->
            <div class="strategy-card bg-gradient-to-br from-yellow-500 to-orange-600 rounded-3xl p-8 text-white shadow-2xl cursor-pointer" onclick="openStrategy('dare')">
                <div class="text-center">
                    <div class="text-6xl mb-4 bounce">âš¡</div>
                    <h3 class="text-2xl font-bold mb-3">DARE Strategy</h3>
                    <p class="text-lg mb-4 opacity-90">Complete Argumentative Process</p>
                    
                    <div class="space-y-2 mb-6">
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ“ Develop thesis</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">â• Add support</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">âŒ Reject counter-args</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ End strong</div>
                    </div>
                    
                    <div class="bg-white/30 rounded-2xl p-3">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-bold">Progress</span>
                            <span id="darePercent">0%</span>
                        </div>
                        <div class="w-full bg-white/30 rounded-full h-3">
                            <div class="progress-bar bg-yellow-400 h-3 rounded-full" id="dareProgress" style="width: 0%"></div>
                        </div>
                        <div class="mt-2 font-bold" id="dareStatus">Ready to start!</div>
                    </div>
                </div>
            </div>

            <!-- STAR Strategy -->
            <div class="strategy-card bg-gradient-to-br from-purple-500 to-pink-600 rounded-3xl p-8 text-white shadow-2xl cursor-pointer" onclick="openStrategy('star')">
                <div class="text-center">
                    <div class="text-6xl mb-4 bounce">â­</div>
                    <h3 class="text-2xl font-bold mb-3">STAR Strategy</h3>
                    <p class="text-lg mb-4 opacity-90">Complete Revision Process</p>
                    
                    <div class="space-y-2 mb-6">
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ”„ Substitute words</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">âœ‚ï¸ Take out extra</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">â• Add details</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ”€ Rearrange flow</div>
                    </div>
                    
                    <div class="bg-white/30 rounded-2xl p-3">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-bold">Progress</span>
                            <span id="starPercent">0%</span>
                        </div>
                        <div class="w-full bg-white/30 rounded-full h-3">
                            <div class="progress-bar bg-yellow-400 h-3 rounded-full" id="starProgress" style="width: 0%"></div>
                        </div>
                        <div class="mt-2 font-bold" id="starStatus">Ready to start!</div>
                    </div>
                </div>
            </div>

            <!-- KWL Strategy -->
            <div class="strategy-card bg-gradient-to-br from-teal-500 to-cyan-600 rounded-3xl p-8 text-white shadow-2xl cursor-pointer" onclick="openStrategy('kwl')">
                <div class="text-center">
                    <div class="text-6xl mb-4 bounce">ğŸ§ </div>
                    <h3 class="text-2xl font-bold mb-3">KWL Strategy</h3>
                    <p class="text-lg mb-4 opacity-90">Complete Research Process</p>
                    
                    <div class="space-y-2 mb-6">
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ“š Know current info</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">â“ Want to learn</div>
                        <div class="bg-white/20 rounded-full px-4 py-2 text-sm">ğŸ’¡ Learned new facts</div>
                    </div>
                    
                    <div class="bg-white/30 rounded-2xl p-3">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-bold">Progress</span>
                            <span id="kwlPercent">0%</span>
                        </div>
                        <div class="w-full bg-white/30 rounded-full h-3">
                            <div class="progress-bar bg-yellow-400 h-3 rounded-full" id="kwlProgress" style="width: 0%"></div>
                        </div>
                        <div class="mt-2 font-bold" id="kwlStatus">Ready to start!</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Export Portfolio Button -->
        <div class="text-center">
            <button onclick="exportPortfolio()" class="bg-gradient-to-r from-green-500 to-blue-600 text-white text-xl font-bold px-8 py-4 rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300">
                ğŸ“¤ Export Your Writing Portfolio
            </button>
        </div>
    </div>

    <!-- Strategy Modal -->
    <div id="strategyModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-white border-b-4 border-gray-200 p-6 rounded-t-3xl">
                <div class="flex justify-between items-center">
                    <h2 id="modalTitle" class="text-3xl font-bold text-gray-800">Strategy</h2>
                    <button onclick="closeModal()" class="text-4xl text-gray-500 hover:text-gray-700">Ã—</button>
                </div>
                <div class="mt-4">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-lg font-bold text-gray-700">Progress</span>
                        <span id="modalPercent" class="text-lg font-bold text-blue-600">0%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-4">
                        <div class="progress-bar bg-gradient-to-r from-green-400 to-blue-500 h-4 rounded-full" id="modalProgress" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            
            <div id="modalContent" class="p-6">
                <!-- Dynamic content will be loaded here -->
            </div>
        </div>
    </div>

    <script>
        // Application State
        let currentStrategy = '';
        let studentName = '';
        let writingFocus = '';
        let strategyProgress = {
            stop: 0, aim: 0, plan: 0, dare: 0, star: 0, kwl: 0
        };
        let strategyData = {
            stop: {}, aim: {}, plan: {}, dare: {}, star: {}, kwl: {}
        };

        // Text-to-Speech functionality
        function speakText(text) {
            if ('speechSynthesis' in window) {
                // Cancel any ongoing speech
                speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.8; // Slower for children
                utterance.pitch = 1.1; // Slightly higher pitch
                utterance.volume = 0.8;
                
                speechSynthesis.speak(utterance);
            }
        }

        function addTTSButton(containerId, text) {
            const container = document.getElementById(containerId);
            if (container) {
                const button = document.createElement('button');
                button.className = 'tts-button ml-3';
                button.innerHTML = 'ğŸ”Š';
                button.title = 'Click to hear this read aloud';
                button.onclick = () => speakText(text);
                container.appendChild(button);
            }
        }

        // Load progress from localStorage
        function loadProgress() {
            const saved = localStorage.getItem('writingTutorProgress');
            if (saved) {
                const data = JSON.parse(saved);
                strategyProgress = data.progress || strategyProgress;
                studentName = data.studentName || '';
                writingFocus = data.writingFocus || '';
                
                // Update UI
                if (studentName) document.getElementById('studentName').value = studentName;
                if (writingFocus) document.getElementById('writingFocus').value = writingFocus;
                
                // Update all progress displays
                Object.keys(strategyProgress).forEach(strategy => {
                    updateStrategyProgress(strategy, strategyProgress[strategy]);
                });
                updateStudentInfo();
            }
        }

        // Save progress to localStorage
        function saveProgress() {
            const data = {
                progress: strategyProgress,
                studentName: studentName,
                writingFocus: writingFocus,
                lastSaved: new Date().toISOString()
            };
            localStorage.setItem('writingTutorProgress', JSON.stringify(data));
        }

        // Update student info
        function updateStudentInfo() {
            studentName = document.getElementById('studentName').value;
            writingFocus = document.getElementById('writingFocus').value;
            
            document.getElementById('studentDisplay').textContent = studentName ? `${studentName}'s` : 'Your';
            updateOverallProgress();
            saveProgress();
        }

        // Update overall progress
        function updateOverallProgress() {
            const totalProgress = Object.values(strategyProgress).reduce((sum, progress) => sum + progress, 0);
            const averageProgress = Math.round(totalProgress / 6);
            
            document.getElementById('overallProgress').style.width = averageProgress + '%';
            document.getElementById('overallPercent').textContent = averageProgress + '%';
            
            const completedCount = Object.values(strategyProgress).filter(p => p === 100).length;
            
            if (completedCount === 0) {
                document.getElementById('progressMessage').textContent = 'Ready to start your writing journey!';
            } else if (completedCount < 3) {
                document.getElementById('progressMessage').textContent = `Great start! ${completedCount}/6 strategies completed.`;
            } else if (completedCount < 6) {
                document.getElementById('progressMessage').textContent = `Excellent progress! ${completedCount}/6 strategies mastered.`;
            } else {
                document.getElementById('progressMessage').textContent = 'ğŸ‰ All strategies mastered! You\'re a writing expert!';
            }
        }

        // Update strategy progress
        function updateStrategyProgress(strategy, progress) {
            strategyProgress[strategy] = progress;
            
            // Update card progress
            document.getElementById(strategy + 'Progress').style.width = progress + '%';
            document.getElementById(strategy + 'Percent').textContent = progress + '%';
            
            // Update status
            const statusElement = document.getElementById(strategy + 'Status');
            if (progress === 0) {
                statusElement.textContent = 'Ready to start!';
            } else if (progress < 50) {
                statusElement.textContent = 'Getting started...';
            } else if (progress < 100) {
                statusElement.textContent = 'Making progress!';
            } else {
                statusElement.textContent = 'âœ… Completed!';
                // Mark card as completed
                document.querySelector(`[onclick="openStrategy('${strategy}')"]`).classList.add('completed');
            }
            
            // Update modal progress if open
            if (currentStrategy === strategy) {
                document.getElementById('modalProgress').style.width = progress + '%';
                document.getElementById('modalPercent').textContent = progress + '%';
            }
            
            updateOverallProgress();
            saveProgress();
        }

        // Open strategy modal
        function openStrategy(strategy) {
            currentStrategy = strategy;
            document.getElementById('strategyModal').classList.remove('hidden');
            document.getElementById('strategyModal').classList.add('flex');
            
            // Set title and progress
            const titles = {
                stop: 'ğŸ›‘ STOP Strategy - Persuasive Writing',
                aim: 'ğŸ¯ AIM Strategy - Introduction Writing',
                plan: 'ğŸ“‹ PLAN Strategy - Organization',
                dare: 'âš¡ DARE Strategy - Argumentative Writing',
                star: 'â­ STAR Strategy - Revision',
                kwl: 'ğŸ§  KWL Strategy - Research Writing'
            };
            
            document.getElementById('modalTitle').textContent = titles[strategy];
            document.getElementById('modalProgress').style.width = strategyProgress[strategy] + '%';
            document.getElementById('modalPercent').textContent = strategyProgress[strategy] + '%';
            
            // Load strategy content
            loadStrategyContent(strategy);
        }

        // Close modal
        function closeModal() {
            document.getElementById('strategyModal').classList.add('hidden');
            document.getElementById('strategyModal').classList.remove('flex');
            currentStrategy = '';
        }

        // Load strategy content
        function loadStrategyContent(strategy) {
            const content = document.getElementById('modalContent');
            
            switch(strategy) {
                case 'stop':
                    content.innerHTML = getSTOPContent();
                    break;
                case 'aim':
                    content.innerHTML = getAIMContent();
                    break;
                case 'plan':
                    content.innerHTML = getPLANContent();
                    break;
                case 'dare':
                    content.innerHTML = getDAREContent();
                    break;
                case 'star':
                    content.innerHTML = getSTARContent();
                    break;
                case 'kwl':
                    content.innerHTML = getKWLContent();
                    break;
            }
        }

        // STOP Strategy Content
        function getSTOPContent() {
            return `
                <div class="space-y-8">
                    <!-- Step 1: Learn Strategy -->
                    <div class="bg-gradient-to-r from-red-100 to-pink-100 rounded-2xl p-6">
                        <div class="flex items-center mb-4">
                            <h3 class="text-2xl font-bold text-gray-800 instruction-text">ğŸ“š Step 1: Learn STOP Strategy</h3>
                            <button class="tts-button ml-3" onclick="speakText('Step 1: Learn STOP Strategy. STOP stands for Suspend judgment, Take a side, Organize ideas, and Plan more. This strategy helps you write persuasive essays by thinking through both sides of an argument first.')" title="Click to hear this read aloud">ğŸ”Š</button>
                        </div>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ“</div>
                                <h4 class="font-bold text-lg">Suspend Judgment</h4>
                                <p class="text-gray-600">Brainstorm ideas for and against the topic</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ¯</div>
                                <h4 class="font-bold text-lg">Take a Side</h4>
                                <p class="text-gray-600">Choose your position on the topic</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">â­</div>
                                <h4 class="font-bold text-lg">Organize Ideas</h4>
                                <p class="text-gray-600">Star ideas you'll use, number their order</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ“ˆ</div>
                                <h4 class="font-bold text-lg">Plan More</h4>
                                <p class="text-gray-600">Continue planning as you write</p>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Choose Topic -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“ Step 2: Choose Your Persuasive Topic</h3>
                        <input type="text" id="stopTopic" class="w-full p-4 text-lg border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Enter your persuasive writing topic (e.g., 'Should students have longer recess?')" onchange="updateStopTopic()">
                        <div id="stopTopicDisplay" class="mt-4 text-center text-lg font-bold text-blue-600"></div>
                    </div>

                    <!-- Step 3: Suspend Judgment -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“ Step 3: Suspend Judgment - Brainstorm Both Sides</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-lg font-bold text-green-600 mb-2">âœ… Arguments FOR:</label>
                                <textarea id="stopFor" class="w-full h-32 p-4 border-2 border-green-300 rounded-xl focus:border-green-500 focus:outline-none" placeholder="List all reasons supporting this position..."></textarea>
                            </div>
                            <div>
                                <label class="block text-lg font-bold text-red-600 mb-2">âŒ Arguments AGAINST:</label>
                                <textarea id="stopAgainst" class="w-full h-32 p-4 border-2 border-red-300 rounded-xl focus:border-red-500 focus:outline-none" placeholder="List all reasons opposing this position..."></textarea>
                            </div>
                        </div>
                        <button onclick="completeStopBrainstorm()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">âœ… Complete Brainstorming</button>
                    </div>

                    <!-- Step 4: Take a Side -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ¯ Step 4: Take a Side - Choose Your Position</h3>
                        <div class="flex gap-4 justify-center">
                            <button onclick="takeSide('for')" id="sideFor" class="bg-green-500 text-white px-8 py-4 rounded-xl font-bold hover:bg-green-600 transition-colors">âœ… I'm FOR this topic</button>
                            <button onclick="takeSide('against')" id="sideAgainst" class="bg-red-500 text-white px-8 py-4 rounded-xl font-bold hover:bg-red-600 transition-colors">âŒ I'm AGAINST this topic</button>
                        </div>
                        <div id="chosenSide" class="mt-4 text-center text-lg font-bold"></div>
                    </div>

                    <!-- Step 5: Organize Ideas -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">â­ Step 5: Organize Ideas - Star and Number</h3>
                        <p class="mb-4 text-gray-600"><strong>Instructions:</strong> Copy your chosen arguments below, then mark your best ones with â­ and number them in order (1, 2, 3).</p>
                        <textarea id="stopOrganize" class="w-full h-32 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Copy your chosen arguments here and mark them with â­ and numbers (1, 2, 3)..."></textarea>
                        <button onclick="completeStopOrganize()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">ğŸ“‹ Complete Organization</button>
                    </div>

                    <!-- Step 6: Write Draft -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">âœï¸ Step 6: Write Your Persuasive Essay</h3>
                        <div class="bg-blue-50 rounded-xl p-4 mb-4">
                            <h4 class="font-bold text-lg mb-2">ğŸ“ Writing Structure</h4>
                            <ul class="space-y-1 text-gray-700">
                                <li><strong>Introduction:</strong> Hook + State your position</li>
                                <li><strong>Body Paragraph 1:</strong> Your strongest argument + evidence</li>
                                <li><strong>Body Paragraph 2:</strong> Your second argument + evidence</li>
                                <li><strong>Body Paragraph 3:</strong> Address counter-arguments</li>
                                <li><strong>Conclusion:</strong> Restate position + call to action</li>
                            </ul>
                        </div>
                        <textarea id="stopDraft" class="w-full h-64 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Write your persuasive essay here using your organized ideas..." oninput="updateWordCount('stopDraft', 'stopWordCount')"></textarea>
                        <div class="mt-2 text-gray-600" id="stopWordCount">Word count: 0</div>
                        <button onclick="completeStopDraft()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">ğŸ“ Complete Draft</button>
                    </div>

                    <!-- Step 7: Final Review -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ”„ Step 7: Review and Finalize</h3>
                        <div class="space-y-4">
                            <label class="flex items-center space-x-4 cursor-pointer p-3 rounded-xl hover:bg-blue-50 transition-colors">
                                <input type="checkbox" class="w-6 h-6 text-blue-600 rounded">
                                <span class="text-lg">Clear thesis statement in introduction</span>
                            </label>
                            <label class="flex items-center space-x-4 cursor-pointer p-3 rounded-xl hover:bg-blue-50 transition-colors">
                                <input type="checkbox" class="w-6 h-6 text-blue-600 rounded">
                                <span class="text-lg">Strong evidence for each argument</span>
                            </label>
                            <label class="flex items-center space-x-4 cursor-pointer p-3 rounded-xl hover:bg-blue-50 transition-colors">
                                <input type="checkbox" class="w-6 h-6 text-blue-600 rounded">
                                <span class="text-lg">Addressed counter-arguments</span>
                            </label>
                            <label class="flex items-center space-x-4 cursor-pointer p-3 rounded-xl hover:bg-blue-50 transition-colors">
                                <input type="checkbox" class="w-6 h-6 text-blue-600 rounded">
                                <span class="text-lg">Strong conclusion with call to action</span>
                            </label>
                        </div>
                        <button onclick="completeStopStrategy()" class="mt-6 bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all">ğŸ‰ Complete STOP Strategy!</button>
                    </div>
                </div>
            `;
        }

        // AIM Strategy Content
        function getAIMContent() {
            return `
                <div class="space-y-8">
                    <!-- Step 1: Learn Strategy -->
                    <div class="bg-gradient-to-r from-blue-100 to-indigo-100 rounded-2xl p-6">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“š Step 1: Learn AIM Strategy</h3>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸª</div>
                                <h4 class="font-bold text-lg">Attract</h4>
                                <p class="text-gray-600">Grab the reader's attention at the start</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ”</div>
                                <h4 class="font-bold text-lg">Identify</h4>
                                <p class="text-gray-600">Clearly state the problem or main idea</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ—ºï¸</div>
                                <h4 class="font-bold text-lg">Map</h4>
                                <p class="text-gray-600">Provide background context and information</p>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Choose Topic -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“ Step 2: Choose Your Topic</h3>
                        <input type="text" id="aimTopic" class="w-full p-4 text-lg border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Enter your topic (works for persuasive, narrative, or informational writing)" onchange="updateAimTopic()">
                        <div id="aimTopicDisplay" class="mt-4 text-center text-lg font-bold text-blue-600"></div>
                    </div>

                    <!-- Step 3: Attract -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸª Step 3: Attract - Create Your Hook</h3>
                        <div class="bg-yellow-50 rounded-xl p-4 mb-4">
                            <h4 class="font-bold text-lg mb-2">ğŸ’¡ Hook Ideas</h4>
                            <ul class="space-y-1 text-gray-700">
                                <li><strong>Question:</strong> "What if I told you that..."</li>
                                <li><strong>Statistic:</strong> "Did you know that 75% of..."</li>
                                <li><strong>Story:</strong> "Imagine walking into..."</li>
                                <li><strong>Quote:</strong> "As Maya Angelou once said..."</li>
                                <li><strong>Surprising fact:</strong> "Most people believe... but actually..."</li>
                            </ul>
                        </div>
                        <textarea id="aimAttract" class="w-full h-32 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Write 2-3 attention-grabbing opening sentences..."></textarea>
                        <button onclick="completeAimAttract()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">ğŸª Complete Hook</button>
                    </div>

                    <!-- Step 4: Identify -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ” Step 4: Identify - State Your Main Point</h3>
                        <div class="bg-green-50 rounded-xl p-4 mb-4">
                            <h4 class="font-bold text-lg mb-2">ğŸ¯ What to Identify</h4>
                            <ul class="space-y-1 text-gray-700">
                                <li><strong>Persuasive:</strong> State your position clearly</li>
                                <li><strong>Narrative:</strong> Introduce the main conflict or theme</li>
                                <li><strong>Informational:</strong> Present your main topic or thesis</li>
                            </ul>
                        </div>
                        <textarea id="aimIdentify" class="w-full h-32 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Clearly state your main point or thesis..."></textarea>
                        <button onclick="completeAimIdentify()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">ğŸ” Complete Identification</button>
                    </div>

                    <!-- Step 5: Map -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ—ºï¸ Step 5: Map - Provide Background Context</h3>
                        <div class="bg-purple-50 rounded-xl p-4 mb-4">
                            <h4 class="font-bold text-lg mb-2">ğŸ—ºï¸ Background Information</h4>
                            <ul class="space-y-1 text-gray-700">
                                <li>What does your reader need to know?</li>
                                <li>What's the history or context?</li>
                                <li>Why is this topic important?</li>
                                <li>What are the key terms or concepts?</li>
                            </ul>
                        </div>
                        <textarea id="aimMap" class="w-full h-32 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Provide background information your reader needs to understand your topic..."></textarea>
                        <button onclick="completeAimMap()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">ğŸ—ºï¸ Complete Background</button>
                    </div>

                    <!-- Step 6: Complete Introduction -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“ Step 6: Create Your Complete Introduction</h3>
                        <p class="mb-4 text-gray-600"><strong>Instructions:</strong> Combine your Attract, Identify, and Map sections into one flowing introduction paragraph.</p>
                        <button onclick="generateAimIntro()" class="mb-4 bg-purple-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-purple-600 transition-colors">ğŸ”„ Auto-Combine Sections</button>
                        <textarea id="aimIntroduction" class="w-full h-48 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Combine your hook, main point, and background into a complete introduction..."></textarea>
                        <button onclick="completeAimStrategy()" class="mt-4 bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all">ğŸ‰ Complete AIM Strategy!</button>
                    </div>
                </div>
            `;
        }

        // PLAN Strategy Content
        function getPLANContent() {
            return `
                <div class="space-y-8">
                    <!-- Step 1: Learn Strategy -->
                    <div class="bg-gradient-to-r from-green-100 to-emerald-100 rounded-2xl p-6">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“š Step 1: Learn PLAN Strategy</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ“–</div>
                                <h4 class="font-bold text-lg">Pay Attention</h4>
                                <p class="text-gray-600">Understand the writing assignment</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ“</div>
                                <h4 class="font-bold text-lg">List</h4>
                                <p class="text-gray-600">Write down your main ideas</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">â•</div>
                                <h4 class="font-bold text-lg">Add</h4>
                                <p class="text-gray-600">Include supporting details for each main idea</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ”¢</div>
                                <h4 class="font-bold text-lg">Number</h4>
                                <p class="text-gray-600">Put ideas in logical order</p>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Pay Attention -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“– Step 2: Pay Attention - Understand Your Assignment</h3>
                        <textarea id="planAssignment" class="w-full h-24 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none mb-4" placeholder="Enter your writing assignment or prompt..."></textarea>
                        
                        <div class="bg-blue-50 rounded-xl p-4">
                            <h4 class="font-bold text-lg mb-3">Assignment Analysis Checklist:</h4>
                            <div class="space-y-2">
                                <label class="flex items-center space-x-3">
                                    <input type="checkbox" class="w-5 h-5 text-blue-600" onchange="checkPlanProgress()">
                                    <span>What is the main topic?</span>
                                </label>
                                <label class="flex items-center space-x-3">
                                    <input type="checkbox" class="w-5 h-5 text-blue-600" onchange="checkPlanProgress()">
                                    <span>What type of writing is required? (persuasive, narrative, informational)</span>
                                </label>
                                <label class="flex items-center space-x-3">
                                    <input type="checkbox" class="w-5 h-5 text-blue-600" onchange="checkPlanProgress()">
                                    <span>Who is my audience?</span>
                                </label>
                                <label class="flex items-center space-x-3">
                                    <input type="checkbox" class="w-5 h-5 text-blue-600" onchange="checkPlanProgress()">
                                    <span>What is my purpose? (inform, persuade, entertain)</span>
                                </label>
                            </div>
                        </div>
                        <button onclick="completePlanAttention()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">ğŸ“– Complete Assignment Analysis</button>
                    </div>

                    <!-- Step 3: List Ideas -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“ Step 3: List - Brainstorm Your Main Ideas</h3>
                        <div class="bg-yellow-50 rounded-xl p-4 mb-4">
                            <h4 class="font-bold text-lg mb-2">ğŸ’¡ Brainstorming Tips</h4>
                            <ul class="space-y-1 text-gray-700">
                                <li>Write down everything that comes to mind</li>
                                <li>Don't worry about order yet</li>
                                <li>Aim for 4-6 main ideas</li>
                                <li>Think about what your audience needs to know</li>
                            </ul>
                        </div>
                        <textarea id="planList" class="w-full h-32 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="List all your main ideas here (one per line)..."></textarea>
                        <button onclick="completePlanList()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">ğŸ“ Complete Main Ideas List</button>
                    </div>

                    <!-- Step 4: Add Details -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">â• Step 4: Add - Supporting Details for Each Idea</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-lg font-bold text-gray-700 mb-2">Main Idea 1:</label>
                                <input type="text" id="planIdea1" class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none mb-2" placeholder="Enter main idea 1...">
                                <textarea id="planSupport1" class="w-full h-24 p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Add supporting details, examples, evidence..."></textarea>
                            </div>
                            <div>
                                <label class="block text-lg font-bold text-gray-700 mb-2">Main Idea 2:</label>
                                <input type="text" id="planIdea2" class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none mb-2" placeholder="Enter main idea 2...">
                                <textarea id="planSupport2" class="w-full h-24 p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Add supporting details, examples, evidence..."></textarea>
                            </div>
                        </div>
                        <button onclick="completePlanAdd()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">â• Complete Supporting Details</button>
                    </div>

                    <!-- Step 5: Number Order -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ”¢ Step 5: Number - Organize Your Ideas</h3>
                        <div class="bg-purple-50 rounded-xl p-4 mb-4">
                            <h4 class="font-bold text-lg mb-2">ğŸ“Š Organization Strategies</h4>
                            <ul class="space-y-1 text-gray-700">
                                <li><strong>Strongest to weakest:</strong> Start with your best point</li>
                                <li><strong>Chronological:</strong> Time order for narratives</li>
                                <li><strong>Problem to solution:</strong> For persuasive writing</li>
                                <li><strong>General to specific:</strong> For informational writing</li>
                            </ul>
                        </div>
                        <textarea id="planNumber" class="w-full h-48 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Copy your ideas here and number them in the order you'll present them:&#10;1. First idea (strongest/most important)&#10;2. Second idea&#10;3. Third idea&#10;etc."></textarea>
                        <button onclick="completePlanStrategy()" class="mt-4 bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all">ğŸ‰ Complete PLAN Strategy!</button>
                    </div>
                </div>
            `;
        }

        // DARE Strategy Content
        function getDAREContent() {
            return `
                <div class="space-y-8">
                    <!-- Step 1: Learn Strategy -->
                    <div class="bg-gradient-to-r from-yellow-100 to-orange-100 rounded-2xl p-6">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“š Step 1: Learn DARE Strategy</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ“</div>
                                <h4 class="font-bold text-lg">Develop</h4>
                                <p class="text-gray-600">Create a strong topic sentence/thesis</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">â•</div>
                                <h4 class="font-bold text-lg">Add</h4>
                                <p class="text-gray-600">Include supporting ideas and evidence</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">âŒ</div>
                                <h4 class="font-bold text-lg">Reject</h4>
                                <p class="text-gray-600">Address counter-arguments</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ</div>
                                <h4 class="font-bold text-lg">End</h4>
                                <p class="text-gray-600">Write a powerful conclusion</p>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Choose Topic -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“ Step 2: Choose Your Argumentative Topic</h3>
                        <input type="text" id="dareTopic" class="w-full p-4 text-lg border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Enter your argumentative topic (e.g., 'Schools should start later in the morning')" onchange="updateDareTopic()">
                        <div id="dareTopicDisplay" class="mt-4 text-center text-lg font-bold text-blue-600"></div>
                    </div>

                    <!-- Step 3: Develop Thesis -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“ Step 3: Develop - Create Your Thesis Statement</h3>
                        <div class="bg-blue-50 rounded-xl p-4 mb-4">
                            <h4 class="font-bold text-lg mb-2">ğŸ’¡ Strong Thesis Elements</h4>
                            <ul class="space-y-1 text-gray-700">
                                <li><strong>Clear position:</strong> State exactly what you believe</li>
                                <li><strong>Specific:</strong> Avoid vague language</li>
                                <li><strong>Arguable:</strong> Someone could disagree with it</li>
                                <li><strong>Preview:</strong> Hint at your main supporting points</li>
                            </ul>
                        </div>
                        <textarea id="dareDevelop" class="w-full h-32 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Write your thesis statement here. Make it clear, specific, and arguable..."></textarea>
                        <button onclick="completeDareDevelop()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">ğŸ“ Complete Thesis</button>
                    </div>

                    <!-- Step 4: Add Support -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">â• Step 4: Add - Supporting Arguments and Evidence</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-lg font-bold text-gray-700 mb-2">Supporting Argument 1:</label>
                                <textarea id="dareSupport1" class="w-full h-24 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Your strongest supporting argument with evidence..."></textarea>
                            </div>
                            <div>
                                <label class="block text-lg font-bold text-gray-700 mb-2">Supporting Argument 2:</label>
                                <textarea id="dareSupport2" class="w-full h-24 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Your second supporting argument with evidence..."></textarea>
                            </div>
                        </div>
                        <button onclick="completeDareAdd()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">â• Complete Supporting Arguments</button>
                    </div>

                    <!-- Step 5: Reject Counter-Arguments -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">âŒ Step 5: Reject - Address Counter-Arguments</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-lg font-bold text-gray-700 mb-2">What would opponents say?</label>
                                <textarea id="dareCounterArg" class="w-full h-24 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="List the strongest arguments against your position..."></textarea>
                            </div>
                            <div>
                                <label class="block text-lg font-bold text-gray-700 mb-2">How will you respond?</label>
                                <textarea id="dareRebuttal" class="w-full h-24 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Explain why these counter-arguments are wrong or less important..."></textarea>
                            </div>
                        </div>
                        <button onclick="completeDareReject()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">âŒ Complete Counter-Arguments</button>
                    </div>

                    <!-- Step 6: End Strong -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ Step 6: End - Write Your Conclusion</h3>
                        <div class="bg-green-50 rounded-xl p-4 mb-4">
                            <h4 class="font-bold text-lg mb-2">ğŸ¯ Powerful Conclusion Elements</h4>
                            <ul class="space-y-1 text-gray-700">
                                <li><strong>Restate thesis:</strong> Remind readers of your position</li>
                                <li><strong>Summarize main points:</strong> Briefly review your arguments</li>
                                <li><strong>Call to action:</strong> Tell readers what they should do</li>
                                <li><strong>Final impact:</strong> Leave them with something memorable</li>
                            </ul>
                        </div>
                        <textarea id="dareEnd" class="w-full h-32 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Write a powerful conclusion that restates your thesis, summarizes your main points, and includes a call to action..."></textarea>
                        <button onclick="completeDareStrategy()" class="mt-4 bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all">ğŸ‰ Complete DARE Strategy!</button>
                    </div>
                </div>
            `;
        }

        // STAR Strategy Content
        function getSTARContent() {
            return `
                <div class="space-y-8">
                    <!-- Step 1: Learn Strategy -->
                    <div class="bg-gradient-to-r from-purple-100 to-pink-100 rounded-2xl p-6">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“š Step 1: Learn STAR Revision Strategy</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ”„</div>
                                <h4 class="font-bold text-lg">Substitute</h4>
                                <p class="text-gray-600">Replace overused or weak words</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">âœ‚ï¸</div>
                                <h4 class="font-bold text-lg">Take Out</h4>
                                <p class="text-gray-600">Remove unnecessary repetitions</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">â•</div>
                                <h4 class="font-bold text-lg">Add</h4>
                                <p class="text-gray-600">Include more details and descriptions</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ”€</div>
                                <h4 class="font-bold text-lg">Rearrange</h4>
                                <p class="text-gray-600">Improve flow and organization</p>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Import Draft -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“ Step 2: Import Your Draft for Revision</h3>
                        <textarea id="starOriginalDraft" class="w-full h-48 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Paste your draft here that you want to revise using the STAR strategy..."></textarea>
                        <button onclick="loadStarDraft()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">ğŸ“¥ Load Draft for Revision</button>
                    </div>

                    <!-- Step 3: Substitute -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ”„ Step 3: Substitute - Replace Weak Words</h3>
                        <div class="bg-yellow-50 rounded-xl p-4 mb-4">
                            <h4 class="font-bold text-lg mb-2">ğŸ¯ Words to Replace</h4>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <strong>Weak Words:</strong>
                                    <ul class="text-sm text-gray-700 mt-1">
                                        <li>very â†’ extremely, incredibly</li>
                                        <li>really â†’ truly, genuinely</li>
                                        <li>good â†’ excellent, outstanding</li>
                                        <li>bad â†’ terrible, awful</li>
                                    </ul>
                                </div>
                                <div>
                                    <strong>Boring Verbs:</strong>
                                    <ul class="text-sm text-gray-700 mt-1">
                                        <li>said â†’ declared, whispered</li>
                                        <li>went â†’ traveled, journeyed</li>
                                        <li>got â†’ obtained, received</li>
                                        <li>made â†’ created, constructed</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <textarea id="starSubstitute" class="w-full h-48 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Rewrite your draft here, replacing weak words with stronger alternatives..."></textarea>
                        <button onclick="completeStarSubstitute()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">ğŸ”„ Complete Substitutions</button>
                    </div>

                    <!-- Step 4: Take Out -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">âœ‚ï¸ Step 4: Take Out - Remove Unnecessary Repetitions</h3>
                        <textarea id="starTakeOut" class="w-full h-48 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Remove repetitive words and unnecessary phrases from your draft..."></textarea>
                        <button onclick="completeStarTakeOut()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">âœ‚ï¸ Complete Removal</button>
                    </div>

                    <!-- Step 5: Add Details -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">â• Step 5: Add - Include More Details and Descriptions</h3>
                        <textarea id="starAdd" class="w-full h-48 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Add more specific details, examples, and descriptions to make your writing more vivid and convincing..."></textarea>
                        <button onclick="completeStarAdd()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">â• Complete Additions</button>
                    </div>

                    <!-- Step 6: Rearrange -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ”€ Step 6: Rearrange - Improve Flow and Organization</h3>
                        <textarea id="starRearrange" class="w-full h-48 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Rearrange sentences and paragraphs for better logical flow and organization..."></textarea>
                        <button onclick="completeStarStrategy()" class="mt-4 bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all">ğŸ‰ Complete STAR Strategy!</button>
                    </div>
                </div>
            `;
        }

        // KWL Strategy Content
        function getKWLContent() {
            return `
                <div class="space-y-8">
                    <!-- Step 1: Learn Strategy -->
                    <div class="bg-gradient-to-r from-teal-100 to-cyan-100 rounded-2xl p-6">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“š Step 1: Learn KWL Strategy</h3>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ“š</div>
                                <h4 class="font-bold text-lg">Know</h4>
                                <p class="text-gray-600">What do you already know about the topic?</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">â“</div>
                                <h4 class="font-bold text-lg">Want to Know</h4>
                                <p class="text-gray-600">What questions do you have?</p>
                            </div>
                            <div class="bg-white rounded-xl p-4">
                                <div class="text-3xl mb-2">ğŸ’¡</div>
                                <h4 class="font-bold text-lg">Learned</h4>
                                <p class="text-gray-600">What new information did you discover?</p>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Choose Topic -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“ Step 2: Choose Your Research/Writing Topic</h3>
                        <input type="text" id="kwlTopic" class="w-full p-4 text-lg border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Enter your topic for research and writing..." onchange="updateKwlTopic()">
                        <div id="kwlTopicDisplay" class="mt-4 text-center text-lg font-bold text-blue-600"></div>
                    </div>

                    <!-- Step 3: What I Know -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“š Step 3: Know - What You Already Know</h3>
                        <textarea id="kwlKnow" class="w-full h-32 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="List everything you already know about your topic..."></textarea>
                        <button onclick="completeKwlKnow()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">ğŸ“š Complete "What I Know"</button>
                    </div>

                    <!-- Step 4: What I Want to Know -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">â“ Step 4: Want to Know - Your Questions</h3>
                        <textarea id="kwlWant" class="w-full h-32 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Write your questions about the topic..."></textarea>
                        <button onclick="completeKwlWant()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">â“ Complete "What I Want to Know"</button>
                    </div>

                    <!-- Step 5: Research -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ” Step 5: Research - Find Answers to Your Questions</h3>
                        <textarea id="kwlResearch" class="w-full h-32 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Take notes while you research..."></textarea>
                        <button onclick="completeKwlResearch()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors">ğŸ” Complete Research</button>
                    </div>

                    <!-- Step 6: What I Learned -->
                    <div class="bg-white rounded-2xl p-6 border-4 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ’¡ Step 6: Learned - What You Discovered</h3>
                        <textarea id="kwlLearned" class="w-full h-32 p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="Write what you learned from your research..."></textarea>
                        <button onclick="completeKwlStrategy()" class="mt-4 bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all">ğŸ‰ Complete KWL Strategy!</button>
                    </div>
                </div>
            `;
        }

        // Strategy Functions
        function updateStopTopic() {
            const topic = document.getElementById('stopTopic').value;
            const display = document.getElementById('stopTopicDisplay');
            if (topic.trim()) {
                display.textContent = `ğŸ›‘ Arguing about: "${topic}"`;
                updateStrategyProgress('stop', 15);
            }
        }

        function completeStopBrainstorm() {
            const forArgs = document.getElementById('stopFor').value;
            const againstArgs = document.getElementById('stopAgainst').value;
            if (forArgs.trim() && againstArgs.trim()) {
                updateStrategyProgress('stop', 35);
                showSuccess('Brainstorming completed! Great job exploring both sides.');
            } else {
                alert('Please complete both FOR and AGAINST arguments!');
            }
        }

        function takeSide(side) {
            document.getElementById('sideFor').classList.toggle('bg-green-600', side === 'for');
            document.getElementById('sideAgainst').classList.toggle('bg-red-600', side === 'against');
            document.getElementById('chosenSide').textContent = side === 'for' ? 'âœ… You chose: FOR this topic' : 'âŒ You chose: AGAINST this topic';
            updateStrategyProgress('stop', 50);
        }

        function completeStopOrganize() {
            const organized = document.getElementById('stopOrganize').value;
            if (organized.trim()) {
                updateStrategyProgress('stop', 70);
                showSuccess('Ideas organized! Ready to write your draft.');
            } else {
                alert('Please organize your ideas with stars and numbers!');
            }
        }

        function completeStopDraft() {
            const draft = document.getElementById('stopDraft').value;
            if (draft.trim() && draft.length > 100) {
                updateStrategyProgress('stop', 85);
                showSuccess('Draft completed! Time for final review.');
            } else {
                alert('Please write a substantial draft (at least 100 words)!');
            }
        }

        function completeStopStrategy() {
            updateStrategyProgress('stop', 100);
            showSuccess('ğŸ‰ STOP Strategy mastered! You\'ve learned the complete persuasive writing process!');
        }

        // AIM Strategy Functions
        function updateAimTopic() {
            const topic = document.getElementById('aimTopic').value;
            const display = document.getElementById('aimTopicDisplay');
            if (topic.trim()) {
                display.textContent = `ğŸ¯ Writing about: "${topic}"`;
                updateStrategyProgress('aim', 15);
            }
        }

        function completeAimAttract() {
            const attract = document.getElementById('aimAttract').value;
            if (attract.trim()) {
                updateStrategyProgress('aim', 40);
                showSuccess('Great hook! You\'ve grabbed the reader\'s attention.');
            } else {
                alert('Please write your attention-grabbing hook!');
            }
        }

        function completeAimIdentify() {
            const identify = document.getElementById('aimIdentify').value;
            if (identify.trim()) {
                updateStrategyProgress('aim', 65);
                showSuccess('Main point identified! Clear and focused.');
            } else {
                alert('Please clearly state your main point!');
            }
        }

        function completeAimMap() {
            const map = document.getElementById('aimMap').value;
            if (map.trim()) {
                updateStrategyProgress('aim', 85);
                showSuccess('Background information added! Your readers have context.');
            } else {
                alert('Please provide background information!');
            }
        }

        function generateAimIntro() {
            const attract = document.getElementById('aimAttract').value;
            const identify = document.getElementById('aimIdentify').value;
            const map = document.getElementById('aimMap').value;
            
            if (attract.trim() && identify.trim() && map.trim()) {
                const combined = `${attract}\n\n${identify}\n\n${map}`;
                document.getElementById('aimIntroduction').value = combined;
                showSuccess('Introduction sections combined! Review and edit as needed.');
            } else {
                alert('Please complete all three AIM sections first!');
            }
        }

        function completeAimStrategy() {
            const intro = document.getElementById('aimIntroduction').value;
            if (intro.trim()) {
                updateStrategyProgress('aim', 100);
                showSuccess('ğŸ‰ AIM Strategy mastered! You\'ve learned how to write compelling introductions!');
            } else {
                alert('Please complete your introduction!');
            }
        }

        // PLAN Strategy Functions
        function checkPlanProgress() {
            const assignment = document.getElementById('planAssignment').value;
            if (assignment.trim()) {
                updateStrategyProgress('plan', 20);
            }
        }

        function completePlanAttention() {
            const checkedBoxes = document.querySelectorAll('#modalContent input[type="checkbox"]:checked').length;
            if (checkedBoxes >= 3) {
                updateStrategyProgress('plan', 35);
                showSuccess('Assignment analyzed! You understand what\'s needed.');
            } else {
                alert('Please complete at least 3 items in the checklist!');
            }
        }

        function completePlanList() {
            const list = document.getElementById('planList').value;
            if (list.trim() && list.split('\n').filter(line => line.trim()).length >= 3) {
                updateStrategyProgress('plan', 55);
                showSuccess('Main ideas listed! Good brainstorming.');
            } else {
                alert('Please list at least 3 main ideas!');
            }
        }

        function completePlanAdd() {
            const idea1 = document.getElementById('planIdea1').value;
            const support1 = document.getElementById('planSupport1').value;
            const idea2 = document.getElementById('planIdea2').value;
            const support2 = document.getElementById('planSupport2').value;
            
            if (idea1.trim() && support1.trim() && idea2.trim() && support2.trim()) {
                updateStrategyProgress('plan', 80);
                showSuccess('Supporting details added! Your ideas are well-developed.');
            } else {
                alert('Please complete at least 2 main ideas with supporting details!');
            }
        }

        function completePlanStrategy() {
            const numbered = document.getElementById('planNumber').value;
            if (numbered.trim() && numbered.includes('1.') && numbered.includes('2.')) {
                updateStrategyProgress('plan', 100);
                showSuccess('ğŸ‰ PLAN Strategy mastered! You\'ve learned systematic organization!');
            } else {
                alert('Please number your ideas in order!');
            }
        }

        // DARE Strategy Functions
        function updateDareTopic() {
            const topic = document.getElementById('dareTopic').value;
            const display = document.getElementById('dareTopicDisplay');
            if (topic.trim()) {
                display.textContent = `âš¡ Arguing: "${topic}"`;
                updateStrategyProgress('dare', 15);
            }
        }

        function completeDareDevelop() {
            const thesis = document.getElementById('dareDevelop').value;
            if (thesis.trim() && thesis.length > 20) {
                updateStrategyProgress('dare', 35);
                showSuccess('Strong thesis developed! Clear position stated.');
            } else {
                alert('Please write a clear, detailed thesis statement!');
            }
        }

        function completeDareAdd() {
            const support1 = document.getElementById('dareSupport1').value;
            const support2 = document.getElementById('dareSupport2').value;
            if (support1.trim() && support2.trim()) {
                updateStrategyProgress('dare', 60);
                showSuccess('Supporting arguments added! Strong evidence provided.');
            } else {
                alert('Please complete at least 2 supporting arguments!');
            }
        }

        function completeDareReject() {
            const counterArg = document.getElementById('dareCounterArg').value;
            const rebuttal = document.getElementById('dareRebuttal').value;
            if (counterArg.trim() && rebuttal.trim()) {
                updateStrategyProgress('dare', 80);
                showSuccess('Counter-arguments addressed! Your argument is stronger.');
            } else {
                alert('Please address counter-arguments and provide rebuttals!');
            }
        }

        function completeDareStrategy() {
            const conclusion = document.getElementById('dareEnd').value;
            if (conclusion.trim()) {
                updateStrategyProgress('dare', 100);
                showSuccess('ğŸ‰ DARE Strategy mastered! You\'ve learned powerful argumentative writing!');
            } else {
                alert('Please write your conclusion!');
            }
        }

        // STAR Strategy Functions
        function loadStarDraft() {
            const draft = document.getElementById('starOriginalDraft').value;
            if (draft.trim()) {
                document.getElementById('starSubstitute').value = draft;
                document.getElementById('starTakeOut').value = draft;
                document.getElementById('starAdd').value = draft;
                document.getElementById('starRearrange').value = draft;
                updateStrategyProgress('star', 20);
                showSuccess('Draft loaded! Ready for revision.');
            } else {
                alert('Please paste your draft first!');
            }
        }

        function completeStarSubstitute() {
            const revised = document.getElementById('starSubstitute').value;
            if (revised.trim()) {
                updateStrategyProgress('star', 40);
                document.getElementById('starTakeOut').value = revised;
                showSuccess('Word substitutions completed! Stronger vocabulary used.');
            } else {
                alert('Please complete your word substitutions!');
            }
        }

        function completeStarTakeOut() {
            const revised = document.getElementById('starTakeOut').value;
            if (revised.trim()) {
                updateStrategyProgress('star', 60);
                document.getElementById('starAdd').value = revised;
                showSuccess('Unnecessary words removed! Writing is more concise.');
            } else {
                alert('Please remove repetitive elements!');
            }
        }

        function completeStarAdd() {
            const revised = document.getElementById('starAdd').value;
            if (revised.trim()) {
                updateStrategyProgress('star', 80);
                document.getElementById('starRearrange').value = revised;
                showSuccess('Details added! Writing is more vivid and engaging.');
            } else {
                alert('Please add more details and descriptions!');
            }
        }

        function completeStarStrategy() {
            const final = document.getElementById('starRearrange').value;
            if (final.trim()) {
                updateStrategyProgress('star', 100);
                showSuccess('ğŸ‰ STAR Strategy mastered! You\'ve learned systematic revision!');
            } else {
                alert('Please complete your final revision!');
            }
        }

        // KWL Strategy Functions
        function updateKwlTopic() {
            const topic = document.getElementById('kwlTopic').value;
            const display = document.getElementById('kwlTopicDisplay');
            if (topic.trim()) {
                display.textContent = `ğŸ§  Researching: "${topic}"`;
                updateStrategyProgress('kwl', 15);
            }
        }

        function completeKwlKnow() {
            const know = document.getElementById('kwlKnow').value;
            if (know.trim() && know.split('\n').filter(line => line.trim()).length >= 3) {
                updateStrategyProgress('kwl', 30);
                showSuccess('Prior knowledge recorded! Good starting point.');
            } else {
                alert('Please list at least 3 things you know!');
            }
        }

        function completeKwlWant() {
            const want = document.getElementById('kwlWant').value;
            if (want.trim() && want.split('\n').filter(line => line.trim()).length >= 3) {
                updateStrategyProgress('kwl', 50);
                showSuccess('Research questions created! Ready to investigate.');
            } else {
                alert('Please write at least 3 questions!');
            }
        }

        function completeKwlResearch() {
            const research = document.getElementById('kwlResearch').value;
            if (research.trim() && research.length > 100) {
                updateStrategyProgress('kwl', 75);
                showSuccess('Research completed! Lots of new information gathered.');
            } else {
                alert('Please complete substantial research notes!');
            }
        }

        function completeKwlStrategy() {
            const learned = document.getElementById('kwlLearned').value;
            if (learned.trim()) {
                updateStrategyProgress('kwl', 100);
                showSuccess('ğŸ‰ KWL Strategy mastered! You\'ve learned systematic research and writing!');
            } else {
                alert('Please complete what you learned!');
            }
        }

        // Utility Functions
        function updateWordCount(textareaId, countId) {
            const textarea = document.getElementById(textareaId);
            const text = textarea.value;
            const words = text.trim() ? text.trim().split(/\s+/).length : 0;
            if (document.getElementById(countId)) {
                document.getElementById(countId).textContent = `Word count: ${words}`;
            }
        }

        function showSuccess(message) {
            // Create temporary success message
            const successDiv = document.createElement('div');
            successDiv.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-xl shadow-lg z-50 fade-in';
            successDiv.textContent = message;
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                successDiv.remove();
            }, 3000);
        }

        function exportPortfolio() {
            const completedStrategies = Object.keys(strategyProgress).filter(key => strategyProgress[key] === 100);
            const portfolioData = {
                student: studentName || 'Student',
                focus: writingFocus || 'Not selected',
                date: new Date().toLocaleDateString(),
                completed: completedStrategies.length,
                total: 6,
                strategies: completedStrategies
            };
            
            alert(`ğŸ“„ Portfolio Export Ready!\n\nStudent: ${portfolioData.student}\nFocus: ${portfolioData.focus}\nCompleted: ${portfolioData.completed}/6 strategies\n\nIn a real application, this would generate a complete PDF portfolio with all your writing samples and progress!`);
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved progress
            loadProgress();
            
            // Add welcome message with TTS
            setTimeout(() => {
                if (!studentName) {
                    speakText('Welcome to Writing Tutor Pro! Please enter your name and choose your writing focus to get started.');
                }
            }, 1000);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97aca744f7fcfa2a',t:'MTc1NzE0Nzk0MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
