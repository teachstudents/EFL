<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Audio Quizzes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .speaking {
            background-color: #dbeafe; /* A light blue highlight */
            border-radius: 3px;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div id="start-page" class="max-w-4xl mx-auto p-4 sm:p-6 md:p-8">
        <div class="bg-white rounded-xl shadow-lg p-8 text-center">
            <h1 class="text-3xl font-bold text-gray-900 mb-6">Audio Quizzes (31-60)</h1>
            <p class="text-gray-600 mb-8">Please select a quiz to begin.</p>
            <div id="quiz-menu" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Quiz buttons will be dynamically inserted here by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Quiz Template (used by JS to generate quiz pages) -->
    <div id="quiz-template" class="hidden">
        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
             <div class="p-6 border-b border-gray-200">
                <button class="back-btn font-semibold flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
                    </svg>
                    Back to Quizzes
                </button>
            </div>
            <!-- Audio Player Section -->
            <div class="p-6 border-b border-gray-200 bg-gray-50">
                <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
                    <div class="flex items-center gap-4">
                        <button class="playPauseBtn w-12 h-12 flex items-center justify-center rounded-full text-white transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 flex-shrink-0">
                            <svg class="playIcon w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.972l-11.54 6.347a1.125 1.125 0 01-1.667-.986V5.653z" /></svg>
                            <svg class="pauseIcon w-6 h-6 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25v13.5m-6-13.5v13.5" /></svg>
                        </button>
                        <div class="timer text-lg font-mono text-gray-700">00:00</div>
                    </div>
                    <div class="w-full sm:w-auto flex items-center gap-3">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-gray-500"><path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" /></svg>
                        <input type="range" min="0" max="1" step="0.05" value="1" class="volumeSlider w-full sm:w-32 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                    </div>
                </div>
            </div>
            <!-- Quiz Content -->
            <div class="p-6">
                <p class="quiz-instruction text-gray-600 mb-6"></p>
                <h2 class="quiz-title text-xl font-bold text-gray-900 mb-4"></h2>
                <div class="quiz-questions space-y-4 text-lg"></div>
            </div>
            <!-- Answer & Audioscript Section -->
            <div class="px-6 pb-6">
                <button class="toggleAnswerBtn w-full text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg focus:outline-none focus:ring-2 transition-colors">
                    <div class="flex justify-between items-center"><span class="font-semibold text-lg text-gray-800">Answer & Audioscript</span><svg class="chevronIcon w-6 h-6 transform transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg></div>
                </button>
                <div class="answerContent accordion-content mt-4">
                    <div class="answer-key p-6 rounded-lg border">
                        <h3 class="text-lg font-bold mb-4">Answers</h3>
                        <div class="answer-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-2"></div>
                    </div>
                    <div class="mt-6">
                        <h3 class="text-lg font-bold text-gray-900 mb-4">Audioscript</h3>
                        <div class="audioscriptText prose max-w-none text-gray-700 leading-relaxed"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const quizData = [
            // Quiz 31
            {
                instruction: "You will hear a girl talking about a trip to the zoo.",
                title: "A Trip to the Zoo",
                questions: `<p>The girl’s favourite animals were the (14) ……………….</p><p>The monkeys were eating (15) ……………….</p><p>The penguins were swimming in a large (16) ……………….</p><p>The girl learned that a tiger’s stripes are (17) ……………….</p><p>The zoo has a new house for (18) ……………….</p><p>The girl bought a toy (19) ……………… in the shop.</p>`,
                answers: `<p><span class="font-semibold">14</span> elephants</p><p><span class="font-semibold">15</span> bananas</p><p><span class="font-semibold">16</span> pool</p><p><span class="font-semibold">17</span> unique</p><p><span class="font-semibold">18</span> reptiles</p><p><span class="font-semibold">19</span> panda</p>`,
                audioscript: `<p>Yesterday, my class went on a trip to the city zoo. It was so much fun! We saw so many amazing animals. My favourite animals were the elephants because they are so huge but gentle. We watched the monkeys for a long time; they were very funny and were eating bananas. The penguins were great too, swimming so fast in their large pool. We had a talk from one of the zookeepers. She told us that every tiger has a pattern of stripes that is unique, just like human fingerprints. That was really interesting. The zoo has just opened a new house for reptiles, like snakes and lizards, which was a little bit scary! At the end of the day, I bought a small toy panda from the gift shop to remember my visit.</p>`,
                theme: 'blue'
            },
            // Quiz 32
            {
                instruction: "You will hear a boy talking about planning a birthday party.",
                title: "Planning a Birthday Party",
                questions: `<p>The party is for the boy’s (14) ……………….</p><p>The party will be held in their (15) ……………….</p><p>They will send out the (16) ……………… tomorrow.</p><p>The theme of the party is (17) ……………….</p><p>The cake will be in the shape of a (18) ……………….</p><p>The boy’s mum will buy the food from the (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> sister</p><p><span class="font-semibold">15</span> garden</p><p><span class="font-semibold">16</span> invitations</p><p><span class="font-semibold">17</span> pirates</p><p><span class="font-semibold">18</span> ship</p><p><span class="font-semibold">19</span> supermarket</p>`,
                audioscript: `<p>This weekend, we are planning a birthday party for my little sister, Emily. She’s going to be seven years old. We decided to have the party in our garden because the weather is supposed to be nice and sunny. My job is to write all the invitations, which we are going to send out to her friends tomorrow. We’ve chosen a theme for the party. It’s going to be about pirates, so everyone has to dress up. My dad is going to make the birthday cake. He’s an amazing baker. He’s going to make it in the shape of a pirate ship. My mum is in charge of all the food. She’s going to go to the supermarket later to buy everything we need for the party snacks.</p>`,
                theme: 'green'
            },
            // Quiz 33
            {
                instruction: "You will hear a student giving a review of a book.",
                title: "Book Review",
                questions: `<p>The book is called ‘The Secret of the (14) ………………’.</p><p>The main character is a girl called (15) ……………….</p><p>The story is set in a small (16) ……………….</p><p>The girl finds an old (17) ……………… in her house.</p><p>The book was very (18) ……………… and hard to put down.</p><p>The student recommends the book to people who like (19) ……………… stories.</p>`,
                answers: `<p><span class="font-semibold">14</span> Island</p><p><span class="font-semibold">15</span> Lily</p><p><span class="font-semibold">16</span> village</p><p><span class="font-semibold">17</span> map</p><p><span class="font-semibold">18</span> exciting</p><p><span class="font-semibold">19</span> adventure</p>`,
                audioscript: `<p>For my book report, I read a book called ‘The Secret of the Island’. It was a really great story. The main character is a twelve-year-old girl called Lily. The story takes place in a small village by the sea. One day, Lily finds an old map hidden in the attic of her house. The map shows the way to a secret treasure hidden on a nearby island. Lily decides to follow the map and find the treasure. The book was very exciting, and I found it really hard to put down. I kept wanting to know what would happen next. I would definitely recommend this book to anyone who enjoys a good adventure story with lots of mystery.</p>`,
                theme: 'purple'
            },
            // Quiz 34
            {
                instruction: "You will hear an announcement about a new sports club.",
                title: "New Basketball Club",
                questions: `<p>The club is for children aged between 10 and (14) ……………….</p><p>Training sessions are on (15) ……………… evenings.</p><p>The sessions are held at the local (16) ……………… centre.</p><p>The coach is a former professional (17) ……………….</p><p>You need to wear trainers and comfortable (18) ……………….</p><p>To join, you should speak to the (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> 14 / fourteen</p><p><span class="font-semibold">15</span> Friday</p><p><span class="font-semibold">16</span> leisure</p><p><span class="font-semibold">17</span> player</p><p><span class="font-semibold">18</span> clothes</p><p><span class="font-semibold">19</span> receptionist</p>`,
                audioscript: `<p>Listen up, sports fans! We are excited to announce the opening of a new basketball club. The club is for boys and girls aged between 10 and 14. If you want to learn how to play basketball or improve your skills, this is the club for you. Training sessions will be held on Friday evenings, from 6 p.m. to 7:30 p.m. We will be using the sports hall at the local leisure centre. We are very lucky to have a fantastic coach. He is a former professional player, so he has a lot of experience. All you need to bring is a pair of trainers and some comfortable clothes. If you are interested in joining, please go to the leisure centre and speak to the receptionist to get a registration form.</p>`,
                theme: 'yellow'
            },
            // Quiz 35
            {
                instruction: "You will hear a tour guide talking about a historic castle.",
                title: "Castle Tour",
                questions: `<p>The castle is over (14) ……………… years old.</p><p>The castle was home to a famous (15) ……………….</p><p>In the Great Hall, you can see a collection of old (16) ……………….</p><p>The guide warns visitors about the narrow (17) ……………….</p><p>From the top of the tower, there are great views of the (18) ……………….</p><p>The tour does not include the (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> 800 / eight hundred</p><p><span class="font-semibold">15</span> king</p><p><span class="font-semibold">16</span> armour</p><p><span class="font-semibold">17</span> stairs</p><p><span class="font-semibold">18</span> countryside</p><p><span class="font-semibold">19</span> dungeons</p>`,
                audioscript: `<p>Hello and welcome to Northwood Castle. This amazing castle is over 800 years old and was once the home of a famous king and his family. We are now standing in the Great Hall. If you look around, you can see the incredible collection of old armour that was worn by knights. In a moment, we will climb the tower. I must warn you that the stairs are very old and narrow, so please be careful. When we get to the top, you will see some wonderful views of the surrounding countryside. This tour does not include the dungeons, as they are currently closed for safety reasons, but you can buy a book about them in our shop. Please follow me.</p>`,
                theme: 'red'
            },
            // Quiz 36
            {
                instruction: "You will hear a woman talking about learning to cook.",
                title: "Learning to Cook",
                questions: `<p>The woman took a cooking class at her local (14) ……………….</p><p>The first dish she learned to make was (15) ……………….</p><p>She says it is important to read the (16) ……………… carefully.</p><p>Her family’s favourite dish that she makes is (17) ……………….</p><p>She finds cooking to be a very (18) ……………… hobby.</p><p>She bought a new cookbook about (19) ……………… food.</p>`,
                answers: `<p><span class="font-semibold">14</span> college</p><p><span class="font-semibold">15</span> soup</p><p><span class="font-semibold">16</span> recipe</p><p><span class="font-semibold">17</span> lasagna</p><p><span class="font-semibold">18</span> creative</p><p><span class="font-semibold">19</span> Italian</p>`,
                audioscript: `<p>I never used to know how to cook. I could only make toast! So last year, I decided to take a cooking class at my local college. It was a course for complete beginners. The first thing our teacher showed us how to make was a simple vegetable soup. It was delicious! I learned that the most important thing is to read the whole recipe carefully before you start. Now, I cook for my family all the time. Their favourite dish is my lasagna. I really enjoy cooking. I find it’s a very creative hobby. Last week, I bought a new cookbook that is all about Italian food, so I’m looking forward to trying some new dishes from that.</p>`,
                theme: 'indigo'
            },
            // Quiz 37
            {
                instruction: "You will hear a message about a school concert.",
                title: "School Concert",
                questions: `<p>The concert is on Wednesday, 15th of (14) ……………….</p><p>It will be held in the main school (15) ……………….</p><p>The concert will start at (16) ……………… p.m.</p><p>Tickets can be bought from the school (17) ……………….</p><p>The school orchestra and the (18) ……………… will be performing.</p><p>Money from ticket sales will be used to buy new (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> May</p><p><span class="font-semibold">15</span> hall</p><p><span class="font-semibold">16</span> 7 / seven</p><p><span class="font-semibold">17</span> office</p><p><span class="font-semibold">18</span> choir</p><p><span class="font-semibold">19</span> instruments</p>`,
                audioscript: `<p>This is a reminder about the annual school concert. This year, the concert will take place on Wednesday, the 15th of May. As usual, it will be in the main school hall. The performance will begin at 7 p.m., so please arrive in good time to find your seats. Tickets are now on sale. You can buy them from the school office during the lunch break. They are selling fast, so don’t wait too long! The school orchestra will be playing, and the school choir will also be singing a selection of popular songs. All the money we make from selling tickets will be used to buy new instruments for the music department. We hope to see you there.</p>`,
                theme: 'pink'
            },
            // Quiz 38
            {
                instruction: "You will hear a student giving a presentation about space.",
                title: "Space Presentation",
                questions: `<p>The presentation is about our (14) ……………….</p><p>The largest planet is (15) ……………….</p><p>Mars is known as the (16) ……………… Planet.</p><p>Humans have walked on the (17) ……………….</p><p>A powerful (18) ……………… is needed to see distant stars.</p><p>The student wants to be an (19) ……………… in the future.</p>`,
                answers: `<p><span class="font-semibold">14</span> solar system</p><p><span class="font-semibold">15</span> Jupiter</p><p><span class="font-semibold">16</span> Red</p><p><span class="font-semibold">17</span> Moon</p><p><span class="font-semibold">18</span> telescope</p><p><span class="font-semibold">19</span> astronaut</p>`,
                audioscript: `<p>Today, I’m going to talk about space. Our solar system is a fascinating place with eight planets orbiting the Sun. The largest of all the planets is Jupiter. It’s so big that all the other planets could fit inside it. The planet Mars is often called the Red Planet because of its colour. In 1969, humans first travelled through space and walked on the Moon, which was a huge achievement. To see stars and other planets that are far away, you need to use a powerful telescope. I find space so interesting. When I grow up, I want to be an astronaut and travel to other planets myself. Thank you for listening.</p>`,
                theme: 'gray'
            },
            // Quiz 39
            {
                instruction: "You will hear a radio announcement about a lost dog.",
                title: "Lost Dog",
                questions: `<p>The dog’s name is (14) ……………….</p><p>He is a small, brown (15) ……………….</p><p>He went missing from a (16) ……………… this morning.</p><p>He is very friendly but can be (17) ……………….</p><p>He answers to his name and also to a (18) ……………….</p><p>The owner’s phone number is on a tag on his (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> Max</p><p><span class="font-semibold">15</span> terrier</p><p><span class="font-semibold">16</span> park</p><p><span class="font-semibold">17</span> nervous</p><p><span class="font-semibold">18</span> whistle</p><p><span class="font-semibold">19</span> collar</p>`,
                audioscript: `<p>We have an announcement about a lost dog. The dog’s name is Max. He is a small, brown terrier with short legs and big ears. He went missing from the city park this morning at around 10 a.m. His owners are very worried. Max is a very friendly dog, but he can be a bit nervous around loud noises. He will answer to his name, and he will also come if you use a whistle. He is wearing a red collar with a silver tag. The owner’s name and phone number are on the tag. If you think you have seen Max, please call the number on the tag immediately. Let’s help get Max home safely.</p>`,
                theme: 'orange'
            },
            // Quiz 40
            {
                instruction: "You will hear a visitor talking about a technology museum.",
                title: "Technology Museum",
                questions: `<p>The museum has an exhibition about the history of (14) ……………….</p><p>The visitor was most interested in the old (15) ……………….</p><p>There is a section where you can design a (16) ……………….</p><p>The museum has a 3D (17) ……………….</p><p>The visitor recommends the flight (18) ……………….</p><p>The museum shop sells books and (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> computers</p><p><span class="font-semibold">15</span> mobile phones</p><p><span class="font-semibold">16</span> robot</p><p><span class="font-semibold">17</span> cinema</p><p><span class="font-semibold">18</span> simulator</p><p><span class="font-semibold">19</span> gadgets</p>`,
                audioscript: `<p>I visited the new technology museum last weekend, and it was brilliant. There was a huge exhibition all about the history of computers, which was fascinating to see. The part I found most interesting was the display of old mobile phones. It’s amazing how much they have changed! There are lots of interactive displays. I spent a long time in the section where you can design your own robot on a computer screen. The museum also has a 3D cinema, which shows a film about space travel. The best part for me was the flight simulator, where you get to feel what it’s like to fly a plane. I highly recommend it. The museum shop is great too, selling lots of books and cool gadgets.</p>`,
                theme: 'teal'
            },
            // Quiz 41
            {
                instruction: "You will hear a nutritionist giving a talk about healthy eating.",
                title: "Healthy Eating",
                questions: `<p>It is important to eat five portions of fruit and (14) ……………… every day.</p><p>You should drink plenty of (15) ……………….</p><p>Sugary drinks and snacks are bad for your (16) ……………….</p><p>It is better to eat brown bread instead of (17) ……………… bread.</p><p>A healthy breakfast gives you (18) ……………… for the morning.</p><p>Regular (19) ……………… is also important for good health.</p>`,
                answers: `<p><span class="font-semibold">14</span> vegetables</p><p><span class="font-semibold">15</span> water</p><p><span class="font-semibold">16</span> teeth</p><p><span class="font-semibold">17</span> white</p><p><span class="font-semibold">18</span> energy</p><p><span class="font-semibold">19</span> exercise</p>`,
                audioscript: `<p>Hello everyone. Today I’m going to talk about healthy eating. It’s really important to have a balanced diet. You should try to eat at least five portions of fruit and vegetables every day. It’s also essential to drink plenty of water to stay hydrated, about six to eight glasses a day. Try to avoid sugary drinks and snacks as they are not good for you, and they are especially bad for your teeth. When you are choosing bread or pasta, it’s better to eat brown, wholemeal versions instead of white ones, as they contain more fibre. Don’t skip breakfast! A healthy breakfast, like porridge or cereal, will give you the energy you need for the morning. Finally, remember that as well as a healthy diet, regular exercise is also very important for your overall health.</p>`,
                theme: 'cyan'
            },
            // Quiz 42
            {
                instruction: "You will hear a family planning a holiday.",
                title: "Holiday Planning",
                questions: `<p>The family wants to go on holiday in the (14) ……………….</p><p>The son wants to go somewhere with a (15) ……………….</p><p>The daughter wants to visit a big (16) ……………….</p><p>The father is looking for information on the (17) ……………….</p><p>They decide to go to a country called (18) ……………….</p><p>They need to check if their (19) ……………… are still valid.</p>`,
                answers: `<p><span class="font-semibold">14</span> summer</p><p><span class="font-semibold">15</span> beach</p><p><span class="font-semibold">16</span> city</p><p><span class="font-semibold">17</span> internet</p><p><span class="font-semibold">18</span> Spain</p><p><span class="font-semibold">19</span> passports</p>`,
                audioscript: `<p>Right, family meeting! We need to decide where to go on holiday this summer. We have two weeks. Any ideas? Well, I want to go somewhere hot, with a beach, so I can go swimming every day. But I want to go somewhere with a big city we can explore, with museums and shops. Okay, let’s see if we can find somewhere with both. I’m looking for information on the internet now. What about the coast of Spain? There are lots of towns with lovely beaches, and we could easily take a day trip to a city like Barcelona. Oh, yes, that sounds perfect! Great, so Spain it is. The last thing we need to do is check that all our passports are still valid before we book anything.</p>`,
                theme: 'lime'
            },
            // Quiz 43
            {
                instruction: "You will hear a teenager talking about her part-time job.",
                title: "My Part-Time Job",
                questions: `<p>The girl works in a (14) ……………….</p><p>She works on Saturdays and (15) ……………….</p><p>Her main job is to serve (16) ……………….</p><p>She says the work is hard but the (17) ……………… are friendly.</p><p>She is saving money to buy a new (18) ……………….</p><p>She thinks the experience will be useful for a future (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> café / cafe</p><p><span class="font-semibold">15</span> Sundays</p><p><span class="font-semibold">16</span> customers</p><p><span class="font-semibold">17</span> staff</p><p><span class="font-semibold">18</span> phone</p><p><span class="font-semibold">19</span> career</p>`,
                audioscript: `<p>I have a part-time job to earn some extra money. I work in a small café in the town centre. I work every weekend, on both Saturdays and Sundays, from 10 a.m. until 4 p.m. It’s a busy place, so I’m always on my feet. My main responsibility is to take orders and serve the customers at their tables. It can be hard work, especially during the lunchtime rush, but I enjoy it. All the other staff who work there are really friendly, which makes a big difference. I’m saving up most of the money I earn because I want to buy a new phone. I also think having a job is good experience. It teaches you to be responsible, which will be useful for my future career.</p>`,
                theme: 'rose'
            },
            // Quiz 44
            {
                instruction: "You will hear an announcement about a park clean-up event.",
                title: "Park Clean-up",
                questions: `<p>The clean-up event is in (14) ……………… Park.</p><p>It is taking place this (15) ……………… morning.</p><p>Volunteers should meet near the (16) ……………… at 10 a.m.</p><p>They will be collecting (17) ……………….</p><p>Volunteers should wear strong (18) ……………….</p><p>Free drinks and (19) ……………… will be provided.</p>`,
                answers: `<p><span class="font-semibold">14</span> Riverside</p><p><span class="font-semibold">15</span> Saturday</p><p><span class="font-semibold">16</span> playground</p><p><span class="font-semibold">17</span> litter</p><p><span class="font-semibold">18</span> shoes</p><p><span class="font-semibold">19</span> snacks</p>`,
                audioscript: `<p>Here’s an announcement for anyone who wants to help our local community. We are holding a clean-up event in Riverside Park this Saturday morning. We need as many volunteers as possible to help make our park a cleaner, more pleasant place for everyone. If you would like to help, please meet us near the children’s playground at 10 a.m. We will be working for a couple of hours to collect litter from all around the park. We will provide gloves and bags, but please could you wear strong shoes or boots. To say thank you to all our wonderful volunteers, we will be providing free drinks and snacks afterwards. Let’s work together to make a difference!</p>`,
                theme: 'fuchsia'
            },
            // Quiz 45
            {
                instruction: "You will hear a presenter on a radio show reviewing a new film.",
                title: "Film Review",
                questions: `<p>The film is a (14) ……………….</p><p>The story is about a detective trying to solve a (15) ……………….</p><p>The main character is played by a famous (16) ……………….</p><p>The presenter thought the story was a bit (17) ……………….</p><p>The best thing about the film was the (18) ……………….</p><p>The presenter gives the film (19) ……………… stars out of five.</p>`,
                answers: `<p><span class="font-semibold">14</span> thriller</p><p><span class="font-semibold">15</span> mystery</p><p><span class="font-semibold">16</span> actor</p><p><span class="font-semibold">17</span> confusing</p><p><span class="font-semibold">18</span> music</p><p><span class="font-semibold">19</span> 3 / three</p>`,
                audioscript: `<p>Welcome back to the film review show. This week I went to see the new thriller, ‘Midnight Shadow’. The story is about a detective who is trying to solve a difficult mystery about a stolen diamond. The main character is played by the famous actor, Tom Knight. I found the story quite exciting, but it was also a bit confusing at times, with too many twists and turns. It was hard to follow what was happening. For me, the best thing about the film was the music, which was very dramatic and really added to the atmosphere. Overall, it’s an okay film if you like this kind of movie, but it’s not brilliant. I’m giving it three stars out of five.</p>`,
                theme: 'violet'
            },
            // Quiz 46
            {
                instruction: "You will hear a student talking about her visit to a science fair.",
                title: "Science Fair Visit",
                questions: `<p>The science fair was held at the city’s (14) ……………… centre.</p><p>There were projects from many different (15) ……………….</p><p>The student’s favourite project was a model of a (16) ……………….</p><p>The model was made from recycled (17) ……………….</p><p>There was a competition for the best (18) ……………….</p><p>The student felt very (19) ……………… after her visit.</p>`,
                answers: `<p><span class="font-semibold">14</span> exhibition</p><p><span class="font-semibold">15</span> schools</p><p><span class="font-semibold">16</span> volcano</p><p><span class="font-semibold">17</span> materials</p><p><span class="font-semibold">18</span> project</p><p><span class="font-semibold">19</span> inspired</p>`,
                audioscript: `<p>Last week, I went to the annual science fair, which was held at the city’s exhibition centre. It was a huge event, with projects from lots of different schools in the area. There were so many clever ideas on display. My favourite project was a working model of a volcano. It was brilliant! It actually erupted with red, bubbly liquid. The students who made it explained that they had built it mostly from recycled materials, which I thought was a great idea. There was a competition to find the best project of the day, and the prize was a new computer for the winning school. I really enjoyed the science fair. Seeing all the amazing projects made me feel very inspired to think about my own science project for next year.</p>`,
                theme: 'amber'
            },
            // Quiz 47
            {
                instruction: "You will hear a teacher leaving a message for her students.",
                title: "Cancelled Class",
                questions: `<p>The message is for the (14) ……………… class.</p><p>Tomorrow’s class is cancelled because the teacher is (15) ……………….</p><p>The teacher has set some work on the school’s (16) ……………….</p><p>Students need to read a chapter and answer the (17) ……………….</p><p>The work should be handed in next (18) ……………….</p><p>The teacher apologises for the (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> science</p><p><span class="font-semibold">15</span> ill / unwell</p><p><span class="font-semibold">16</span> website</p><p><span class="font-semibold">17</span> questions</p><p><span class="font-semibold">18</span> week</p><p><span class="font-semibold">19</span> inconvenience</p>`,
                audioscript: `<p>Hello, this is a message for my Year 9 science class. I am afraid that I have to cancel our lesson tomorrow morning as I am feeling ill and will not be in school. I have set you some work to do instead. If you go to the school’s website and log in, you will find the details in our class section. I would like you to read the next chapter in your textbook about electricity and then answer the questions at the end of the chapter. Please can you complete this work and hand it in to me at the beginning of our lesson next week. I am very sorry for any inconvenience this may cause. Thank you.</p>`,
                theme: 'emerald'
            },
            // Quiz 48
            {
                instruction: "You will hear a history teacher giving a lesson about Ancient Egypt.",
                title: "Ancient Egypt",
                questions: `<p>The Ancient Egyptians lived along the River (14) ……………….</p><p>They built huge stone structures called (15) ……………….</p><p>The pyramids were built as tombs for the (16) ……………….</p><p>They developed a system of writing using pictures called (17) ……………….</p><p>They believed in many different (18) ……………….</p><p>The teacher recommends a documentary on the (19) ……………… channel.</p>`,
                answers: `<p><span class="font-semibold">14</span> Nile</p><p><span class="font-semibold">15</span> pyramids</p><p><span class="font-semibold">16</span> pharaohs</p><p><span class="font-semibold">17</span> hieroglyphics</p><p><span class="font-semibold">18</span> gods</p><p><span class="font-semibold">19</span> history</p>`,
                audioscript: `<p>Good morning, class. Today, we are going to begin our new topic: Ancient Egypt. The Ancient Egyptian civilization was one of the greatest in history. They lived thousands of years ago along the banks of the River Nile in Africa. They are famous for building the huge stone structures that we call pyramids. These were incredible feats of engineering. The pyramids were built as special tombs for their rulers, the pharaohs. The Egyptians also developed a fascinating system of writing that used pictures instead of letters. This was called hieroglyphics. Their religion was very important to them, and they believed in many different gods and goddesses. If you’re interested in learning more, there is an excellent documentary on the history channel tonight that I recommend you watch.</p>`,
                theme: 'sky'
            },
            // Quiz 49
            {
                instruction: "You will hear an announcement about a local library.",
                title: "Library Announcement",
                questions: `<p>The library will be closed for (14) ……………… next week.</p><p>It is closing so that a new (15) ……………… can be installed.</p><p>You can still return books using the box outside the main (16) ……………….</p><p>The library’s online services will still be (17) ……………….</p><p>The children’s story time has been moved to the local (18) ……………….</p><p>The library will reopen on (19) ……………… 1st.</p>`,
                answers: `<p><span class="font-semibold">14</span> two days</p><p><span class="font-semibold">15</span> computer system</p><p><span class="font-semibold">16</span> entrance</p><p><span class="font-semibold">17</span> available</p><p><span class="font-semibold">18</span> museum</p><p><span class="font-semibold">19</span> July</p>`,
                audioscript: `<p>This is an announcement for all library users. Please note that the library will be closed for two days next week, on Monday and Tuesday. We are closing so that we can install a new computer system, which will make it much faster and easier for you to borrow and return books in the future. During the closure, you can still return any books you have borrowed by using the special box located outside the main entrance. The library’s online services, where you can reserve books and access e-books, will still be available as normal. The regular children’s story time on Tuesday morning has been moved to the local museum for that week only. We apologise for any disruption. The library will reopen as normal on Wednesday, July 1st.</p>`,
                theme: 'red'
            },
            // Quiz 50
            {
                instruction: "You will hear a man talking about his hobby of gardening.",
                title: "Gardening Hobby",
                questions: `<p>The man has a small garden behind his (14) ……………….</p><p>In the spring, he plants (15) ……………….</p><p>His favourite things to grow are (16) ……………….</p><p>He says gardening is good (17) ……………….</p><p>He gives a lot of his vegetables to his (18) ……………….</p><p>He learns a lot from a gardening (19) ……………… on television.</p>`,
                answers: `<p><span class="font-semibold">14</span> house</p><p><span class="font-semibold">15</span> seeds</p><p><span class="font-semibold">16</span> tomatoes</p><p><span class="font-semibold">17</span> exercise</p><p><span class="font-semibold">18</span> neighbours</p><p><span class="font-semibold">19</span> programme</p>`,
                audioscript: `<p>I’d like to talk about my favourite hobby, which is gardening. I’m lucky enough to have a small garden behind my house. It’s not very big, but I manage to grow a lot of things in it. Every spring, I get very excited about planting all the seeds and watching them grow. I grow flowers and vegetables. My favourite things to grow are tomatoes. There’s nothing like the taste of a tomato that you’ve grown yourself. I find that spending time in the garden is very relaxing. It’s also good exercise, with all the digging and weeding. I always grow too much, so I give a lot of my fresh vegetables to my friends and neighbours. I’m still learning, and I get a lot of good tips from a gardening programme I watch on television every week.</p>`,
                theme: 'blue'
            },
            // Quiz 51
            {
                instruction: "You will hear an announcement about a charity fun run.",
                title: "Charity Fun Run",
                questions: `<p>The fun run is to raise money for a new (14) ……………….</p><p>The run is (15) ……………… kilometres long.</p><p>It starts and finishes in the town (16) ……………….</p><p>Everyone who finishes will receive a (17) ……………….</p><p>You can register for the run on the council’s (18) ……………….</p><p>The event is being supported by a local (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> hospital</p><p><span class="font-semibold">15</span> 5 / five</p><p><span class="font-semibold">16</span> square</p><p><span class="font-semibold">17</span> medal</p><p><span class="font-semibold">18</span> website</p><p><span class="font-semibold">19</span> radio station</p>`,
                audioscript: `<p>Get your running shoes ready for the annual town fun run! This year, we are raising money for the local children’s hospital, to help them build a new playground. The run is five kilometres long, so you can run, jog or walk the course. It’s all about taking part and having fun. The route will start and finish in the main town square. The race starts at 11 a.m. on Sunday. Every single person who crosses the finish line will receive a special medal to celebrate their achievement. To take part, you need to register in advance. You can do this by filling in the form on the town council’s website. The event is being supported by our local radio station, who will be playing music to keep you motivated.</p>`,
                theme: 'green'
            },
            // Quiz 52
            {
                instruction: "You will hear a geography teacher talking about different types of weather.",
                title: "Weather Talk",
                questions: `<p>Weather is the condition of the (14) ……………… at a certain time and place.</p><p>Clouds are made of tiny drops of (15) ……………….</p><p>Wind is caused by the movement of (16) ……………….</p><p>A thunderstorm has thunder and (17) ……………….</p><p>Snow is formed when the temperature is below (18) ……………… degrees.</p><p>A weather (19) ……………… helps to predict the weather.</p>`,
                answers: `<p><span class="font-semibold">14</span> atmosphere</p><p><span class="font-semibold">15</span> water</p><p><span class="font-semibold">16</span> air</p><p><span class="font-semibold">17</span> lightning</p><p><span class="font-semibold">18</span> zero</p><p><span class="font-semibold">19</span> forecast</p>`,
                audioscript: `<p>Hello class. Our geography topic today is weather. So, what is weather? It’s the condition of the atmosphere in a particular place and at a particular time. Let’s talk about clouds. Clouds are made of billions of tiny drops of water or ice crystals. Wind is another key part of weather. It is simply the movement of air from one place to another. Sometimes we get more dramatic weather. A thunderstorm, for example, is a storm with thunder and lightning. And what about snow? Snow is formed when the air temperature is below zero degrees Celsius, causing water vapour to freeze into ice crystals. We try to predict what the weather will be like by using a weather forecast, which gathers data from satellites and weather stations.</p>`,
                theme: 'purple'
            },
            // Quiz 53
            {
                instruction: "You will hear a drama teacher making an announcement about school play auditions.",
                title: "School Play Auditions",
                questions: `<p>This year’s school play is called ‘The (14) ……………… Key’.</p><p>It is a (15) ……………… story.</p><p>Auditions will be held after school on (16) ……………….</p><p>The auditions will be in the drama (17) ……………….</p><p>You don’t need to have any previous acting (18) ……………….</p><p>A list of parts is on the noticeboard outside the (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> Golden</p><p><span class="font-semibold">15</span> mystery</p><p><span class="font-semibold">16</span> Tuesday</p><p><span class="font-semibold">17</span> studio</p><p><span class="font-semibold">18</span> experience</p><p><span class="font-semibold">19</span> hall</p>`,
                audioscript: `<p>Can I have your attention please, all you budding actors! I’m excited to announce this year’s school play. It’s a fantastic play called ‘The Golden Key’. It’s a mystery story, full of secrets and surprises. We will be holding auditions to find our cast. The auditions will take place after school next Tuesday. Please come along to the drama studio at 4 p.m. if you are interested. You don’t need to prepare anything. And you don’t need to have any previous acting experience – everyone is welcome to try out. There are lots of great parts available, both large and small. You can find a full list of all the different parts on the noticeboard outside the main hall. I look forward to seeing lots of you there.</p>`,
                theme: 'yellow'
            },
            // Quiz 54
            {
                instruction: "You will hear a visitor talking about a trip to an art gallery.",
                title: "Art Gallery Visit",
                questions: `<p>The gallery has a special exhibition of (14) ……………… paintings.</p><p>The visitor’s favourite painting was of a (15) ……………….</p><p>The gallery has a room for (16) ……………… art.</p><p>The visitor took part in a (17) ……………… workshop.</p><p>The gallery has a café with views of the (18) ……………….</p><p>Entry to the gallery is (19) ……………… for students.</p>`,
                answers: `<p><span class="font-semibold">14</span> modern</p><p><span class="font-semibold">15</span> boat</p><p><span class="font-semibold">16</span> sculpture</p><p><span class="font-semibold">17</span> drawing</p><p><span class="font-semibold">18</span> river</p><p><span class="font-semibold">19</span> free</p>`,
                audioscript: `<p>I spent a lovely afternoon at the city art gallery yesterday. They have a new special exhibition of modern paintings which was really interesting, with lots of bright colours. My favourite painting in the whole gallery was a beautiful picture of a boat at sea during a storm. As well as paintings, the gallery has a large room full of sculpture, which I also enjoyed. While I was there, I took part in a short drawing workshop. It was great fun and I learned some new techniques. After looking at all the art, I went to the gallery’s café for a cup of tea. It’s a lovely space with big windows and great views over the river. Best of all, entry to the gallery is completely free for students, so I’ll definitely be going back again soon.</p>`,
                theme: 'red'
            },
            // Quiz 55
            {
                instruction: "You will hear an expert giving a talk about internet safety.",
                title: "Internet Safety",
                questions: `<p>It is important to keep your (14) ……………… private.</p><p>You should not share personal information like your address or (15) ……………….</p><p>Think carefully before you post any (16) ……………… online.</p><p>Be kind and (17) ……………… to other people online.</p><p>If you see something that makes you feel worried, you should tell an (18) ……………….</p><p>It is a good idea to take regular (19) ……………… from screens.</p>`,
                answers: `<p><span class="font-semibold">14</span> password</p><p><span class="font-semibold">15</span> phone number</p><p><span class="font-semibold">16</span> photos</p><p><span class="font-semibold">17</span> respectful</p><p><span class="font-semibold">18</span> adult</p><p><span class="font-semibold">19</span> breaks</p>`,
                audioscript: `<p>Today’s topic is about staying safe online. The internet is a fantastic tool, but it’s important to use it safely. First, always keep your password private and don’t share it with anyone. Second, be very careful about sharing personal information. You should never give out your address or your phone number to people you don’t know. Third, think carefully before you post any photos of yourself online. Once something is on the internet, it can be difficult to remove. Fourth, always be kind and respectful to other people online, just as you would be in real life. Finally, if you ever see anything online that makes you feel worried or uncomfortable, you must tell an adult you trust, like a parent or a teacher. And remember, it’s a good idea to take regular breaks from looking at screens.</p>`,
                theme: 'indigo'
            },
            // Quiz 56
            {
                instruction: "You will hear a girl leaving a message for her friend.",
                title: "Lost Phone Message",
                questions: `<p>The girl thinks she left her phone at her friend’s (14) ……………….</p><p>She was there (15) ……………… evening.</p><p>The phone has a (16) ……………… case.</p><p>She needs the phone to call her (17) ……………….</p><p>She asks her friend to look in the (18) ……………….</p><p>She will call back later from her (19) ……………… phone.</p>`,
                answers: `<p><span class="font-semibold">14</span> house</p><p><span class="font-semibold">15</span> last</p><p><span class="font-semibold">16</span> green</p><p><span class="font-semibold">17</span> mum / mother</p><p><span class="font-semibold">18</span> kitchen</p><p><span class="font-semibold">19</span> dad's / father's</p>`,
                audioscript: `<p>Hi Anna, it’s me, Lucy. I’m so sorry to bother you, but I think I’ve lost my phone and I’m wondering if I left it at your house. I was there last evening, remember? We were watching that film. I’ve looked everywhere here and I can’t find it. It’s the one with the bright green case, so it’s quite easy to see. I really need it because I have to call my mum later. Could you possibly have a look for me? I think it might be in the kitchen, maybe on the table where we had a snack. I’d be so grateful if you could check. I’m calling from my dad’s phone at the moment, but I’ll call you back later. Thanks a lot, bye!</p>`,
                theme: 'pink'
            },
            // Quiz 57
            {
                instruction: "You will hear a radio report about a local farmer's market.",
                title: "Farmer's Market",
                questions: `<p>The market is held every (14) ……………… in the town square.</p><p>You can buy fresh fruit and (15) ……………….</p><p>One stall sells homemade bread and (16) ……………….</p><p>The reporter recommends the local (17) ……………….</p><p>The market is a good way to support local (18) ……………….</p><p>The market is open from 9 a.m. until (19) ……………… p.m.</p>`,
                answers: `<p><span class="font-semibold">14</span> Sunday</p><p><span class="font-semibold">15</span> vegetables</p><p><span class="font-semibold">16</span> cakes</p><p><span class="font-semibold">17</span> cheese</p><p><span class="font-semibold">18</span> businesses</p><p><span class="font-semibold">19</span> 2 / two</p>`,
                audioscript: `<p>I’m reporting today from our wonderful local farmer’s market. It’s held every Sunday in the main town square, and it’s always busy. It’s a great place to come and buy delicious local produce. There are stalls selling all kinds of fresh fruit and vegetables that have been grown nearby. There’s also a fantastic stall that sells homemade bread and delicious cakes. I can tell you they smell amazing! I particularly recommend the local cheese, which has won several awards. Shopping here is a great way to support our local farmers and small businesses. The market is open every Sunday from 9 a.m. until 2 p.m. Make sure you come and visit.</p>`,
                theme: 'gray'
            },
            // Quiz 58
            {
                instruction: "You will hear a student giving a talk about famous inventors.",
                title: "Famous Inventors",
                questions: `<p>The talk is about two famous (14) ……………….</p><p>Alexander Graham Bell invented the (15) ……………….</p><p>Thomas Edison is famous for the electric (16) ……………….</p><p>Edison also created over one thousand other (17) ……………….</p><p>These inventions have changed the (18) ……………… we live.</p><p>The student found the information for the talk in the (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> inventors</p><p><span class="font-semibold">15</span> telephone</p><p><span class="font-semibold">16</span> lightbulb</p><p><span class="font-semibold">17</span> inventions</p><p><span class="font-semibold">18</span> way</p><p><span class="font-semibold">19</span> library</p>`,
                audioscript: `<p>For my presentation today, I’m going to talk about two famous inventors from history. First, Alexander Graham Bell. He was a Scottish scientist who is most famous for inventing the telephone in 1876. This invention completely changed communication. The second inventor is Thomas Edison, from America. He is best known for inventing the practical electric lightbulb. But he was an amazing inventor and actually created over one thousand other inventions in his lifetime. These two men, and many others like them, have had a huge impact on our lives. Their inventions have completely changed the way we live and work. I found all the information for my talk in some books I borrowed from the library.</p>`,
                theme: 'orange'
            },
            // Quiz 59
            {
                instruction: "You will hear a boy describing his first camping trip.",
                title: "My First Camping Trip",
                questions: `<p>The boy went camping with his (14) ……………….</p><p>They went to a campsite near a (15) ……………….</p><p>The first thing they had to do was put up the (16) ……………….</p><p>For dinner, they cooked sausages on a (17) ……………….</p><p>At night, they told stories and looked at the (18) ……………….</p><p>The boy thought the trip was a great (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> dad / father</p><p><span class="font-semibold">15</span> forest</p><p><span class="font-semibold">16</span> tent</p><p><span class="font-semibold">17</span> fire</p><p><span class="font-semibold">18</span> stars</p><p><span class="font-semibold">19</span> adventure</p>`,
                audioscript: `<p>Last weekend, I went on my first ever camping trip. I went with my dad. We went to a small campsite right next to a big forest. It was really exciting. The first thing we had to do when we arrived was put up the tent. It was quite tricky, but we managed it in the end. In the evening, my dad showed me how to build a small, safe fire, and we cooked sausages on it for our dinner. They tasted so good! Later, when it got dark, we sat by the fire and he told me some funny stories. We could see so many stars in the sky because we were away from the city lights. It was a brilliant trip and a great adventure. I can’t wait to go camping again.</p>`,
                theme: 'teal'
            },
            // Quiz 60
            {
                instruction: "You will hear an announcement at an airport.",
                title: "Airport Announcement",
                questions: `<p>This is the final boarding call for flight BA249 to (14) ……………….</p><p>Passengers should go to gate number (15) ……………… immediately.</p><p>Please have your boarding pass and (16) ……………… ready.</p><p>The gate will close in approximately (17) ……………… minutes.</p><p>Any passengers with (18) ……………… can board first.</p><p>The airline wishes all passengers a pleasant (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> Paris</p><p><span class="font-semibold">15</span> 48</p><p><span class="font-semibold">16</span> passport</p><p><span class="font-semibold">17</span> 10 / ten</p><p><span class="font-semibold">18</span> children</p><p><span class="font-semibold">19</span> flight</p>`,
                audioscript: `<p>This is the final boarding call for passenger Smith, travelling on flight BA249 to Paris. Please proceed to gate number 48 immediately. That’s gate 48. Please ensure you have your boarding pass and your passport ready for inspection. The final checks are being completed and the captain will order the doors to be closed in approximately 10 minutes. I repeat, this is the final call. Any passengers travelling with young children are invited to board at this time. The airline would like to wish all passengers a pleasant flight. Thank you.</p>`,
                theme: 'cyan'
            }
        ];

        const startPage = document.getElementById('start-page');
        const quizMenu = document.getElementById('quiz-menu');
        const quizTemplate = document.getElementById('quiz-template');

        // --- Generate Menu and Quiz Containers ---
        quizData.forEach((data, index) => {
            const quizId = index + 1; // Internal ID for elements (1-30)
            const quizDisplayNum = index + 31; // Number to show the user (31-60)
            const theme = data.theme;

            // Create Menu Button
            const button = document.createElement('button');
            button.dataset.quiz = quizId;
            button.className = `quiz-select-btn text-left p-6 bg-${theme}-50 hover:bg-${theme}-100 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-${theme}-500`;
            button.innerHTML = `<h2 class="text-xl font-bold text-${theme}-800 mb-2">Quiz ${quizDisplayNum}: ${data.title}</h2><p class="text-${theme}-700">${data.instruction.substring(0,60)}...</p>`;
            quizMenu.appendChild(button);

            // Create Quiz Page from Template
            const newQuiz = quizTemplate.cloneNode(true);
            newQuiz.id = `quiz-container-${quizId}`;
            newQuiz.classList.remove('hidden'); // Make the cloned quiz visible within its wrapper
            
            const container = document.createElement('div');
            container.id = `quiz-wrapper-${quizId}`;
            container.className = 'hidden max-w-4xl mx-auto p-4 sm:p-6 md:p-8';
            container.appendChild(newQuiz);
            document.body.appendChild(container);

            // Populate content
            newQuiz.querySelector('.quiz-instruction').textContent = data.instruction;
            newQuiz.querySelector('.quiz-title').textContent = `Quiz ${quizDisplayNum}: ${data.title}`;
            newQuiz.querySelector('.quiz-questions').innerHTML = data.questions;
            newQuiz.querySelector('.answer-grid').innerHTML = data.answers;
            newQuiz.querySelector('.audioscriptText').innerHTML = data.audioscript;

            // Apply theme colors
            newQuiz.querySelector('.back-btn').classList.add(`text-${theme}-600`, `hover:text-${theme}-800`);
            const playBtn = newQuiz.querySelector('.playPauseBtn');
            playBtn.classList.add(`bg-${theme}-500`, `hover:bg-${theme}-600`, `focus:ring-${theme}-500`);
            const answerKey = newQuiz.querySelector('.answer-key');
            answerKey.classList.add(`bg-${theme}-50`, `border-${theme}-200`);
            answerKey.querySelector('h3').classList.add(`text-${theme}-800`);
            answerKey.querySelector('.answer-grid').classList.add(`text-${theme}-700`);
            newQuiz.querySelector('.toggleAnswerBtn').classList.add(`focus:ring-${theme}-500`);
        });
        quizTemplate.remove();


        const quizContainers = document.querySelectorAll('[id^="quiz-wrapper-"]');
        const quizSelectBtns = document.querySelectorAll('.quiz-select-btn');
        
        // --- Navigation ---
        quizSelectBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const quizId = btn.getAttribute('data-quiz');
                startPage.classList.add('hidden');
                document.getElementById(`quiz-wrapper-${quizId}`).classList.remove('hidden');
            });
        });

        document.querySelectorAll('.back-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                speechSynthesis.cancel();
                btn.closest('[id^="quiz-wrapper-"]').classList.add('hidden');
                startPage.classList.remove('hidden');
            });
        });

        // --- TTS Setup ---
        if (!('speechSynthesis' in window)) {
            const modal = document.createElement('div');
            modal.innerHTML = `<div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 1000;"><div style="background: white; padding: 2rem; border-radius: 0.5rem; text-align: center;"><p>Sorry, your browser doesn't support text-to-speech.</p><button onclick="this.parentElement.parentElement.remove()" style="margin-top: 1rem; padding: 0.5rem 1rem; border-radius: 0.25rem; background: #333; color: white;">Close</button></div></div>`;
            document.body.appendChild(modal);
            return;
        }

        const initQuiz = (quizId, quizDisplayNum) => {
            const container = document.getElementById(`quiz-wrapper-${quizId}`);
            if (!container) return;

            const playPauseBtn = container.querySelector('.playPauseBtn');
            const playIcon = container.querySelector('.playIcon');
            const pauseIcon = container.querySelector('.pauseIcon');
            const timerEl = container.querySelector('.timer');
            const volumeSlider = container.querySelector('.volumeSlider');
            const toggleAnswerBtn = container.querySelector('.toggleAnswerBtn');
            const answerContent = container.querySelector('.answerContent');
            const chevronIcon = container.querySelector('.chevronIcon');
            const audioscriptTextEl = container.querySelector('.audioscriptText');

            let utterance = new SpeechSynthesisUtterance();
            let timerInterval;
            let seconds = 0;
            let words = [];
            let charIndexToWordMap = {};

            function prepareAudioscript() {
                const originalText = audioscriptTextEl.innerText;
                utterance.text = originalText;
                let charCount = 0;
                audioscriptTextEl.querySelectorAll('p').forEach(p => {
                    let pText = p.innerText;
                    let pWords = pText.split(/\s+/);
                    let phtml = '';
                    pWords.forEach(word => {
                        if (word.trim() === '') return;
                        const wordId = `word-${quizId}-${words.length}`;
                        words.push({ id: wordId, text: word });
                        charIndexToWordMap[charCount] = words.length - 1;
                        phtml += `<span id="${wordId}">${word}</span> `;
                        charCount += word.length + 1;
                    });
                    p.innerHTML = phtml.trim();
                });
            }

            function loadVoices() {
                let allVoices = speechSynthesis.getVoices();
                if (allVoices.length === 0) {
                    return;
                }

                // Pre-filter for US and UK English voices first.
                let usUkVoices = allVoices.filter(v => v.lang.startsWith('en-US') || v.lang.startsWith('en-GB'));

                // 1. Primary Target: Microsoft Natural voices from the US/UK list
                let msNaturalVoices = usUkVoices.filter(v => 
                    v.name.includes('Microsoft') && 
                    v.name.includes('Natural')
                );

                // 2. Secondary Target: Apple Premium/Enhanced voices from the US/UK list
                const isApple = /Mac|iPod|iPhone|iPad/.test(navigator.platform);
                let applePremiumVoices = [];
                if (isApple) {
                    applePremiumVoices = usUkVoices.filter(v => 
                        (v.name.includes('(Enhanced)') || v.name.includes('Premium'))
                    );
                }

                let chosenVoiceList = [];

                if (msNaturalVoices.length > 0) {
                    const andrewIndex = msNaturalVoices.findIndex(v => v.name.includes('Andrew'));
                    if (andrewIndex > 0) {
                        const andrewVoice = msNaturalVoices.splice(andrewIndex, 1)[0];
                        msNaturalVoices.unshift(andrewVoice);
                    }
                    chosenVoiceList = msNaturalVoices;
                } else if (applePremiumVoices.length > 0) {
                    chosenVoiceList = applePremiumVoices;
                }

                if (chosenVoiceList.length > 0) {
                    // Rotate through the chosen list
                    utterance.voice = chosenVoiceList[(quizId - 1) % chosenVoiceList.length];
                } else {
                    // 3. Fallback to general high-quality voices from the US/UK list
                    utterance.voice = usUkVoices.find(v => v.name.includes('Neural')) ||
                                    usUkVoices.find(v => v.name.includes('Google')) ||
                                    usUkVoices.find(v => v.lang.startsWith('en-GB')) ||
                                    usUkVoices[0]; // Fallback to the first available US/UK voice
                }
            }

            function formatTime(sec) {
                const minutes = Math.floor(sec / 60).toString().padStart(2, '0');
                const seconds = (sec % 60).toString().padStart(2, '0');
                return `${minutes}:${seconds}`;
            }

            function resetPlayerUI() {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
                clearInterval(timerInterval);
                seconds = 0;
                timerEl.textContent = formatTime(seconds);
                const highlighted = audioscriptTextEl.querySelector('.speaking');
                if (highlighted) highlighted.classList.remove('speaking');
            }

            playPauseBtn.addEventListener('click', () => {
                loadVoices();

                if (speechSynthesis.speaking && utterance.text === audioscriptTextEl.innerText) {
                     if (speechSynthesis.paused) {
                        speechSynthesis.resume();
                     } else {
                        speechSynthesis.pause();
                     }
                } else {
                    speechSynthesis.cancel();
                    setTimeout(() => {
                        utterance.text = audioscriptTextEl.innerText;
                        speechSynthesis.speak(utterance);
                    }, 100);
                }
            });

            volumeSlider.addEventListener('input', (e) => { utterance.volume = parseFloat(e.target.value); });
            utterance.onstart = () => {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
                clearInterval(timerInterval);
                timerInterval = setInterval(() => { seconds++; timerEl.textContent = formatTime(seconds); }, 1000);
            };
            utterance.onpause = () => {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
                clearInterval(timerInterval);
            };
            utterance.onresume = () => {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
                 clearInterval(timerInterval);
                 timerInterval = setInterval(() => { seconds++; timerEl.textContent = formatTime(seconds); }, 1000);
            };
            utterance.onboundary = (event) => {
                if (event.name === 'word') {
                    const highlighted = audioscriptTextEl.querySelector('.speaking');
                    if (highlighted) highlighted.classList.remove('speaking');
                    
                    let wordIdx = -1;
                    let closestCharIndex = Object.keys(charIndexToWordMap).reduce((prev, curr) => (Math.abs(curr - event.charIndex) < Math.abs(prev - event.charIndex) ? curr : prev), 0);
                    wordIdx = charIndexToWordMap[closestCharIndex];
                    if (wordIdx >= 0 && wordIdx < words.length) {
                        const wordEl = document.getElementById(words[wordIdx].id);
                        if(wordEl) wordEl.classList.add('speaking');
                    }
                }
            };
            utterance.onend = () => { resetPlayerUI(); };
            toggleAnswerBtn.addEventListener('click', () => {
                if (answerContent.style.maxHeight && answerContent.style.maxHeight !== '0px') {
                    answerContent.style.maxHeight = '0px';
                    chevronIcon.classList.remove('rotate-180');
                } else {
                    answerContent.style.maxHeight = answerContent.scrollHeight + 'px';
                    chevronIcon.classList.add('rotate-180');
                }
            });
            
            prepareAudioscript();
            loadVoices();
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = loadVoices;
            }
            utterance.volume = parseFloat(volumeSlider.value);
            utterance.rate = 0.9;
        };

        quizData.forEach((data, index) => {
            const quizId = index + 1;
            const quizDisplayNum = index + 31;
            initQuiz(quizId, quizDisplayNum);
        });

        window.addEventListener('resize', () => {
            document.querySelectorAll('.accordion-content').forEach(content => {
                if (content.style.maxHeight && content.style.maxHeight !== '0px') {
                    content.style.maxHeight = content.scrollHeight + 'px';
                }
            });
        });
    });
    </script>

</body>
</html>
