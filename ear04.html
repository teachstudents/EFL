<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Audio Quizzes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .speaking {
            background-color: #dbeafe; /* A light blue highlight */
            border-radius: 3px;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div id="start-page" class="max-w-4xl mx-auto p-4 sm:p-6 md:p-8">
        <div class="bg-white rounded-xl shadow-lg p-8 text-center">
            <h1 class="text-3xl font-bold text-gray-900 mb-6">Audio Quizzes (91-120)</h1>
            <p class="text-gray-600 mb-8">Please select a quiz to begin.</p>
            <div id="quiz-menu" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Quiz buttons will be dynamically inserted here by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Quiz Template (used by JS to generate quiz pages) -->
    <div id="quiz-template" class="hidden">
        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
             <div class="p-6 border-b border-gray-200">
                <button class="back-btn font-semibold flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
                    </svg>
                    Back to Quizzes
                </button>
            </div>
            <!-- Audio Player Section -->
            <div class="p-6 border-b border-gray-200 bg-gray-50">
                <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
                    <div class="flex items-center gap-4">
                        <button class="playPauseBtn w-12 h-12 flex items-center justify-center rounded-full text-white transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 flex-shrink-0">
                            <svg class="playIcon w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.972l-11.54 6.347a1.125 1.125 0 01-1.667-.986V5.653z" /></svg>
                            <svg class="pauseIcon w-6 h-6 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25v13.5m-6-13.5v13.5" /></svg>
                        </button>
                        <div class="timer text-lg font-mono text-gray-700">00:00</div>
                    </div>
                </div>
            </div>
            <!-- Quiz Content -->
            <div class="p-6">
                <p class="quiz-instruction text-gray-600 mb-6"></p>
                <h2 class="quiz-title text-xl font-bold text-gray-900 mb-4"></h2>
                <div class="quiz-questions space-y-4 text-lg"></div>
            </div>
            <!-- Answer & Audioscript Section -->
            <div class="px-6 pb-6">
                <button class="toggleAnswerBtn w-full text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg focus:outline-none focus:ring-2 transition-colors">
                    <div class="flex justify-between items-center"><span class="font-semibold text-lg text-gray-800">Answer & Audioscript</span><svg class="chevronIcon w-6 h-6 transform transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg></div>
                </button>
                <div class="answerContent accordion-content mt-4">
                    <div class="answer-key p-6 rounded-lg border">
                        <h3 class="text-lg font-bold mb-4">Answers</h3>
                        <div class="answer-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-2"></div>
                    </div>
                    <div class="mt-6">
                        <h3 class="text-lg font-bold text-gray-900 mb-4">Audioscript</h3>
                        <div class="audioscriptText prose max-w-none text-gray-700 leading-relaxed"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const quizData = [
            // Quiz 91
            {
                instruction: "You will hear a teacher talking about a geography field trip.",
                title: "Geography Field Trip",
                questions: `<p>The trip is to study a local (14) ……………….</p><p>Students will need to wear boots and a (15) ……………….</p><p>They will be measuring the river’s speed and (16) ……………….</p><p>They need to bring a clipboard and a (17) ……………….</p><p>Lunch will be at a (18) ……………… near the river.</p><p>The trip is an important part of their (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> river</p><p><span class="font-semibold">15</span> waterproof jacket</p><p><span class="font-semibold">16</span> depth</p><p><span class="font-semibold">17</span> pencil</p><p><span class="font-semibold">18</span> cafe</p><p><span class="font-semibold">19</span> coursework</p>`,
                audioscript: `<p>Okay, Year 11, listen up. Next Tuesday, we have our geography field trip. We’re going to be studying a local river, the River Ash. You will need to come prepared for all weather. That means sturdy boots or wellingtons, and you must have a waterproof jacket. We’ll be conducting several experiments, including measuring the river’s speed of flow and its depth at different points. You’ll be working in groups. You will need to bring a clipboard to lean on, and a pencil to record your results. We will stop for lunch at a small cafe near the river, but you are welcome to bring your own packed lunch if you prefer. Please remember that this field trip is a compulsory and important part of your geography coursework.</p>`,
                theme: 'blue'
            },
            // Quiz 92
            {
                instruction: "You will hear a girl talking about her hobby of photography.",
                title: "Photography Hobby",
                questions: `<p>The girl got her first (14) ……………… for her birthday.</p><p>She loves taking pictures of (15) ……………… and animals.</p><p>She thinks it’s important to have good (16) ……………… for a great photo.</p><p>She is saving up for a new (17) ……………….</p><p>She shares her photos on her (18) ……………….</p><p>She would like to be a professional (19) ……………… one day.</p>`,
                answers: `<p><span class="font-semibold">14</span> camera</p><p><span class="font-semibold">15</span> nature</p><p><span class="font-semibold">16</span> light</p><p><span class="font-semibold">17</span> lens</p><p><span class="font-semibold">18</span> blog</p><p><span class="font-semibold">19</span> photographer</p>`,
                audioscript: `<p>My favourite hobby is photography. I got my first proper camera for my twelfth birthday, and I’ve been taking pictures ever since. I love being able to capture a moment in time. My favourite subjects are nature and animals. I love going for walks in the countryside and taking photos of beautiful landscapes, flowers, and wildlife. I’ve learned that the most important thing for a great photo is to have good light. I’m currently saving up my money to buy a new lens for my camera, one that will let me take better close-up shots. I have my own blog where I share my favourite photos with my friends and family. My dream is to become a professional photographer one day and travel the world.</p>`,
                theme: 'green'
            },
            // Quiz 93
            {
                instruction: "You will hear a radio announcement about a new community choir.",
                title: "Community Choir",
                questions: `<p>The choir is for anyone who loves to (14) ……………….</p><p>You do not need to be able to read (15) ……………….</p><p>Rehearsals are on (16) ……………… evenings.</p><p>They take place in the community (17) ……………….</p><p>The first session is (18) ……………… to try.</p><p>The choir will sing a mix of pop and (19) ……………… songs.</p>`,
                answers: `<p><span class="font-semibold">14</span> sing</p><p><span class="font-semibold">15</span> music</p><p><span class="font-semibold">16</span> Thursday</p><p><span class="font-semibold">17</span> centre</p><p><span class="font-semibold">18</span> free</p><p><span class="font-semibold">19</span> classical</p>`,
                audioscript: `<p>Do you love to sing? Then why not join our new community choir! We are a friendly group for anyone who enjoys singing, regardless of ability. You don’t need any previous experience, and you don’t even need to be able to read music, as all the songs will be taught by ear. We will be holding our rehearsals on Thursday evenings, from 7:30 until 9:00. We’ll be meeting in the main hall at the community centre. Your first session is completely free to try, so you can come along and see if you enjoy it. We’ll be singing a wide variety of songs, from modern pop hits to well-known classical pieces. Come and join us and make some new friends!</p>`,
                theme: 'purple'
            },
            // Quiz 94
            {
                instruction: "You will hear a student talking about a history project.",
                title: "History Project: The Vikings",
                questions: `<p>The project is about the (14) ……………….</p><p>They came from the countries of (15) ……………….</p><p>They were famous for their long (16) ……………….</p><p>They were farmers, craftsmen, and (17) ……………….</p><p>They settled in many parts of (18) ……………….</p><p>The student made a model of a Viking (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> Vikings</p><p><span class="font-semibold">15</span> Scandinavia</p><p><span class="font-semibold">16</span> ships</p><p><span class="font-semibold">17</span> traders</p><p><span class="font-semibold">18</span> Britain</p><p><span class="font-semibold">19</span> village</p>`,
                audioscript: `<p>My history project is about the Vikings. The Vikings were people who lived about a thousand years ago. They came from the part of Europe we now call Scandinavia – that’s countries like Denmark, Norway, and Sweden. They are famous for their amazing long ships, which they used to sail across the seas to explore and raid other lands. But they weren’t just warriors. Many Vikings were also peaceful farmers, skilled craftsmen, and clever traders. They sailed to many places and settled in many parts of Britain and other European countries. For my project, I built a model of a typical Viking village, showing the different kinds of houses they lived in.</p>`,
                theme: 'yellow'
            },
            // Quiz 95
            {
                instruction: "You will hear a message about a change of venue for a meeting.",
                title: "Meeting Venue Change",
                questions: `<p>The message is for members of the book (14) ……………….</p><p>Tonight’s meeting has been moved from the (15) ……………….</p><p>The new venue is the (16) ……………… Hotel.</p><p>This is because of a problem with the (17) ……………….</p><p>The meeting will be in the (18) ……………… Room.</p><p>The time of the meeting is still (19) ……………… p.m.</p>`,
                answers: `<p><span class="font-semibold">14</span> club</p><p><span class="font-semibold">15</span> library</p><p><span class="font-semibold">16</span> Grand</p><p><span class="font-semibold">17</span> heating</p><p><span class="font-semibold">18</span> Garden</p><p><span class="font-semibold">19</span> 7:30</p>`,
                audioscript: `<p>Hello, this is an important message for all members of the town book club. Please note that there has been a last-minute change of venue for our meeting tonight. We will no longer be meeting at the library as planned. Instead, the meeting will now be held at the Grand Hotel on the High Street. This is due to an unexpected problem with the heating system at the library, which means it has had to close early. At the hotel, we will be in the Garden Room, on the ground floor. The time of the meeting remains the same, at 7:30 p.m. We apologize for any inconvenience this may cause.</p>`,
                theme: 'red'
            },
            // Quiz 96
            {
                instruction: "You will hear a student talking about a language exchange program.",
                title: "Language Exchange",
                questions: `<p>The student went to (14) ……………… for two weeks.</p><p>She stayed with a host (15) ……………….</p><p>She went to a language school every (16) ……………….</p><p>In the afternoons, she explored the (17) ……………….</p><p>She says her (18) ……………… has improved a lot.</p><p>She has invited her exchange partner to visit (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> France</p><p><span class="font-semibold">15</span> family</p><p><span class="font-semibold">16</span> morning</p><p><span class="font-semibold">17</span> city</p><p><span class="font-semibold">18</span> confidence</p><p><span class="font-semibold">19</span> England</p>`,
                audioscript: `<p>Last summer, I took part in a language exchange program. I went to France for two weeks and stayed with a host family in Lyon. It was an incredible experience. Every morning, I went to a language school to improve my French. The classes were really good. In the afternoons, I was free to explore the city with my exchange partner, a girl my age called Chloe. We visited museums, went shopping, and ate a lot of delicious pastries! Staying with a family meant I had to speak French all the time, which was challenging at first, but my confidence improved so much. I had a wonderful time, and I’ve invited Chloe to come and visit me in England next year.</p>`,
                theme: 'indigo'
            },
            // Quiz 97
            {
                instruction: "You will hear a radio announcement about a charity car wash.",
                title: "Charity Car Wash",
                questions: `<p>The car wash is to raise money for the local (14) ……………… shelter.</p><p>It is being organised by the town’s (15) ……………….</p><p>It is taking place in the (16) ……………… car park.</p><p>It is on Saturday morning from 10 a.m. until (17) ……………….</p><p>A car wash costs (18) £……………….</p><p>There will also be a stall selling (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> animal</p><p><span class="font-semibold">15</span> fire station</p><p><span class="font-semibold">16</span> supermarket</p><p><span class="font-semibold">17</span> 1 p.m.</p><p><span class="font-semibold">18</span> 5</p><p><span class="font-semibold">19</span> cakes</p>`,
                audioscript: `<p>Get your car sparkling clean and support a great cause this weekend! We’re holding a charity car wash to raise much-needed funds for the local animal shelter. The event has been organised by the fantastic team at the town’s fire station. It’s all taking place in the main supermarket car park this Saturday morning, from 10 a.m. until 1 p.m. So, while you do your weekly shop, we’ll get your car looking as good as new. A wash costs just five pounds, and all the money will go directly to helping the animals. There will also be a stall selling delicious homemade cakes, so you can treat yourself too. Please come along and show your support.</p>`,
                theme: 'pink'
            },
            // Quiz 98
            {
                instruction: "You will hear a biology teacher talking about the human heart.",
                title: "The Human Heart",
                questions: `<p>The heart is a powerful (14) ……………….</p><p>It is about the size of your (15) ……………….</p><p>Its main job is to pump (16) ……………… around the body.</p><p>The heart has four (17) ……………….</p><p>A doctor can listen to your heartbeat using a (18) ……………….</p><p>Exercise is very important to keep your heart (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> muscle</p><p><span class="font-semibold">15</span> fist</p><p><span class="font-semibold">16</span> blood</p><p><span class="font-semibold">17</span> chambers</p><p><span class="font-semibold">18</span> stethoscope</p><p><span class="font-semibold">19</span> healthy</p>`,
                audioscript: `<p>Today in biology, we’re going to learn about the human heart. The heart is an amazing organ. It’s a powerful muscle that works constantly, without ever resting. It’s located in the middle of your chest and is about the size of your clenched fist. The main job of the heart is to pump blood to every part of your body. This blood carries the oxygen and nutrients that your body needs to function. The heart is divided into four sections, which are called chambers. When you visit the doctor, they might use a special instrument called a stethoscope to listen to your heartbeat. To keep your heart healthy and strong, it’s very important to eat a balanced diet and get plenty of regular exercise.</p>`,
                theme: 'gray'
            },
            // Quiz 99
            {
                instruction: "You will hear a man leaving a message for a friend about a concert.",
                title: "Concert Tickets",
                questions: `<p>The concert is on (14) ……………… night.</p><p>The band is called ‘The (15) ………………’.</p><p>The man has bought the (16) ……………… online.</p><p>He will send them to his friend by (17) ……………….</p><p>He suggests they meet at the (18) ……………… before the concert.</p><p>They could get something to (19) ……………… there.</p>`,
                answers: `<p><span class="font-semibold">14</span> Friday</p><p><span class="font-semibold">15</span> Rockets</p><p><span class="font-semibold">16</span> tickets</p><p><span class="font-semibold">17</span> email</p><p><span class="font-semibold">18</span> station</p><p><span class="font-semibold">19</span> eat</p>`,
                audioscript: `<p>Hi Dave, it’s Paul. Just calling to let you know I’ve got the tickets for the concert on Friday night. I’m so excited! It’s that band we both like, ‘The Rockets’. I managed to buy the tickets online this morning, so that’s all sorted. They are e-tickets, so I’ll forward them to you by email later today. I was thinking, why don’t we meet up a bit earlier? We could meet at the station at about 6:30. There are some good places near there where we could get something to eat before the show starts. Let me know if that sounds good to you. Speak to you later, mate. Bye.</p>`,
                theme: 'orange'
            },
            // Quiz 100
            {
                instruction: "You will hear a headteacher making an announcement at the end of the school day.",
                title: "End of Day Announcement",
                questions: `<p>The headteacher thanks everyone for their hard (14) ……………… this week.</p><p>She reminds students about the school (15) ……………… tomorrow.</p><p>Students can wear their own (16) ……………….</p><p>They need to bring in a donation for (17) ……………….</p><p>There will be a cake sale in the main (18) ……………… at break time.</p><p>She wishes everyone a (19) ……………… weekend.</p>`,
                answers: `<p><span class="font-semibold">14</span> work</p><p><span class="font-semibold">15</span> fair</p><p><span class="font-semibold">16</span> clothes</p><p><span class="font-semibold">17</span> charity</p><p><span class="font-semibold">18</span> hall</p><p><span class="font-semibold">19</span> lovely / good</p>`,
                audioscript: `<p>Good afternoon, everyone. Just a few quick announcements before the final bell. I’d like to thank all students and staff for their hard work this week. Just a reminder that tomorrow is the annual school fair. It’s a non-uniform day, so you can come to school in your own clothes. We are asking everyone to bring in a small donation of one pound for our chosen charity. There will be lots of fun stalls and games to enjoy. There will also be a cake sale in the main hall during the morning break time, so don’t forget to bring some extra money for that. That’s all from me. I wish you all a very lovely weekend when it arrives.</p>`,
                theme: 'teal'
            },
            // Quiz 101
            {
                instruction: "You will hear a boy talking about his favourite sport.",
                title: "My Favourite Sport",
                questions: `<p>The boy’s favourite sport is (14) ……………….</p><p>He plays for the school (15) ……………….</p><p>They train twice a (16) ……………… after school.</p><p>His favourite position to play is (17) ……………….</p><p>His favourite professional team is (18) ……………… United.</p><p>Last weekend, his team won their (19) ……………… 3-1.</p>`,
                answers: `<p><span class="font-semibold">14</span> football</p><p><span class="font-semibold">15</span> team</p><p><span class="font-semibold">16</span> week</p><p><span class="font-semibold">17</span> striker</p><p><span class="font-semibold">18</span> Manchester</p><p><span class="font-semibold">19</span> match</p>`,
                audioscript: `<p>My absolute favourite sport is football. I’ve been playing it since I was about five years old. I play for the school team, and I really enjoy it. We train twice a week after school, on Tuesdays and Thursdays. I usually play as a striker, which is great because it means I get to score the goals. My favourite professional team is Manchester United. I watch all their games on television with my dad. Last weekend, our school team had a big match against another local school. It was a really tough game, but we played brilliantly and we won 3-1. I even managed to score one of the goals!</p>`,
                theme: 'cyan'
            },
            // Quiz 102
            {
                instruction: "You will hear a radio announcement about a new art class.",
                title: "New Art Class",
                questions: `<p>The class is for (14) ……………….</p><p>You will learn how to draw and (15) ……………….</p><p>The class is on (16) ……………… mornings.</p><p>It is held at the community (17) ……………….</p><p>All (18) ……………… are provided.</p><p>The first class is on the 10th of (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> beginners</p><p><span class="font-semibold">15</span> paint</p><p><span class="font-semibold">16</span> Saturday</p><p><span class="font-semibold">17</span> centre</p><p><span class="font-semibold">18</span> materials</p><p><span class="font-semibold">19</span> September</p>`,
                audioscript: `<p>Have you always wanted to learn to draw and paint? Well now is your chance! We are starting a brand new art class, especially for complete beginners. Our friendly teacher will guide you through the basics of drawing and painting in a relaxed and supportive atmosphere. The class will take place on Saturday mornings, from 10 a.m. until midday. We will be meeting at the local community centre. You don’t need to bring anything with you, as all the materials you need, like paper, pencils, and paints, will be provided. The first class will be on the 10th of September. To book your place, please call the number on our website.</p>`,
                theme: 'lime'
            },
            // Quiz 103
            {
                instruction: "You will hear a girl talking about her plans for the summer holidays.",
                title: "Summer Holiday Plans",
                questions: `<p>The school term finishes next (14) ……………….</p><p>First, the girl is going to visit her (15) ……………….</p><p>They live by the (16) ……………….</p><p>In August, her family is going (17) ……………… in France.</p><p>They will stay in a tent on a (18) ……………….</p><p>She is looking forward to having a (19) ……………… from school.</p>`,
                answers: `<p><span class="font-semibold">14</span> week</p><p><span class="font-semibold">15</span> grandparents</p><p><span class="font-semibold">16</span> seaside</p><p><span class="font-semibold">17</span> camping</p><p><span class="font-semibold">18</span> campsite</p><p><span class="font-semibold">19</span> break</p>`,
                audioscript: `<p>I’m so excited because the school term finishes next week, and then it’s the long summer holidays! I have lots of nice things planned. In the first week, I’m going to go and stay with my grandparents. They live by the seaside, so I’m hoping we can go to the beach every day. Then, in August, my whole family is going on holiday together. We’re going camping in the south of France for ten days. We’re going to stay in a big tent on a campsite that has a swimming pool. I can’t wait! I’m really looking forward to having a long break from school and all the homework.</p>`,
                theme: 'rose'
            },
            // Quiz 104
            {
                instruction: "You will hear a weather forecast on the radio.",
                title: "Weather Forecast",
                questions: `<p>Today, there will be a mix of sun and (14) ……………….</p><p>There might be some light (15) ……………… in the afternoon.</p><p>The temperature will be around 18 (16) ……………….</p><p>Tonight, it will be dry with (17) ……………… skies.</p><p>Tomorrow will be (18) ……………… and sunny all day.</p><p>The wind will be coming from the (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> cloud</p><p><span class="font-semibold">15</span> showers</p><p><span class="font-semibold">16</span> degrees</p><p><span class="font-semibold">17</span> clear</p><p><span class="font-semibold">18</span> warm</p><p><span class="font-semibold">19</span> south</p>`,
                audioscript: `<p>And now for the weather forecast. For the rest of today, it will be a day of mixed weather, with some bright sunshine but also a fair amount of cloud. There is the chance of some light showers developing during the afternoon, but these shouldn’t last long. The maximum temperature will be around 18 degrees Celsius. Looking ahead to tonight, it will be a dry night with long clear skies, which will allow temperatures to drop. For tomorrow, it’s looking much better. It should be warm and sunny all day, with very little cloud. The wind will be light, coming from the south. So, a good day to be outdoors.</p>`,
                theme: 'fuchsia'
            },
            // Quiz 105
            {
                instruction: "You will hear a student talking about a school project on oceans.",
                title: "Oceans Project",
                questions: `<p>Oceans cover about 70 (14) ……………… of the Earth.</p><p>The largest ocean is the (15) ……………… Ocean.</p><p>The student was surprised by the strange (16) ……………… that live deep in the sea.</p><p>It is important to protect the oceans from (17) ……………….</p><p>The student made a (18) ……………… for their project.</p><p>The teacher gave the student a very good (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> percent</p><p><span class="font-semibold">15</span> Pacific</p><p><span class="font-semibold">16</span> creatures</p><p><span class="font-semibold">17</span> pollution</p><p><span class="font-semibold">18</span> model</p><p><span class="font-semibold">19</span> grade</p>`,
                audioscript: `<p>My project for geography class was all about the world’s oceans. I learned so many amazing facts. Did you know that oceans cover about 70 percent of the Earth’s surface? The largest and deepest ocean in the world is the Pacific Ocean. I was really surprised to read about all the strange and wonderful creatures that live in the very deep parts of the sea where there is no light. I also learned how important it is that we protect our oceans from pollution, especially from plastic. For my project, I made a model of the ocean floor out of a shoebox and some clay. My teacher was really impressed with it, and I got a very good grade.</p>`,
                theme: 'violet'
            },
            // Quiz 106
            {
                instruction: "You will hear a man talking about his job as a firefighter.",
                title: "Job as a Firefighter",
                questions: `<p>The man has been a firefighter for (14) ……………… years.</p><p>He says the job can be very (15) ……………….</p><p>As well as fires, they also rescue people from car (16) ……………….</p><p>He has to be very (17) ……………… to do his job.</p><p>The best part of the job is (18) ……………… people.</p><p>He works with a great (19) ……………… of colleagues.</p>`,
                answers: `<p><span class="font-semibold">14</span> ten</p><p><span class="font-semibold">15</span> dangerous</p><p><span class="font-semibold">16</span> accidents</p><p><span class="font-semibold">17</span> fit</p><p><span class="font-semibold">18</span> helping</p><p><span class="font-semibold">19</span> team</p>`,
                audioscript: `<p>I’ve been a firefighter for ten years now. It’s a job I’ve always wanted to do. It can be a very difficult job, and sometimes it’s very dangerous, but it’s also incredibly rewarding. People think we just put out fires, but we do much more than that. We also respond to other emergencies, like rescuing people who are trapped after car accidents. You have to be very fit and strong to be a firefighter, so we do a lot of training at the station to keep in shape. For me, the best part of the job is knowing that you are helping people, often on the worst day of their lives. I also get to work with a great team of colleagues, which is fantastic.</p>`,
                theme: 'amber'
            },
            // Quiz 107
            {
                instruction: "You will hear a radio announcement about a local park.",
                title: "Park Announcement",
                questions: `<p>The park will be closed next (14) ……………….</p><p>It is closed for a special music (15) ……………….</p><p>The park will reopen on (16) ……………… morning.</p><p>The children’s (17) ……………… will remain open.</p><p>The entrance to this will be via the (18) ……………… gate.</p><p>The council apologises for any (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> weekend</p><p><span class="font-semibold">15</span> festival</p><p><span class="font-semibold">16</span> Monday</p><p><span class="font-semibold">17</span> playground</p><p><span class="font-semibold">18</span> side</p><p><span class="font-semibold">19</span> inconvenience</p>`,
                audioscript: `<p>Here is an announcement from the local council. We would like to inform residents that the main town park will be closed to the public for the whole of next weekend, on both Saturday and Sunday. This is to allow for a special music festival that is taking place. The park will reopen as normal on Monday morning. Please note that the children’s playground area will remain open as usual throughout the weekend. Access to the playground will be via the side gate on Park Road only. The council would like to apologise for any inconvenience this temporary closure may cause. Thank you for your understanding.</p>`,
                theme: 'emerald'
            },
            // Quiz 108
            {
                instruction: "You will hear a girl talking about her favourite type of music.",
                title: "My Favourite Music",
                questions: `<p>The girl’s favourite type of music is (14) ……………….</p><p>She likes it because it is energetic and makes her want to (15) ……………….</p><p>Her favourite band is called ‘The (16) ………………’.</p><p>She is going to see them in a (17) ……………… next month.</p><p>She is going with her best (18) ……………….</p><p>She often listens to music on her (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> pop</p><p><span class="font-semibold">15</span> dance</p><p><span class="font-semibold">16</span> Lights</p><p><span class="font-semibold">17</span> concert</p><p><span class="font-semibold">18</span> friend</p><p><span class="font-semibold">19</span> phone</p>`,
                audioscript: `<p>My favourite type of music is pop music. I love listening to the charts to hear all the latest songs. I like pop music because it’s usually very energetic and catchy, and it always makes me want to dance. My favourite band at the moment is a group called ‘The Lights’. Their songs are amazing. I’m so excited because next month, I’m going to see them live in a concert. My dad bought me tickets for my birthday. I’m going with my best friend, Sarah. We can’t wait! I listen to music all the time, usually on my phone with my headphones, especially when I’m walking to school or doing my homework.</p>`,
                theme: 'sky'
            },
            // Quiz 109
            {
                instruction: "You will hear a teacher talking about the school library.",
                title: "School Library",
                questions: `<p>The library is open every lunchtime and after (14) ……………….</p><p>There is a wide selection of fiction and non-fiction (15) ……………….</p><p>You can borrow up to four books at a (16) ……………….</p><p>Books must be returned within two (17) ……………….</p><p>There is also a section with computers for students to do their (18) ……………….</p><p>The librarian, Mrs Peters, is there to (19) ……………… students.</p>`,
                answers: `<p><span class="font-semibold">14</span> school</p><p><span class="font-semibold">15</span> books</p><p><span class="font-semibold">16</span> time</p><p><span class="font-semibold">17</span> weeks</p><p><span class="font-semibold">18</span> homework</p><p><span class="font-semibold">19</span> help</p>`,
                audioscript: `<p>I’d just like to remind everyone about our fantastic school library. The library is a wonderful resource for all students. It is open every lunchtime and also after school until 4:30 p.m. We have a huge selection of both fiction and non-fiction books, so there is something for everyone to enjoy. You can borrow up to four books at a time. The loan period is for two weeks, but you can renew your books if you haven’t finished them. As well as books, the library also has a section with computers, which you are welcome to use to do your homework or for research. Our friendly librarian, Mrs Peters, is always on hand to help you find what you’re looking for.</p>`,
                theme: 'red'
            },
            // Quiz 110
            {
                instruction: "You will hear a boy talking about his holiday job.",
                title: "My Holiday Job",
                questions: `<p>The boy is working in a hotel by the (14) ……………….</p><p>He is working as a (15) ……………….</p><p>His job involves taking food and (16) ……………… to the guests.</p><p>He says the work is tiring but the (17) ……………… are good.</p><p>He is working to save money for (18) ……………….</p><p>He thinks the experience is good for his (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> sea</p><p><span class="font-semibold">15</span> waiter</p><p><span class="font-semibold">16</span> drinks</p><p><span class="font-semibold">17</span> tips</p><p><span class="font-semibold">18</span> university</p><p><span class="font-semibold">19</span> CV</p>`,
                audioscript: `<p>This summer, I’ve got a holiday job. I’m working in a big hotel right by the sea. It’s a very popular place with tourists. I’m working as a waiter in the hotel restaurant. My job mainly involves taking food and drinks to the guests’ tables and making sure they have everything they need. It’s hard work and I’m on my feet for hours, so I’m always very tired at the end of the day. But the tips are quite good, which is a bonus. I’m trying to save as much money as I can for when I go to university next year. I also think it’s a really good experience to have on my CV, as it shows I can work hard and deal with people.</p>`,
                theme: 'blue'
            },
            // Quiz 111
            {
                instruction: "You will hear a radio announcement about a lost property.",
                title: "Lost Property",
                questions: `<p>A (14) ……………… has been found on a train.</p><p>The train was travelling from London to (15) ……………….</p><p>Inside the bag, there is a book and a pair of (16) ……………….</p><p>There is also a purse containing a small amount of (17) ……………….</p><p>There is no (18) ……………… inside the bag.</p><p>The owner should contact the lost property (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> bag</p><p><span class="font-semibold">15</span> Brighton</p><p><span class="font-semibold">16</span> glasses</p><p><span class="font-semibold">17</span> money</p><p><span class="font-semibold">18</span> identification</p><p><span class="font-semibold">19</span> office</p>`,
                audioscript: `<p>We have a lost property announcement. A black leather bag has been handed in to us. It was found on the 9:15 train from London Victoria to Brighton this morning. Inside the bag, there is a paperback book, a pair of reading glasses in a brown case, and a small purse. The purse contains a small amount of money. There is no form of identification inside the bag, so we are unable to contact the owner directly. If you think this bag might be yours, please contact the lost property office at the station. You will need to provide a full description of the contents to claim it. Thank you.</p>`,
                theme: 'green'
            },
            // Quiz 112
            {
                instruction: "You will hear a student giving a presentation about a famous artist.",
                title: "Famous Artist: Van Gogh",
                questions: `<p>The presentation is about Vincent (14) ……………….</p><p>He was a (15) ……………… artist.</p><p>He is famous for his use of bright colours and thick (16) ……………….</p><p>His most famous painting is called ‘The (17) ……………… Night’.</p><p>He was not very famous during his (18) ……………….</p><p>The student saw his paintings in a (19) ……………… in Amsterdam.</p>`,
                answers: `<p><span class="font-semibold">14</span> van Gogh</p><p><span class="font-semibold">15</span> Dutch</p><p><span class="font-semibold">16</span> paint</p><p><span class="font-semibold">17</span> Starry</p><p><span class="font-semibold">18</span> lifetime</p><p><span class="font-semibold">19</span> museum</p>`,
                audioscript: `<p>My presentation is about my favourite artist, Vincent van Gogh. Van Gogh was a Dutch artist who lived in the 19th century. He is one of the most famous painters in the world. He is known for his bold use of bright colours and applying the paint very thickly on the canvas, which gives his work a lot of texture and emotion. His most famous painting is probably ‘The Starry Night’, which he painted in 1889. Sadly, van Gogh was not very successful or famous during his lifetime. He only sold one painting while he was alive. I was lucky enough to see some of his original paintings when I visited a museum in Amsterdam last year. They were even more amazing in real life.</p>`,
                theme: 'purple'
            },
            // Quiz 113
            {
                instruction: "You will hear a headteacher talking to parents at a school meeting.",
                title: "School Meeting",
                questions: `<p>The headteacher welcomes parents to the new school (14) ……………….</p><p>He wants the school to be a happy and (15) ……………… place.</p><p>He encourages parents to get involved in the (16) ……………… association.</p><p>They are currently raising money for a new school (17) ……………….</p><p>Parents can speak to (18) ……………… after the meeting.</p><p>He thanks the parents for their (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> year</p><p><span class="font-semibold">15</span> safe</p><p><span class="font-semibold">16</span> parent-teacher</p><p><span class="font-semibold">17</span> minibus</p><p><span class="font-semibold">18</span> teachers</p><p><span class="font-semibold">19</span> support</p>`,
                audioscript: `<p>Good evening, everyone, and a very warm welcome to the start of the new school year. It’s wonderful to see so many of you here tonight. Our main aim is to ensure that this school is a happy and safe place for your children to learn and grow. We believe that a strong partnership between home and school is very important. I would like to encourage you all to get involved with our fantastic parent-teacher association. They do a brilliant job of organising events and raising money for the school. They are currently fundraising for a much-needed new school minibus. After this meeting, you will have the opportunity to go to your child’s classroom and speak to their teachers. Thank you all for your continued support.</p>`,
                theme: 'yellow'
            },
            // Quiz 114
            {
                instruction: "You will hear a boy talking about learning to play the drums.",
                title: "Learning the Drums",
                questions: `<p>The boy has been playing the drums for a (14) ……………….</p><p>He has lessons at a local (15) ……………… school.</p><p>He says the hardest thing is coordinating his hands and (16) ……………….</p><p>He practises on an (17) ……………… drum kit at home.</p><p>He is in a (18) ……………… with some of his friends.</p><p>They are going to play at the school (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> year</p><p><span class="font-semibold">15</span> music</p><p><span class="font-semibold">16</span> feet</p><p><span class="font-semibold">17</span> electronic</p><p><span class="font-semibold">18</span> band</p><p><span class="font-semibold">19</span> concert</p>`,
                audioscript: `<p>My hobby is playing the drums. I’ve been learning for about a year now. I have a lesson once a week at a local music school. My teacher is really cool. The hardest thing about playing the drums is coordinating your hands and your feet to do different things at the same time. It takes a lot of practice! I’m lucky because I have an electronic drum kit at home, so I can practise with headphones on without annoying my family or the neighbours. I’ve recently joined a band with some of my friends from school. I’m the drummer, obviously. We’re practising for our first big performance at the school concert next month. I’m a bit nervous, but very excited.</p>`,
                theme: 'red'
            },
            // Quiz 115
            {
                instruction: "You will hear a radio announcement about a local theatre.",
                title: "Theatre Announcement",
                questions: `<p>The theatre is celebrating its (14) ……………… anniversary.</p><p>There will be a special performance of the musical ‘(15) ………………’.</p><p>The show is on Saturday, 25th of (16) ……………….</p><p>After the show, there will be a party with (17) ……………… and fireworks.</p><p>Tickets are available from the theatre’s (18) ……………… office.</p><p>The theatre is a registered (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> 50th / fiftieth</p><p><span class="font-semibold">15</span> Cats</p><p><span class="font-semibold">16</span> June</p><p><span class="font-semibold">17</span> music</p><p><span class="font-semibold">18</span> box</p><p><span class="font-semibold">19</span> charity</p>`,
                audioscript: `<p>The Royal Theatre is delighted to announce a special event to celebrate its 50th anniversary. To mark this incredible milestone, there will be a one-off gala performance of the world-famous musical, ‘Cats’. This special show will take place on Saturday, the 25th of June. After the performance, all audience members are invited to join us for a party in the theatre gardens, with live music and a spectacular fireworks display. This is sure to be a night to remember. Tickets are selling fast, so to avoid disappointment, please book soon. They are available from the theatre’s box office or online. As you may know, the theatre is a registered charity, and all profits from the event will help to support our work in the community.</p>`,
                theme: 'indigo'
            },
            // Quiz 116
            {
                instruction: "You will hear a student giving a presentation about a famous landmark.",
                title: "The Eiffel Tower",
                questions: `<p>The Eiffel Tower is in (14) ………………, France.</p><p>It was built in (15) ……………….</p><p>It was designed by Gustave (16) ……………….</p><p>It is made of (17) ……………….</p><p>Millions of (18) ……………… visit it every year.</p><p>At night, it is lit up by thousands of (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> Paris</p><p><span class="font-semibold">15</span> 1889</p><p><span class="font-semibold">16</span> Eiffel</p><p><span class="font-semibold">17</span> iron</p><p><span class="font-semibold">18</span> tourists</p><p><span class="font-semibold">19</span> lights</p>`,
                audioscript: `<p>My presentation is about a very famous landmark: the Eiffel Tower. The Eiffel Tower is located in the city of Paris, in France. It was built in 1889 for the World’s Fair. It was designed by the engineer Gustave Eiffel, which is where it gets its name from. The tower is made entirely of iron and is over 300 metres tall. When it was built, it was the tallest man-made structure in the world. Today, it is one of the most recognisable landmarks on the planet. Millions of tourists visit it every year, and many of them take the elevators to the top to get an amazing view of the city. At night, the tower is lit up by thousands of sparkling lights, which is a truly beautiful sight.</p>`,
                theme: 'pink'
            },
            // Quiz 117
            {
                instruction: "You will hear a doctor giving advice on how to stay healthy.",
                title: "Staying Healthy",
                questions: `<p>It is important to eat a balanced (14) ……………….</p><p>You should eat lots of fruit and (15) ……………….</p><p>It is important to get enough (16) ……………… every night.</p><p>Regular exercise is good for your heart and (17) ……………….</p><p>You should try to reduce (18) ……………… in your life.</p><p>Remember to wash your (19) ……………… regularly.</p>`,
                answers: `<p><span class="font-semibold">14</span> diet</p><p><span class="font-semibold">15</span> vegetables</p><p><span class="font-semibold">16</span> sleep</p><p><span class="font-semibold">17</span> muscles</p><p><span class="font-semibold">18</span> stress</p><p><span class="font-semibold">19</span> hands</p>`,
                audioscript: `<p>As a doctor, I’m often asked for advice on how to stay healthy. It’s really quite simple. Firstly, it’s vital to eat a balanced diet. This means eating a variety of foods, including plenty of fresh fruit and vegetables. Secondly, make sure you get enough sleep. Most adults need around eight hours every night to feel their best. Thirdly, regular exercise is crucial. It’s not just good for your heart; it also strengthens your muscles and bones. Fourthly, try to reduce the amount of stress in your life, as it can have a negative impact on your health. Finally, one of the simplest but most effective things you can do is to wash your hands regularly with soap and water to prevent the spread of germs.</p>`,
                theme: 'gray'
            },
            // Quiz 118
            {
                instruction: "You will hear a boy leaving a message for his friend about a football practice.",
                title: "Football Practice",
                questions: `<p>Football practice is at 5 p.m. on (14) ……………….</p><p>It is at the school (15) ……………….</p><p>The coach wants to practise for the big (16) ……………… next week.</p><p>The boy reminds his friend to bring his boots and (17) ……………….</p><p>He also needs to bring a (18) ……………… bottle.</p><p>The boy’s (19) ……………… will give them a lift.</p>`,
                answers: `<p><span class="font-semibold">14</span> Wednesday</p><p><span class="font-semibold">15</span> field</p><p><span class="font-semibold">16</span> match</p><p><span class="font-semibold">17</span> shin pads</p><p><span class="font-semibold">18</span> water</p><p><span class="font-semibold">19</span> dad / father</p>`,
                audioscript: `<p>Hi Jack, it’s Leo. Just a quick message to remind you about football practice. It’s this Wednesday at 5 p.m., as usual. We’re meeting at the school field. The coach said it’s a really important session because he wants to practise some new tactics for the big match we’ve got next week. Don’t forget to bring your football boots and your shin pads. And it’s probably a good idea to bring a water bottle too, as it’s supposed to be quite warm. My dad is driving me there, and he said he can give you a lift if you like. Let me know. See you there. Bye!</p>`,
                theme: 'orange'
            },
            // Quiz 119
            {
                instruction: "You will hear a librarian talking about a summer reading challenge.",
                title: "Summer Reading Challenge",
                questions: `<p>The challenge is for children aged 4 to (14) ……………….</p><p>The aim is to read six (15) ……………… during the summer holidays.</p><p>You can read any kind of book, including comics and (16) ……………….</p><p>When you finish a book, you get a (17) ……………….</p><p>Everyone who completes the challenge gets a (18) ……………… and a certificate.</p><p>You can sign up at your local (19) ……………….</p>`,
                answers: `<p><span class="font-semibold">14</span> 11 / eleven</p><p><span class="font-semibold">15</span> books</p><p><span class="font-semibold">16</span> audiobooks</p><p><span class="font-semibold">17</span> sticker</p><p><span class="font-semibold">18</span> medal</p><p><span class="font-semibold">19</span> library</p>`,
                audioscript: `<p>Hello, and welcome to the launch of this year’s Summer Reading Challenge! The challenge is a fantastic way to keep children reading over the long summer holidays. It’s open to all children aged between 4 and 11. The aim is simple: to read six books over the summer. They can be any books you like – stories, fact books, comics, even audiobooks count! Every time you finish a book, you can come into the library and collect a special sticker. And for everyone who manages to read all six books, there’s a fantastic medal and a certificate to collect at the end. It’s completely free to take part. To sign up, just visit your local library and speak to a member of staff.</p>`,
                theme: 'teal'
            },
            // Quiz 120
            {
                instruction: "You will hear a radio announcement about a road closure.",
                title: "Road Closure",
                questions: `<p>The (14) ……………… Road will be closed next week.</p><p>The closure is for essential (15) ……………… work.</p><p>It will be closed from Monday to (16) ……………….</p><p>The road will be closed between 9 a.m. and 5 (17) ……………….</p><p>A (18) ……………… will be in place for traffic.</p><p>Drivers are advised to allow extra (19) ……………… for their journey.</p>`,
                answers: `<p><span class="font-semibold">14</span> High Street</p><p><span class="font-semibold">15</span> road</p><p><span class="font-semibold">16</span> Friday</p><p><span class="font-semibold">17</span> p.m.</p><p><span class="font-semibold">18</span> diversion</p><p><span class="font-semibold">19</span> time</p>`,
                audioscript: `<p>And here is some travel news for you. Drivers are advised that the High Street will be closed for five days next week. The closure is needed to allow for essential road repair work to take place. The road will be closed from Monday to Friday, between the hours of 9 a.m. and 5 p.m. A well-signed diversion will be in place to direct traffic around the closure. Local businesses on the High Street will remain open as usual. Drivers are advised to expect some delays in the area and to allow extra time for their journey, especially during peak hours. We thank you for your patience.</p>`,
                theme: 'cyan'
            }
        ];

        const startPage = document.getElementById('start-page');
        const quizMenu = document.getElementById('quiz-menu');
        const quizTemplate = document.getElementById('quiz-template');

        // --- Generate Menu and Quiz Containers ---
        quizData.forEach((data, index) => {
            const quizId = index + 1; // Internal ID for elements (1-30)
            const quizDisplayNum = index + 91; // Number to show the user (91-120)
            const theme = data.theme;

            // Create Menu Button
            const button = document.createElement('button');
            button.dataset.quiz = quizId;
            button.className = `quiz-select-btn text-left p-6 bg-${theme}-50 hover:bg-${theme}-100 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-${theme}-500`;
            button.innerHTML = `<h2 class="text-xl font-bold text-${theme}-800 mb-2">Quiz ${quizDisplayNum}: ${data.title}</h2><p class="text-${theme}-700">${data.instruction.substring(0,60)}...</p>`;
            quizMenu.appendChild(button);

            // Create Quiz Page from Template
            const newQuiz = quizTemplate.cloneNode(true);
            newQuiz.id = `quiz-container-${quizId}`;
            newQuiz.classList.remove('hidden'); // Make the cloned quiz visible within its wrapper
            
            const container = document.createElement('div');
            container.id = `quiz-wrapper-${quizId}`;
            container.className = 'hidden max-w-4xl mx-auto p-4 sm:p-6 md:p-8';
            container.appendChild(newQuiz);
            document.body.appendChild(container);

            // Populate content
            newQuiz.querySelector('.quiz-instruction').textContent = data.instruction;
            newQuiz.querySelector('.quiz-title').textContent = `Quiz ${quizDisplayNum}: ${data.title}`;
            newQuiz.querySelector('.quiz-questions').innerHTML = data.questions;
            newQuiz.querySelector('.answer-grid').innerHTML = data.answers;
            newQuiz.querySelector('.audioscriptText').innerHTML = data.audioscript;

            // Apply theme colors
            newQuiz.querySelector('.back-btn').classList.add(`text-${theme}-600`, `hover:text-${theme}-800`);
            const playBtn = newQuiz.querySelector('.playPauseBtn');
            playBtn.classList.add(`bg-${theme}-500`, `hover:bg-${theme}-600`, `focus:ring-${theme}-500`);
            const answerKey = newQuiz.querySelector('.answer-key');
            answerKey.classList.add(`bg-${theme}-50`, `border-${theme}-200`);
            answerKey.querySelector('h3').classList.add(`text-${theme}-800`);
            answerKey.querySelector('.answer-grid').classList.add(`text-${theme}-700`);
            newQuiz.querySelector('.toggleAnswerBtn').classList.add(`focus:ring-${theme}-500`);
        });
        quizTemplate.remove();


        const quizContainers = document.querySelectorAll('[id^="quiz-wrapper-"]');
        const quizSelectBtns = document.querySelectorAll('.quiz-select-btn');
        
        // --- Navigation ---
        quizSelectBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const quizId = btn.getAttribute('data-quiz');
                startPage.classList.add('hidden');
                document.getElementById(`quiz-wrapper-${quizId}`).classList.remove('hidden');
            });
        });

        document.querySelectorAll('.back-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                speechSynthesis.cancel();
                btn.closest('[id^="quiz-wrapper-"]').classList.add('hidden');
                startPage.classList.remove('hidden');
            });
        });

        // --- TTS Setup ---
        if (!('speechSynthesis' in window)) {
            const modal = document.createElement('div');
            modal.innerHTML = `<div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 1000;"><div style="background: white; padding: 2rem; border-radius: 0.5rem; text-align: center;"><p>Sorry, your browser doesn't support text-to-speech.</p><button onclick="this.parentElement.parentElement.remove()" style="margin-top: 1rem; padding: 0.5rem 1rem; border-radius: 0.25rem; background: #333; color: white;">Close</button></div></div>`;
            document.body.appendChild(modal);
            return;
        }

        const initQuiz = (quizId, quizDisplayNum) => {
            const container = document.getElementById(`quiz-wrapper-${quizId}`);
            if (!container) return;

            const playPauseBtn = container.querySelector('.playPauseBtn');
            const playIcon = container.querySelector('.playIcon');
            const pauseIcon = container.querySelector('.pauseIcon');
            const timerEl = container.querySelector('.timer');
            const toggleAnswerBtn = container.querySelector('.toggleAnswerBtn');
            const answerContent = container.querySelector('.answerContent');
            const chevronIcon = container.querySelector('.chevronIcon');
            const audioscriptTextEl = container.querySelector('.audioscriptText');

            let utterance = new SpeechSynthesisUtterance();
            let timerInterval;
            let seconds = 0;
            let words = [];
            let charIndexToWordMap = {};

            function prepareAudioscript() {
                const originalText = audioscriptTextEl.innerText;
                utterance.text = originalText;
                let charCount = 0;
                audioscriptTextEl.querySelectorAll('p').forEach(p => {
                    let pText = p.innerText;
                    let pWords = pText.split(/\s+/);
                    let phtml = '';
                    pWords.forEach(word => {
                        if (word.trim() === '') return;
                        const wordId = `word-${quizId}-${words.length}`;
                        words.push({ id: wordId, text: word });
                        charIndexToWordMap[charCount] = words.length - 1;
                        phtml += `<span id="${wordId}">${word}</span> `;
                        charCount += word.length + 1;
                    });
                    p.innerHTML = phtml.trim();
                });
            }

            function loadVoices() {
                let allVoices = speechSynthesis.getVoices();
                if (allVoices.length === 0) {
                    return;
                }

                // Pre-filter for US and UK English voices first.
                let usUkVoices = allVoices.filter(v => v.lang.startsWith('en-US') || v.lang.startsWith('en-GB'));
                
                // 0. Explicitly requested Microsoft voices
                const preferredVoiceNames = [
                    'Microsoft Andrew Online (Natural) - English (United States)',
                    'Microsoft Ava Online (Natural) - English (United States)',
                    'Microsoft Brian Online (Natural) - English (United States)',
                    'Microsoft Emma Online (Natural) - English (United States)'
                ];

                let preferredVoices = preferredVoiceNames.map(name => usUkVoices.find(v => v.name === name)).filter(Boolean);

                // 1. Primary Target: Other Microsoft Natural voices from the US/UK list
                let msNaturalVoices = usUkVoices.filter(v => 
                    v.name.includes('Microsoft') && 
                    v.name.includes('Natural') &&
                    !preferredVoiceNames.includes(v.name) // Exclude already selected ones
                );

                // 2. Secondary Target: Apple Premium/Enhanced voices from the US/UK list
                const isApple = /Mac|iPod|iPhone|iPad/.test(navigator.platform);
                let applePremiumVoices = [];
                if (isApple) {
                    applePremiumVoices = usUkVoices.filter(v => 
                        (v.name.includes('(Enhanced)') || v.name.includes('Premium'))
                    );
                }

                let chosenVoiceList = [...preferredVoices, ...msNaturalVoices, ...applePremiumVoices];

                if (chosenVoiceList.length > 0) {
                    // Rotate through the chosen list
                    utterance.voice = chosenVoiceList[(quizId - 1) % chosenVoiceList.length];
                } else {
                    // 3. Fallback to general high-quality voices from the US/UK list
                    utterance.voice = usUkVoices.find(v => v.name.includes('Neural')) ||
                                    usUkVoices.find(v => v.name.includes('Google')) ||
                                    usUkVoices.find(v => v.lang.startsWith('en-GB')) ||
                                    usUkVoices[0]; // Fallback to the first available US/UK voice
                }
            }

            function formatTime(sec) {
                const minutes = Math.floor(sec / 60).toString().padStart(2, '0');
                const seconds = (sec % 60).toString().padStart(2, '0');
                return `${minutes}:${seconds}`;
            }

            function resetPlayerUI() {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
                clearInterval(timerInterval);
                seconds = 0;
                timerEl.textContent = formatTime(seconds);
                const highlighted = audioscriptTextEl.querySelector('.speaking');
                if (highlighted) highlighted.classList.remove('speaking');
            }

            playPauseBtn.addEventListener('click', () => {
                loadVoices();

                if (speechSynthesis.speaking && utterance.text === audioscriptTextEl.innerText) {
                     if (speechSynthesis.paused) {
                        speechSynthesis.resume();
                     } else {
                        speechSynthesis.pause();
                     }
                } else {
                    speechSynthesis.cancel();
                    setTimeout(() => {
                        utterance.text = audioscriptTextEl.innerText;
                        speechSynthesis.speak(utterance);
                    }, 100);
                }
            });

            utterance.onstart = () => {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
                clearInterval(timerInterval);
                timerInterval = setInterval(() => { seconds++; timerEl.textContent = formatTime(seconds); }, 1000);
            };
            utterance.onpause = () => {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
                clearInterval(timerInterval);
            };
            utterance.onresume = () => {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
                 clearInterval(timerInterval);
                 timerInterval = setInterval(() => { seconds++; timerEl.textContent = formatTime(seconds); }, 1000);
            };
            utterance.onboundary = (event) => {
                if (event.name === 'word') {
                    const highlighted = audioscriptTextEl.querySelector('.speaking');
                    if (highlighted) highlighted.classList.remove('speaking');
                    
                    let wordIdx = -1;
                    let closestCharIndex = Object.keys(charIndexToWordMap).reduce((prev, curr) => (Math.abs(curr - event.charIndex) < Math.abs(prev - event.charIndex) ? curr : prev), 0);
                    wordIdx = charIndexToWordMap[closestCharIndex];
                    if (wordIdx >= 0 && wordIdx < words.length) {
                        const wordEl = document.getElementById(words[wordIdx].id);
                        if(wordEl) wordEl.classList.add('speaking');
                    }
                }
            };
            utterance.onend = () => { resetPlayerUI(); };
            toggleAnswerBtn.addEventListener('click', () => {
                if (answerContent.style.maxHeight && answerContent.style.maxHeight !== '0px') {
                    answerContent.style.maxHeight = '0px';
                    chevronIcon.classList.remove('rotate-180');
                } else {
                    answerContent.style.maxHeight = answerContent.scrollHeight + 'px';
                    chevronIcon.classList.add('rotate-180');
                }
            });
            
            prepareAudioscript();
            loadVoices();
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = loadVoices;
            }
            utterance.rate = 0.9;
        };

        quizData.forEach((data, index) => {
            const quizId = index + 1;
            const quizDisplayNum = index + 91;
            initQuiz(quizId, quizDisplayNum);
        });

        window.addEventListener('resize', () => {
            document.querySelectorAll('.accordion-content').forEach(content => {
                if (content.style.maxHeight && content.style.maxHeight !== '0px') {
                    content.style.maxHeight = content.scrollHeight + 'px';
                }
            });
        });
    });
    </script>

</body>
</html>
